C51 COMPILER V9.00   SYSTEM                                                                06/13/2020 16:27:47 PAGE 1   


C51 COMPILER V9.00, COMPILATION OF MODULE SYSTEM
OBJECT MODULE PLACED IN ..\obj\system.obj
COMPILER INVOKED BY: D:\Program Files\KEILC51\files\C51\BIN\C51.EXE ..\..\user\system.c BROWSE DEBUG OBJECTEXTEND LISTIN
                    -CLUDE SYMBOLS PRINT(.\system.lst) TABS(2) OBJECT(..\obj\system.obj)

line level    source

   1          /**
   2            ******************************************************************************
   3            * @file    
   4            * @author  
   5            * @version 
   6            * @date   
   7            * @brief    
   8            ******************************************************************************  
   9            * 
  10            * 
  11            ******************************************************************************
  12            */
  13          /*-- includes ----------------------------------------------------------------*/
  14          #include "./system.h"
   1      =1  /**
   2      =1    ******************************************************************************
   3      =1    * @file    
   4      =1    * @author  
   5      =1    * @version 
   6      =1    * @date   
   7      =1    * @brief   
   8      =1    ******************************************************************************  
   9      =1    * 
  10      =1    * 
  11      =1    ******************************************************************************
  12      =1    */
  13      =1  #ifndef    SYSTEM_H
  14      =1  #define    SYSTEM_H
  15      =1  
  16      =1  
  17      =1  /*-- includes  ---------------------------------------------------------------*/
  18      =1  #include <stdio.h>
   1      =2  /*--------------------------------------------------------------------------
   2      =2  STDIO.H
   3      =2  
   4      =2  Prototypes for standard I/O functions.
   5      =2  Copyright (c) 1988-2002 Keil Elektronik GmbH and Keil Software, Inc.
   6      =2  All rights reserved.
   7      =2  --------------------------------------------------------------------------*/
   8      =2  
   9      =2  #ifndef __STDIO_H__
  10      =2  #define __STDIO_H__
  11      =2  
  12      =2  #ifndef EOF
  13      =2   #define EOF -1
  14      =2  #endif
  15      =2  
  16      =2  #ifndef NULL
  17      =2   #define NULL ((void *) 0)
  18      =2  #endif
  19      =2  
  20      =2  #ifndef _SIZE_T
  21      =2   #define _SIZE_T
  22      =2   typedef unsigned int size_t;
C51 COMPILER V9.00   SYSTEM                                                                06/13/2020 16:27:47 PAGE 2   

  23      =2  #endif
  24      =2  
  25      =2  #pragma SAVE
  26      =2  #pragma REGPARMS
  27      =2  extern char _getkey (void);
  28      =2  extern char getchar (void);
  29      =2  extern char ungetchar (char);
  30      =2  extern char putchar (char);
  31      =2  extern int printf   (const char *, ...);
  32      =2  extern int sprintf  (char *, const char *, ...);
  33      =2  extern int vprintf  (const char *, char *);
  34      =2  extern int vsprintf (char *, const char *, char *);
  35      =2  extern char *gets (char *, int n);
  36      =2  extern int scanf (const char *, ...);
  37      =2  extern int sscanf (char *, const char *, ...);
  38      =2  extern int puts (const char *);
  39      =2  
  40      =2  #pragma RESTORE
  41      =2  
  42      =2  #endif
  43      =2  
  19      =1  #include "../includes/_sys_config.h"
   1      =2  /**
   2      =2    ******************************************************************************
   3      =2    * @file    
   4      =2    * @author  
   5      =2    * @version 
   6      =2    * @date   
   7      =2    * @brief   
   8      =2    ******************************************************************************  
   9      =2    * 
  10      =2    * 
  11      =2    ******************************************************************************
  12      =2    */
  13      =2  #ifndef    _SYS_CONFIG_H
  14      =2  #define    _SYS_CONFIG_H
  15      =2  
  16      =2  
  17      =2  /* C++ support */
  18      =2  #ifdef __cplusplus
           =2 extern "C" {
           =2 #endif
  21      =2  
  22      =2  
  23      =2  #include "./_sys_std.h"
   1      =3  /**
   2      =3    ******************************************************************************
   3      =3    * @file    
   4      =3    * @author  
   5      =3    * @version 
   6      =3    * @date   
   7      =3    * @brief   
   8      =3    ******************************************************************************  
   9      =3    * 
  10      =3    * 
  11      =3    ******************************************************************************
  12      =3    */
  13      =3  #ifndef  _SYS_STD_H
  14      =3  #define  _SYS_STD_H
  15      =3  
  16      =3  
  17      =3  /* C++支持 */
C51 COMPILER V9.00   SYSTEM                                                                06/13/2020 16:27:47 PAGE 3   

  18      =3  #ifdef __cplusplus
           =3 extern "C" {
           =3 #endif
  21      =3   
  22      =3  
  23      =3  
  24      =3  /*!< Signed integer types  */
  25      =3  typedef         signed char             s8_t;
  26      =3  typedef         signed int              s16_t;
  27      =3  typedef         signed long             s32_t;
  28      =3  
  29      =3  /*!< Unsigned integer types  */
  30      =3  typedef         unsigned char           u8_t;
  31      =3  typedef         unsigned int            u16_t;
  32      =3  typedef         unsigned long           u32_t;
  33      =3  
  34      =3  
  35      =3  #define       XDATA    xdata
  36      =3  #define       IDATA    idata
  37      =3  #define       BDATA    bdata
  38      =3  #define       DATA     data
  39      =3  #define       CODE     code
  40      =3  
  41      =3  
  42      =3  /* 把宏参数变为一个字符串 */
  43      =3  #define     _STRING(x)                  #x
  44      =3  #define     STRING(x)                   _STRING(x)
  45      =3  
  46      =3  /* 把宏参数连接在一起 */
  47      =3  #define     _CONNECT_MACRO(x,y)         x##y
  48      =3  #define     CONNECT_MACRO(x,y)          _CONNECT_MACRO(x,y)
  49      =3  
  50      =3  
  51      =3  /* 状态类型 */
  52      =3  typedef  enum
  53      =3  {
  54      =3    OPERATE_OK  = 0,
  55      =3    OPERATE_BUSY,
  56      =3    OPERATE_TIMEOUT,
  57      =3    OPERATE_FAIL,
  58      =3  }OpsStatus;
  59      =3  
  60      =3  
  61      =3  #ifndef  _IN_LINE_
  62      =3    #define  _IN_LINE_   inline
  63      =3  #endif
  64      =3  
  65      =3  #ifndef   BOOL
  66      =3    #define   BOOL      bool
  67      =3  #endif
  68      =3  
  69      =3  #ifndef   NULL
           =3   #define   NULL     (void*)0
           =3 #endif
  72      =3  
  73      =3  
  74      =3  #ifndef  TRUE
  75      =3    #define   TRUE    1
  76      =3  #endif
  77      =3  
  78      =3  #ifndef  FALSE
  79      =3    #define   FALSE    0
C51 COMPILER V9.00   SYSTEM                                                                06/13/2020 16:27:47 PAGE 4   

  80      =3  #endif
  81      =3  
  82      =3  /* 纯虚函数关键字 */
  83      =3  #ifndef   VIRTUAL
  84      =3    #define   VIRTUAL
  85      =3  #endif
  86      =3  
  87      =3  
  88      =3  
  89      =3  
  90      =3  #ifdef __cplusplus
           =3 }
           =3 #endif
  93      =3  
  94      =3  #endif    /* _SYS_STD_H */
  95      =3  
  96      =3  /*------------------ end of file ---------------------------------------------*/
  24      =2  
  25      =2  
  26      =2  /*< Configure the watchdog function.  0: disable; 1:enable. >*/
  27      =2  #define     WDT_ENABLE                                 1
  28      =2  
  29      =2  /*< Log output configuration. 0: disable; 1:enable. >*/
  30      =2  #define     LOG_ENABLE                                 1
  31      =2  
  32      =2  /*< Console configuration. 0: disable; 1:enable. >*/
  33      =2  #define     CONSOLE_ENABLE                             1
  34      =2  
  35      =2  
  36      =2  
  37      =2  
  38      =2  /* C++ support */
  39      =2  #ifdef __cplusplus
           =2 }
           =2 #endif
  42      =2  
  43      =2  
  44      =2  #endif   /* _SYS_CONFIG_H */
  45      =2  
  46      =2  /*---------------------- end of file -----------------------------------------*/
  20      =1  #include "../mcu/N76E003.h"
   1      =2  /*--------------------------------------------------------------------------
   2      =2  N76E003.H
   3      =2  
   4      =2  Header file for Nuvoton N76E003
   5      =2  --------------------------------------------------------------------------*/
   6      =2  
   7      =2  sfr P0          = 0x80;
   8      =2  sfr SP          = 0x81;
   9      =2  sfr DPL         = 0x82;
  10      =2  sfr DPH         = 0x83;
  11      =2  sfr RCTRIM0     = 0x84;
  12      =2  sfr RCTRIM1     = 0x85; 
  13      =2  sfr RWK         = 0x86;
  14      =2  sfr PCON        = 0x87;
  15      =2  
  16      =2  sfr TCON        = 0x88;
  17      =2  sfr TMOD        = 0x89;
  18      =2  sfr TL0         = 0x8A;
  19      =2  sfr TL1         = 0x8B;
  20      =2  sfr TH0         = 0x8C;
  21      =2  sfr TH1         = 0x8D;
C51 COMPILER V9.00   SYSTEM                                                                06/13/2020 16:27:47 PAGE 5   

  22      =2  sfr CKCON       = 0x8E;
  23      =2  sfr WKCON       = 0x8F;
  24      =2  
  25      =2  sfr P1          = 0x90;
  26      =2  sfr SFRS        = 0x91; //TA Protection
  27      =2  sfr CAPCON0     = 0x92;
  28      =2  sfr CAPCON1     = 0x93;
  29      =2  sfr CAPCON2     = 0x94;
  30      =2  sfr CKDIV       = 0x95;
  31      =2  sfr CKSWT       = 0x96; //TA Protection
  32      =2  sfr CKEN        = 0x97; //TA Protection
  33      =2  
  34      =2  sfr SCON        = 0x98;
  35      =2  sfr SBUF        = 0x99;
  36      =2  sfr SBUF_1      = 0x9A;
  37      =2  sfr EIE         = 0x9B;
  38      =2  sfr EIE1        = 0x9C;
  39      =2  sfr CHPCON      = 0x9F; //TA Protection
  40      =2  
  41      =2  sfr P2          = 0xA0;
  42      =2  sfr AUXR1       = 0xA2;
  43      =2  sfr BODCON0     = 0xA3; //TA Protection
  44      =2  sfr IAPTRG      = 0xA4; //TA Protection
  45      =2  sfr IAPUEN      = 0xA5; //TA Protection
  46      =2  sfr IAPAL       = 0xA6;
  47      =2  sfr IAPAH       = 0xA7;
  48      =2  
  49      =2  sfr IE          = 0xA8;
  50      =2  sfr SADDR       = 0xA9;
  51      =2  sfr WDCON       = 0xAA; //TA Protection
  52      =2  sfr BODCON1     = 0xAB; //TA Protection
  53      =2  sfr P3M1        = 0xAC;
  54      =2  sfr P3S         = 0xAC; //Page1
  55      =2  sfr P3M2        = 0xAD;
  56      =2  sfr P3SR        = 0xAD; //Page1
  57      =2  sfr IAPFD       = 0xAE;
  58      =2  sfr IAPCN       = 0xAF;
  59      =2  
  60      =2  sfr P3          = 0xB0;
  61      =2  sfr P0M1        = 0xB1;
  62      =2  sfr P0S         = 0xB1; //Page1
  63      =2  sfr P0M2        = 0xB2;
  64      =2  sfr P0SR        = 0xB2; //Page1
  65      =2  sfr P1M1        = 0xB3;
  66      =2  sfr P1S         = 0xB3; //Page1
  67      =2  sfr P1M2        = 0xB4;
  68      =2  sfr P1SR        = 0xB4; //Page1
  69      =2  sfr P2S         = 0xB5; 
  70      =2  sfr IPH         = 0xB7;
  71      =2  sfr PWMINTC     = 0xB7; //Page1
  72      =2  
  73      =2  sfr IP          = 0xB8;
  74      =2  sfr SADEN       = 0xB9;
  75      =2  sfr SADEN_1     = 0xBA;
  76      =2  sfr SADDR_1     = 0xBB;
  77      =2  sfr I2DAT       = 0xBC;
  78      =2  sfr I2STAT      = 0xBD;
  79      =2  sfr I2CLK       = 0xBE;
  80      =2  sfr I2TOC       = 0xBF;
  81      =2  
  82      =2  sfr I2CON       = 0xC0;
  83      =2  sfr I2ADDR      = 0xC1;
C51 COMPILER V9.00   SYSTEM                                                                06/13/2020 16:27:47 PAGE 6   

  84      =2  sfr ADCRL       = 0xC2;
  85      =2  sfr ADCRH       = 0xC3;
  86      =2  sfr T3CON       = 0xC4;
  87      =2  sfr PWM4H       = 0xC4; //Page1
  88      =2  sfr RL3         = 0xC5;
  89      =2  sfr PWM5H       = 0xC5; //Page1
  90      =2  sfr RH3         = 0xC6;
  91      =2  sfr PIOCON1     = 0xC6; //Page1
  92      =2  sfr TA          = 0xC7;
  93      =2  
  94      =2  sfr T2CON       = 0xC8;
  95      =2  sfr T2MOD       = 0xC9;
  96      =2  sfr RCMP2L      = 0xCA;
  97      =2  sfr RCMP2H      = 0xCB;
  98      =2  sfr TL2         = 0xCC; 
  99      =2  sfr PWM4L       = 0xCC; //Page1
 100      =2  sfr TH2         = 0xCD;
 101      =2  sfr PWM5L       = 0xCD; //Page1
 102      =2  sfr ADCMPL      = 0xCE;
 103      =2  sfr ADCMPH      = 0xCF;
 104      =2  
 105      =2  sfr PSW         = 0xD0;
 106      =2  sfr PWMPH       = 0xD1;
 107      =2  sfr PWM0H       = 0xD2;
 108      =2  sfr PWM1H       = 0xD3;
 109      =2  sfr PWM2H       = 0xD4;
 110      =2  sfr PWM3H       = 0xD5;
 111      =2  sfr PNP         = 0xD6;
 112      =2  sfr FBD         = 0xD7;
 113      =2  
 114      =2  sfr PWMCON0     = 0xD8;
 115      =2  sfr PWMPL       = 0xD9;
 116      =2  sfr PWM0L       = 0xDA;
 117      =2  sfr PWM1L       = 0xDB;
 118      =2  sfr PWM2L       = 0xDC;
 119      =2  sfr PWM3L       = 0xDD;
 120      =2  sfr PIOCON0     = 0xDE;
 121      =2  sfr PWMCON1     = 0xDF;
 122      =2  
 123      =2  sfr ACC         = 0xE0;
 124      =2  sfr ADCCON1     = 0xE1;
 125      =2  sfr ADCCON2     = 0xE2;
 126      =2  sfr ADCDLY      = 0xE3;
 127      =2  sfr C0L         = 0xE4;
 128      =2  sfr C0H         = 0xE5;
 129      =2  sfr C1L         = 0xE6;
 130      =2  sfr C1H         = 0xE7;
 131      =2  
 132      =2  sfr ADCCON0     = 0xE8;
 133      =2  sfr PICON       = 0xE9;
 134      =2  sfr PINEN       = 0xEA;
 135      =2  sfr PIPEN       = 0xEB;
 136      =2  sfr PIF         = 0xEC;
 137      =2  sfr C2L         = 0xED;
 138      =2  sfr C2H         = 0xEE;
 139      =2  sfr EIP         = 0xEF;
 140      =2  
 141      =2  sfr B           = 0xF0;
 142      =2  sfr CAPCON3     = 0xF1;
 143      =2  sfr CAPCON4     = 0xF2;
 144      =2  sfr SPCR        = 0xF3;
 145      =2  sfr SPCR2       = 0xF3; //Page1
C51 COMPILER V9.00   SYSTEM                                                                06/13/2020 16:27:47 PAGE 7   

 146      =2  sfr SPSR        = 0xF4;
 147      =2  sfr SPDR        = 0xF5;
 148      =2  sfr AINDIDS     = 0xF6;
 149      =2  sfr EIPH        = 0xF7;
 150      =2  
 151      =2  sfr SCON_1      = 0xF8;
 152      =2  sfr PDTEN       = 0xF9; //TA Protection
 153      =2  sfr PDTCNT      = 0xFA; //TA Protection
 154      =2  sfr PMEN        = 0xFB;
 155      =2  sfr PMD         = 0xFC;
 156      =2  sfr EIP1        = 0xFE;
 157      =2  sfr EIPH1       = 0xFF;
 158      =2  
 159      =2  /*  BIT Registers  */
 160      =2  /*  SCON_1  */
 161      =2  sbit SM0_1      = SCON_1^7;
 162      =2  sbit FE_1       = SCON_1^7; 
 163      =2  sbit SM1_1      = SCON_1^6; 
 164      =2  sbit SM2_1      = SCON_1^5; 
 165      =2  sbit REN_1      = SCON_1^4; 
 166      =2  sbit TB8_1      = SCON_1^3; 
 167      =2  sbit RB8_1      = SCON_1^2; 
 168      =2  sbit TI_1       = SCON_1^1; 
 169      =2  sbit RI_1       = SCON_1^0; 
 170      =2  
 171      =2  /*  ADCCON0  */
 172      =2  sbit ADCF       = ADCCON0^7;
 173      =2  sbit ADCS       = ADCCON0^6;
 174      =2  sbit ETGSEL1    = ADCCON0^5;
 175      =2  sbit ETGSEL0    = ADCCON0^4;
 176      =2  sbit ADCHS3     = ADCCON0^3;
 177      =2  sbit ADCHS2     = ADCCON0^2;
 178      =2  sbit ADCHS1     = ADCCON0^1;
 179      =2  sbit ADCHS0     = ADCCON0^0;
 180      =2  
 181      =2  /*  PWMCON0  */
 182      =2  sbit PWMRUN     = PWMCON0^7;
 183      =2  sbit LOAD       = PWMCON0^6;
 184      =2  sbit PWMF       = PWMCON0^5;
 185      =2  sbit CLRPWM     = PWMCON0^4;
 186      =2  
 187      =2  
 188      =2  /*  PSW */
 189      =2  sbit CY         = PSW^7;
 190      =2  sbit AC         = PSW^6;
 191      =2  sbit F0         = PSW^5;
 192      =2  sbit RS1        = PSW^4;
 193      =2  sbit RS0        = PSW^3;
 194      =2  sbit OV         = PSW^2;
 195      =2  sbit P          = PSW^0;
 196      =2  
 197      =2  /*  T2CON  */
 198      =2  sbit TF2        = T2CON^7;
 199      =2  sbit TR2        = T2CON^2;
 200      =2  sbit CM_RL2     = T2CON^0;
 201      =2   
 202      =2  /*  I2CON  */
 203      =2  sbit I2CEN      = I2CON^6;
 204      =2  sbit STA        = I2CON^5;
 205      =2  sbit STO        = I2CON^4;
 206      =2  sbit SI         = I2CON^3;
 207      =2  sbit AA         = I2CON^2;
C51 COMPILER V9.00   SYSTEM                                                                06/13/2020 16:27:47 PAGE 8   

 208      =2  sbit I2CPX  = I2CON^0;
 209      =2  
 210      =2  /*  IP  */  
 211      =2  sbit PADC       = IP^6;
 212      =2  sbit PBOD       = IP^5;
 213      =2  sbit PS         = IP^4;
 214      =2  sbit PT1        = IP^3;
 215      =2  sbit PX1        = IP^2;
 216      =2  sbit PT0        = IP^1;
 217      =2  sbit PX0        = IP^0;
 218      =2  
 219      =2  /*  P3  */  
 220      =2  sbit P30    = P3^0;
 221      =2  
 222      =2  
 223      =2  /*  IE  */
 224      =2  sbit EA         = IE^7;
 225      =2  sbit EADC       = IE^6;
 226      =2  sbit EBOD       = IE^5;
 227      =2  sbit ES         = IE^4;
 228      =2  sbit ET1        = IE^3;
 229      =2  sbit EX1        = IE^2;
 230      =2  sbit ET0        = IE^1;
 231      =2  sbit EX0        = IE^0;
 232      =2  
 233      =2  /*  P2  */ 
 234      =2  sbit P20        = P2^0;
 235      =2  
 236      =2  /*  SCON  */
 237      =2  sbit SM0        = SCON^7;
 238      =2  sbit FE         = SCON^7; 
 239      =2  sbit SM1        = SCON^6; 
 240      =2  sbit SM2        = SCON^5; 
 241      =2  sbit REN        = SCON^4; 
 242      =2  sbit TB8        = SCON^3; 
 243      =2  sbit RB8        = SCON^2; 
 244      =2  sbit TI         = SCON^1; 
 245      =2  sbit RI         = SCON^0; 
 246      =2  
 247      =2  /*  P1  */     
 248      =2  sbit P17  = P1^7;
 249      =2  sbit P16  = P1^6;
 250      =2  sbit TXD_1  = P1^6; 
 251      =2  sbit P15  = P1^5;
 252      =2  sbit P14  = P1^4;
 253      =2  sbit SDA  = P1^4;    
 254      =2  sbit P13  = P1^3;
 255      =2  sbit SCL  = P1^3;  
 256      =2  sbit P12        = P1^2; 
 257      =2  sbit P11        = P1^1;
 258      =2  sbit P10        = P1^0;
 259      =2  
 260      =2  /*  TCON  */
 261      =2  sbit TF1        = TCON^7;
 262      =2  sbit TR1        = TCON^6;
 263      =2  sbit TF0        = TCON^5;
 264      =2  sbit TR0        = TCON^4;
 265      =2  sbit IE1        = TCON^3;
 266      =2  sbit IT1        = TCON^2;
 267      =2  sbit IE0        = TCON^1;
 268      =2  sbit IT0        = TCON^0;
 269      =2  
C51 COMPILER V9.00   SYSTEM                                                                06/13/2020 16:27:47 PAGE 9   

 270      =2  /*  P0  */  
 271      =2  
 272      =2  sbit P07        = P0^7;
 273      =2  sbit RXD        = P0^7;
 274      =2  sbit P06        = P0^6;
 275      =2  sbit TXD        = P0^6;
 276      =2  sbit P05        = P0^5;
 277      =2  sbit P04        = P0^4;
 278      =2  sbit STADC        = P0^4;
 279      =2  sbit P03        = P0^3;
 280      =2  sbit P02        = P0^2;
 281      =2  sbit RXD_1        = P0^2;
 282      =2  sbit P01        = P0^1;
 283      =2  sbit MISO       = P0^1;
 284      =2  sbit P00        = P0^0;
 285      =2  sbit MOSI       = P0^0;
 286      =2  
 287      =2  
 288      =2  
 289      =2  
 290      =2  
 291      =2  
 292      =2  
 293      =2  
 294      =2  
 295      =2  
 296      =2  
 297      =2  
 298      =2  
 299      =2  
 300      =2  
 301      =2  
 302      =2  
 303      =2  
 304      =2  
  21      =1  #include "../mcu/SFR_Macro.h"
   1      =2  
   2      =2  /**** P0    80H *****/
   3      =2  #define set_P00     P00   =   1
   4      =2  #define set_P01     P01   =   1
   5      =2  #define set_P02     P02   =   1
   6      =2  #define set_P03     P03   =   1
   7      =2  #define set_P04     P04   =   1
   8      =2  #define set_P05     P05   =   1
   9      =2  #define set_P06     P06   =   1
  10      =2  #define set_P07     P07   =   1
  11      =2  
  12      =2  #define clr_P00     P00   =   0
  13      =2  #define clr_P01     P01   =   0
  14      =2  #define clr_P02     P02   =   0
  15      =2  #define clr_P03     P03   =   0
  16      =2  #define clr_P04     P04   =   0
  17      =2  #define clr_P05     P05   =   0
  18      =2  #define clr_P06     P06   =   0
  19      =2  #define clr_P07     P07   =   0
  20      =2  
  21      =2  //**** SP   81H **** 
  22      =2  //**** DPH  82H **** 
  23      =2  //**** DPL  83H **** 
  24      =2  //**** RWK  86H **** 
  25      =2  
  26      =2  //**** PCON 87H *****
C51 COMPILER V9.00   SYSTEM                                                                06/13/2020 16:27:47 PAGE 10  

  27      =2  #define set_SMOD    PCON    |= SET_BIT7
  28      =2  #define set_SMOD0   PCON    |= SET_BIT6
  29      =2  #define set_POF     PCON    |= SET_BIT4
  30      =2  #define set_GF1     PCON    |= SET_BIT3
  31      =2  #define set_GF0     PCON    |= SET_BIT2 
  32      =2  #define set_PD      PCON    |= SET_BIT1
  33      =2  #define set_IDL     PCON    |= SET_BIT0
  34      =2                              
  35      =2  #define clr_SMOD    PCON    &= ~SET_BIT7
  36      =2  #define clr_SMOD0   PCON    &= ~SET_BIT6
  37      =2  #define clr_POF     PCON    &= ~SET_BIT4
  38      =2  #define clr_GF1     PCON    &= ~SET_BIT3
  39      =2  #define clr_GF0     PCON    &= ~SET_BIT2 
  40      =2  #define clr_PD      PCON    &= ~SET_BIT1
  41      =2  #define clr_IDL     PCON    &= ~SET_BIT0
  42      =2  
  43      =2  /**** TCON    88H ****/
  44      =2  #define set_TF1     TF1   =   1
  45      =2  #define set_TR1     TR1   =   1
  46      =2  #define set_TF0     TF0   =   1
  47      =2  #define set_TR0     TR0   =   1
  48      =2  #define set_IE1     IE1   =   1
  49      =2  #define set_IT1     IT1   =   1
  50      =2  #define set_IE0     IE0   =   1
  51      =2  #define set_IT0     IT0   =   1
  52      =2  
  53      =2  #define clr_TF1     TF1   =   0
  54      =2  #define clr_TR1     TR1   =   0
  55      =2  #define clr_TF0     TF0   =   0
  56      =2  #define clr_TR0     TR0   =   0
  57      =2  #define clr_IE1     IE1   =   0
  58      =2  #define clr_IT1     IT1   =   0
  59      =2  #define clr_IE0     IE0   =   0
  60      =2  #define clr_IT0     IT0   =   0
  61      =2  
  62      =2  //**** TMOD   89H **** 
  63      =2  #define set_GATE_T1   TMOD    |=  SET_BIT7
  64      =2  #define set_CT_T1     TMOD    |=  SET_BIT6
  65      =2  #define set_M1_T1     TMOD    |=  SET_BIT5
  66      =2  #define set_M0_T1     TMOD    |=  SET_BIT4
  67      =2  #define set_GATE_T0   TMOD    |=  SET_BIT3
  68      =2  #define set_CT_T0     TMOD    |=  SET_BIT2
  69      =2  #define set_M1_T0     TMOD    |=  SET_BIT1
  70      =2  #define set_M0_T0     TMOD    |=  SET_BIT0
  71      =2                              
  72      =2  #define clr_GATE_T1   TMOD    &=  ~SET_BIT7
  73      =2  #define clr_CT_T1     TMOD    &=  ~SET_BIT6
  74      =2  #define clr_M1_T1     TMOD    &=  ~SET_BIT5
  75      =2  #define clr_M0_T1     TMOD    &=  ~SET_BIT4
  76      =2  #define clr_GATE_T0   TMOD    &=  ~SET_BIT3
  77      =2  #define clr_CT_T0     TMOD    &=  ~SET_BIT2
  78      =2  #define clr_M1_T0     TMOD    &=  ~SET_BIT1
  79      =2  #define clr_M0_T0     TMOD    &=  ~SET_BIT0
  80      =2  
  81      =2  //**** TH1    8AH **** 
  82      =2  //**** TH0    8BH **** 
  83      =2  //**** TL1    8CH **** 
  84      =2  //**** TL0    8DH **** 
  85      =2  
  86      =2  //**** CKCON  8EH ****
  87      =2  #define set_PWMCKS  CKCON   |= SET_BIT6
  88      =2  #define set_T1M     CKCON   |= SET_BIT4
C51 COMPILER V9.00   SYSTEM                                                                06/13/2020 16:27:47 PAGE 11  

  89      =2  #define set_T0M     CKCON   |= SET_BIT3
  90      =2  #define set_CLOEN   CKCON   |= SET_BIT1
  91      =2                              
  92      =2  #define clr_PWMCKS  CKCON   &= ~SET_BIT6
  93      =2  #define clr_T1M     CKCON   &= ~SET_BIT4
  94      =2  #define clr_T0M     CKCON   &= ~SET_BIT3
  95      =2  #define clr_CLOEN   CKCON   &= ~SET_BIT1
  96      =2  
  97      =2  //**** WKCON  8FH ****
  98      =2  #define set_WKTCK   WKCON   |= SET_BIT5
  99      =2  #define set_WKTF    WKCON   |= SET_BIT4
 100      =2  #define set_WKTR    WKCON   |= SET_BIT3
 101      =2  #define set_WKPS2   WKCON   |= SET_BIT2
 102      =2  #define set_WKPS1   WKCON   |= SET_BIT1
 103      =2  #define set_WKPS0   WKCON   |= SET_BIT0
 104      =2                              
 105      =2  #define clr_WKTCK   WKCON   &= ~SET_BIT5
 106      =2  #define clr_WKTF    WKCON   &= ~SET_BIT4
 107      =2  #define clr_WKTR    WKCON   &= ~SET_BIT3
 108      =2  #define clr_WKPS2   WKCON   &= ~SET_BIT2
 109      =2  #define clr_WKPS1   WKCON   &= ~SET_BIT1
 110      =2  #define clr_WKPS0   WKCON   &= ~SET_BIT0
 111      =2  
 112      =2  /**** P1    90H *****/
 113      =2  #define set_P10     P10   =   1
 114      =2  #define set_P11     P11   =   1
 115      =2  #define set_P12     P12   =   1
 116      =2  #define set_P13     P13   =   1
 117      =2  #define set_P14     P14   =   1
 118      =2  #define set_P15     P15   =   1
 119      =2  #define set_P16     P16   =   1
 120      =2  #define set_P17     P17   =   1
 121      =2  
 122      =2  #define clr_P10     P10   =   0
 123      =2  #define clr_P11     P11   =   0
 124      =2  #define clr_P12     P12   =   0
 125      =2  #define clr_P13     P13   =   0
 126      =2  #define clr_P14     P14   =   0
 127      =2  #define clr_P15     P15   =   0
 128      =2  #define clr_P16     P16   =   0
 129      =2  #define clr_P17     P17   =   0
 130      =2  
 131      =2  //****SFRS    91H ****
 132      =2  #define set_SFRPAGE  BIT_TMP=EA;EA=0;TA=0xAA;TA=0x55;SFRS|=SET_BIT0;EA=BIT_TMP
 133      =2  #define clr_SFRPAGE  BIT_TMP=EA;EA=0;TA=0xAA;TA=0x55;SFRS&=~SET_BIT0;EA=BIT_TMP
 134      =2  
 135      =2  //****CAPCON0 92H ****
 136      =2  #define set_CAPEN2  CAPCON0 |= SET_BIT6
 137      =2  #define set_CAPEN1  CAPCON0 |= SET_BIT5
 138      =2  #define set_CAPEN0  CAPCON0 |= SET_BIT4
 139      =2  #define set_CAPF2   CAPCON0 |= SET_BIT2
 140      =2  #define set_CAPF1   CAPCON0 |= SET_BIT1
 141      =2  #define set_CAPF0   CAPCON0 |= SET_BIT0
 142      =2  
 143      =2  #define clr_CAPEN2  CAPCON0 &= ~SET_BIT6
 144      =2  #define clr_CAPEN1  CAPCON0 &= ~SET_BIT5
 145      =2  #define clr_CAPEN0  CAPCON0 &= ~SET_BIT4
 146      =2  #define clr_CAPF2   CAPCON0 &= ~SET_BIT2
 147      =2  #define clr_CAPF1   CAPCON0 &= ~SET_BIT1
 148      =2  #define clr_CAPF0   CAPCON0 &= ~SET_BIT0
 149      =2  
 150      =2  //**** CAPCON1  93H ****
C51 COMPILER V9.00   SYSTEM                                                                06/13/2020 16:27:47 PAGE 12  

 151      =2  #define set_CAP2LS1 CAPCON1 |= SET_BIT5
 152      =2  #define set_CAP2LS0 CAPCON1 |= SET_BIT4
 153      =2  #define set_CAP1LS1 CAPCON1 |= SET_BIT3
 154      =2  #define set_CAP1LS0 CAPCON1 |= SET_BIT2
 155      =2  #define set_CAP0LS1 CAPCON1 |= SET_BIT1
 156      =2  #define set_CAP0LS0 CAPCON1 |= SET_BIT0
 157      =2  
 158      =2  #define clr_CAP2LS1 CAPCON1 &= ~SET_BIT5
 159      =2  #define clr_CAP2LS0 CAPCON1 &= ~SET_BIT4
 160      =2  #define clr_CAP1LS1 CAPCON1 &= ~SET_BIT3
 161      =2  #define clr_CAP1LS0 CAPCON1 &= ~SET_BIT2
 162      =2  #define clr_CAP0LS1 CAPCON1 &= ~SET_BIT1
 163      =2  #define clr_CAP0LS0 CAPCON1 &= ~SET_BIT0
 164      =2  
 165      =2  //**** CAPCON2    94H ****
 166      =2  #define set_ENF2  CAPCON2   |= SET_BIT6
 167      =2  #define set_ENF1  CAPCON2   |= SET_BIT5
 168      =2  #define set_ENF0  CAPCON2   |= SET_BIT4
 169      =2                              
 170      =2  #define clr_ENF2  CAPCON2   &= ~SET_BIT6
 171      =2  #define clr_ENF1  CAPCON2   &= ~SET_BIT5
 172      =2  #define clr_ENF0  CAPCON2   &= ~SET_BIT4
 173      =2  
 174      =2  //**** CKDIV    95H ****
 175      =2  
 176      =2  //**** CKSWT    96H ****  TA protect register
 177      =2  #define set_HIRCST  BIT_TMP=EA;EA=0;TA=0xAA;TA=0x55;CKSWT|=SET_BIT5;EA=BIT_TMP;
 178      =2  #define set_LIRCST  BIT_TMP=EA;EA=0;TA=0xAA;TA=0x55;CKSWT|=SET_BIT4;EA=BIT_TMP;
 179      =2  #define set_ECLKST  BIT_TMP=EA;EA=0;TA=0xAA;TA=0x55;CKSWT|=SET_BIT3;EA=BIT_TMP;
 180      =2  #define set_OSC1    BIT_TMP=EA;EA=0;TA=0xAA;TA=0x55;CKSWT|=SET_BIT2;EA=BIT_TMP;
 181      =2  #define set_OSC0    BIT_TMP=EA;EA=0;TA=0xAA;TA=0x55;CKSWT|=SET_BIT1;EA=BIT_TMP;
 182      =2  
 183      =2  #define clr_HIRCST  BIT_TMP=EA;EA=0;TA=0xAA;TA=0x55;CKSWT&=~SET_BIT5;EA=BIT_TMP;
 184      =2  #define clr_LIRCST  BIT_TMP=EA;EA=0;TA=0xAA;TA=0x55;CKSWT&=~SET_BIT4;EA=BIT_TMP;
 185      =2  #define clr_ECLKST  BIT_TMP=EA;EA=0;TA=0xAA;TA=0x55;CKSWT&=~SET_BIT3;EA=BIT_TMP;
 186      =2  #define clr_OSC1    BIT_TMP=EA;EA=0;TA=0xAA;TA=0x55;CKSWT&=~SET_BIT2;EA=BIT_TMP;
 187      =2  #define clr_OSC0    BIT_TMP=EA;EA=0;TA=0xAA;TA=0x55;CKSWT&=~SET_BIT1;EA=BIT_TMP;
 188      =2  
 189      =2  //**** CKEN   97H **** TA protect register
 190      =2  #define set_EXTEN1  BIT_TMP=EA;EA=0;TA=0xAA;TA=0x55;CKEN|=SET_BIT7;EA=BIT_TMP;
 191      =2  #define set_EXTEN0  BIT_TMP=EA;EA=0;TA=0xAA;TA=0x55;CKEN|=SET_BIT6;EA=BIT_TMP;
 192      =2  #define set_HIRCEN  BIT_TMP=EA;EA=0;TA=0xAA;TA=0x55;CKEN|=SET_BIT5;EA=BIT_TMP;
 193      =2  #define set_CKSWTF  BIT_TMP=EA;EA=0;TA=0xAA;TA=0x55;CKEN|=SET_BIT0;EA=BIT_TMP;
 194      =2         
 195      =2  #define clr_EXTEN1  BIT_TMP=EA;EA=0;TA=0xAA;TA=0x55;CKEN&=~SET_BIT7;EA=BIT_TMP;
 196      =2  #define clr_EXTEN0  BIT_TMP=EA;EA=0;TA=0xAA;TA=0x55;CKEN&=~SET_BIT6;EA=BIT_TMP;
 197      =2  #define clr_HIRCEN  BIT_TMP=EA;EA=0;TA=0xAA;TA=0x55;CKEN&=~SET_BIT5;EA=BIT_TMP;
 198      =2  #define clr_CKSWTF  BIT_TMP=EA;EA=0;TA=0xAA;TA=0x55;CKEN&=~SET_BIT0;EA=BIT_TMP;
 199      =2  
 200      =2  //**** SCON   98H ****
 201      =2  #define set_FE      FE    = 1
 202      =2  #define set_SM1     SM1   = 1
 203      =2  #define set_SM2     SM2   = 1
 204      =2  #define set_REN     REN   = 1
 205      =2  #define set_TB8     TB8   = 1
 206      =2  #define set_RB8     RB8   = 1
 207      =2  #define set_TI      TI    = 1
 208      =2  #define set_RI      RI    = 1
 209      =2  
 210      =2  #define clr_FE      FE    = 0
 211      =2  #define clr_SM1     SM1   = 0
 212      =2  #define clr_SM2     SM2   = 0
C51 COMPILER V9.00   SYSTEM                                                                06/13/2020 16:27:47 PAGE 13  

 213      =2  #define clr_REN     REN   = 0
 214      =2  #define clr_TB8     TB8   = 0
 215      =2  #define clr_RB8     RB8   = 0
 216      =2  #define clr_TI      TI    = 0
 217      =2  #define clr_RI      RI    = 0
 218      =2  
 219      =2  //**** SBUF   99H ****
 220      =2  //**** SBUF_1 9AH ****
 221      =2  
 222      =2  //**** EIE    9BH ****                      
 223      =2  #define set_ET2     EIE     |= SET_BIT7
 224      =2  #define set_ESPI    EIE     |= SET_BIT6
 225      =2  #define set_EFB     EIE     |= SET_BIT5
 226      =2  #define set_EWDT    EIE     |= SET_BIT4
 227      =2  #define set_EPWM    EIE     |= SET_BIT3
 228      =2  #define set_ECAP    EIE     |= SET_BIT2
 229      =2  #define set_EPI     EIE     |= SET_BIT1
 230      =2  #define set_EI2C    EIE     |= SET_BIT0
 231      =2                              
 232      =2  #define clr_ET2     EIE     &= ~SET_BIT7
 233      =2  #define clr_ESPI    EIE     &= ~SET_BIT6
 234      =2  #define clr_EFB     EIE     &= ~SET_BIT5
 235      =2  #define clr_EWDT    EIE     &= ~SET_BIT4
 236      =2  #define clr_EPWM    EIE     &= ~SET_BIT3
 237      =2  #define clr_ECAP    EIE     &= ~SET_BIT2
 238      =2  #define clr_EPI     EIE     &= ~SET_BIT1
 239      =2  #define clr_EI2C    EIE     &= ~SET_BIT0
 240      =2  
 241      =2  //**** EIE1   9CH ****                      
 242      =2  #define set_EWKT    EIE1    |= SET_BIT2
 243      =2  #define set_ET3     EIE1    |= SET_BIT1
 244      =2  #define set_ES_1    EIE1    |= SET_BIT0
 245      =2                              
 246      =2  #define clr_EWKT    EIE1    &= ~SET_BIT2
 247      =2  #define clr_ET3     EIE1    &= ~SET_BIT1
 248      =2  #define clr_ES_1    EIE1    &= ~SET_BIT0
 249      =2                              
 250      =2  //**** CHPCON   9DH ****  TA protect register
 251      =2  #define set_SWRST   BIT_TMP=EA;EA=0;TA=0xAA;TA=0x55;CHPCON|=SET_BIT7 ;EA=BIT_TMP
 252      =2  #define set_IAPFF   BIT_TMP=EA;EA=0;TA=0xAA;TA=0x55;CHPCON|=SET_BIT6 ;EA=BIT_TMP
 253      =2  #define set_BS      BIT_TMP=EA;EA=0;TA=0xAA;TA=0x55;CHPCON|=SET_BIT1 ;EA=BIT_TMP
 254      =2  #define set_IAPEN   BIT_TMP=EA;EA=0;TA=0xAA;TA=0x55;CHPCON|=SET_BIT0 ;EA=BIT_TMP
 255      =2         
 256      =2  #define clr_SWRST   BIT_TMP=EA;EA=0;TA=0xAA;TA=0x55;CHPCON&=~SET_BIT7;EA=BIT_TMP
 257      =2  #define clr_IAPFF   BIT_TMP=EA;EA=0;TA=0xAA;TA=0x55;CHPCON&=~SET_BIT6;EA=BIT_TMP
 258      =2  #define clr_BS      BIT_TMP=EA;EA=0;TA=0xAA;TA=0x55;CHPCON&=~SET_BIT1;EA=BIT_TMP
 259      =2  #define clr_IAPEN   BIT_TMP=EA;EA=0;TA=0xAA;TA=0x55;CHPCON&=~SET_BIT0;EA=BIT_TMP
 260      =2  
 261      =2  //**** P2   A0H ****
 262      =2  
 263      =2  //**** AUXR1  A2H ****
 264      =2  #define set_SWRF    AUXR1   |= SET_BIT7
 265      =2  #define set_RSTPINF AUXR1   |= SET_BIT6
 266      =2  #define set_HARDF   AUXR1   |= SET_BIT5
 267      =2  #define set_GF2     AUXR1   |= SET_BIT3
 268      =2  #define set_UART0PX AUXR1   |= SET_BIT2
 269      =2  #define set_DPS     AUXR1   |= SET_BIT0
 270      =2                              
 271      =2  #define clr_SWRF    AUXR1   &= ~SET_BIT7
 272      =2  #define clr_RSTPINF AUXR1   &= ~SET_BIT6
 273      =2  #define clr_HARDF   AUXR1   &= ~SET_BIT5
 274      =2  #define clr_GF2     AUXR1   &= ~SET_BIT3
C51 COMPILER V9.00   SYSTEM                                                                06/13/2020 16:27:47 PAGE 14  

 275      =2  #define clr_UART0PX AUXR1   &= ~SET_BIT2
 276      =2  #define clr_DPS     AUXR1   &= ~SET_BIT0
 277      =2  
 278      =2  //**** BODCON0  A3H ****  TA protect register
 279      =2  #define set_BODEN   BIT_TMP=EA;EA=0;TA=0xAA;TA=0x55;BODCON0|=SET_BIT7;EA=BIT_TMP
 280      =2  #define set_BOV1    BIT_TMP=EA;EA=0;TA=0xAA;TA=0x55;BODCON0|=SET_BIT5;EA=BIT_TMP
 281      =2  #define set_BOV0    BIT_TMP=EA;EA=0;TA=0xAA;TA=0x55;BODCON0|=SET_BIT4;EA=BIT_TMP
 282      =2  #define set_BOF     BIT_TMP=EA;EA=0;TA=0xAA;TA=0x55;BODCON0|=SET_BIT3;EA=BIT_TMP
 283      =2  #define set_BORST   BIT_TMP=EA;EA=0;TA=0xAA;TA=0x55;BODCON0|=SET_BIT2;EA=BIT_TMP
 284      =2  #define set_BORF    BIT_TMP=EA;EA=0;TA=0xAA;TA=0x55;BODCON0|=SET_BIT1;EA=BIT_TMP
 285      =2  #define set_BOS     BIT_TMP=EA;EA=0;TA=0xAA;TA=0x55;BODCON0|=SET_BIT0;EA=BIT_TMP
 286      =2  
 287      =2  #define clr_BODEN   BIT_TMP=EA;EA=0;TA=0xAA;TA=0x55;BODCON0&=~SET_BIT7;EA=BIT_TMP
 288      =2  #define clr_BOV2    BIT_TMP=EA;EA=0;TA=0xAA;TA=0x55;BODCON0&=~SET_BIT6;EA=BIT_TMP
 289      =2  #define clr_BOV1    BIT_TMP=EA;EA=0;TA=0xAA;TA=0x55;BODCON0&=~SET_BIT5;EA=BIT_TMP
 290      =2  #define clr_BOV0    BIT_TMP=EA;EA=0;TA=0xAA;TA=0x55;BODCON0&=~SET_BIT4;EA=BIT_TMP
 291      =2  #define clr_BOF     BIT_TMP=EA;EA=0;TA=0xAA;TA=0x55;BODCON0&=~SET_BIT3;EA=BIT_TMP
 292      =2  #define clr_BORST   BIT_TMP=EA;EA=0;TA=0xAA;TA=0x55;BODCON0&=~SET_BIT2;EA=BIT_TMP
 293      =2  #define clr_BORF    BIT_TMP=EA;EA=0;TA=0xAA;TA=0x55;BODCON0&=~SET_BIT1;EA=BIT_TMP
 294      =2  #define clr_BOS     BIT_TMP=EA;EA=0;TA=0xAA;TA=0x55;BODCON0&=~SET_BIT0;EA=BIT_TMP
 295      =2  
 296      =2  //**** IAPTRG   A4H ****  TA protect register
 297      =2  #define set_IAPGO   BIT_TMP=EA;EA=0;TA=0xAA;TA=0x55;IAPTRG|=SET_BIT0 ;EA=BIT_TMP
 298      =2  #define clr_IAPGO   BIT_TMP=EA;EA=0;TA=0xAA;TA=0x55;IAPTRG&=~SET_BIT0;EA=BIT_TMP
 299      =2  
 300      =2  //**** IAPUEN   A5H **** TA protect register
 301      =2  #define set_CFUEN   BIT_TMP=EA;EA=0;TA=0xAA;TA=0x55;IAPUEN|=SET_BIT2;EA=BIT_TMP
 302      =2  #define set_LDUEN   BIT_TMP=EA;EA=0;TA=0xAA;TA=0x55;IAPUEN|=SET_BIT1;EA=BIT_TMP
 303      =2  #define set_APUEN   BIT_TMP=EA;EA=0;TA=0xAA;TA=0x55;IAPUEN|=SET_BIT0;EA=BIT_TMP
 304      =2  
 305      =2  #define clr_CFUEN   BIT_TMP=EA;EA=0;TA=0xAA;TA=0x55;IAPUEN&=~SET_BIT2;EA=BIT_TMP
 306      =2  #define clr_LDUEN   BIT_TMP=EA;EA=0;TA=0xAA;TA=0x55;IAPUEN&=~SET_BIT1;EA=BIT_TMP
 307      =2  #define clr_APUEN   BIT_TMP=EA;EA=0;TA=0xAA;TA=0x55;IAPUEN&=~SET_BIT0;EA=BIT_TMP
 308      =2  
 309      =2  //**** IAPAL  A6H ****
 310      =2  //**** IAPAH  A7H ****
 311      =2  
 312      =2  //**** IE     A8H ****
 313      =2  #define set_EA      EA       = 1
 314      =2  #define set_EADC    EADC     = 1
 315      =2  #define set_EBOD    EBOD     = 1
 316      =2  #define set_ES      ES       = 1
 317      =2  #define set_ET1     ET1      = 1
 318      =2  #define set_EX1     EX1      = 1
 319      =2  #define set_ET0     ET0      = 1
 320      =2  #define set_EX0     EX0      = 1
 321      =2  
 322      =2  #define clr_EA      EA       = 0
 323      =2  #define clr_EADC    EADC     = 0
 324      =2  #define clr_EBOD    EBOD     = 0
 325      =2  #define clr_ES      ES       = 0
 326      =2  #define clr_ET1     ET1      = 0
 327      =2  #define clr_EX1     EX1      = 0
 328      =2  #define clr_ET0     ET0      = 0
 329      =2  #define clr_EX0     EX0      = 0
 330      =2  
 331      =2  //**** SADDR    A9H ****
 332      =2  
 333      =2  //**** WDCON    AAH **** TA protect register
 334      =2  #define set_WDTR    BIT_TMP=EA;EA=0;TA=0xAA;TA=0x55;WDCON|=SET_BIT7;EA=BIT_TMP;
 335      =2  #define set_WDCLR   BIT_TMP=EA;EA=0;TA=0xAA;TA=0x55;WDCON|=SET_BIT6;EA=BIT_TMP;
 336      =2  #define set_WDTF    BIT_TMP=EA;EA=0;TA=0xAA;TA=0x55;WDCON|=SET_BIT5;EA=BIT_TMP;
C51 COMPILER V9.00   SYSTEM                                                                06/13/2020 16:27:47 PAGE 15  

 337      =2  #define set_WIDPD   BIT_TMP=EA;EA=0;TA=0xAA;TA=0x55;WDCON|=SET_BIT4;EA=BIT_TMP;
 338      =2  #define set_WDTRF   BIT_TMP=EA;EA=0;TA=0xAA;TA=0x55;WDCON|=SET_BIT3;EA=BIT_TMP;
 339      =2  #define set_WPS2    BIT_TMP=EA;EA=0;TA=0xAA;TA=0x55;WDCON|=SET_BIT2;EA=BIT_TMP;
 340      =2  #define set_WPS1    BIT_TMP=EA;EA=0;TA=0xAA;TA=0x55;WDCON|=SET_BIT1;EA=BIT_TMP;
 341      =2  #define set_WPS0    BIT_TMP=EA;EA=0;TA=0xAA;TA=0x55;WDCON|=SET_BIT0;EA=BIT_TMP;
 342      =2          
 343      =2  #define clr_WDTEN   BIT_TMP=EA;EA=0;TA=0xAA;TA=0x55;WDCON&=~SET_BIT7;EA=BIT_TMP;
 344      =2  #define clr_WDCLR   BIT_TMP=EA;EA=0;TA=0xAA;TA=0x55;WDCON&=~SET_BIT6;EA=BIT_TMP;
 345      =2  #define clr_WDTF    BIT_TMP=EA;EA=0;TA=0xAA;TA=0x55;WDCON&=~SET_BIT5;EA=BIT_TMP;
 346      =2  #define clr_WDTRF   BIT_TMP=EA;EA=0;TA=0xAA;TA=0x55;WDCON&=~SET_BIT3;EA=BIT_TMP;
 347      =2  #define clr_WPS2    BIT_TMP=EA;EA=0;TA=0xAA;TA=0x55;WDCON&=~SET_BIT2;EA=BIT_TMP;
 348      =2  #define clr_WPS1    BIT_TMP=EA;EA=0;TA=0xAA;TA=0x55;WDCON&=~SET_BIT1;EA=BIT_TMP;
 349      =2  #define clr_WPS0    BIT_TMP=EA;EA=0;TA=0xAA;TA=0x55;WDCON&=~SET_BIT0;EA=BIT_TMP;
 350      =2  
 351      =2  //**** BODCON1 ABH **** TA protect register
 352      =2  #define set_LPBOD1  BIT_TMP=EA;EA=0;TA=0xAA;TA=0x55;BODCON1|=SET_BIT2 ;EA=BIT_TMP;
 353      =2  #define set_LPBOD0  BIT_TMP=EA;EA=0;TA=0xAA;TA=0x55;BODCON1|=SET_BIT1 ;EA=BIT_TMP;
 354      =2  #define set_BODFLT  BIT_TMP=EA;EA=0;TA=0xAA;TA=0x55;BODCON1|=SET_BIT0 ;EA=BIT_TMP;
 355      =2          
 356      =2  #define clr_LPBOD1  BIT_TMP=EA;EA=0;TA=0xAA;TA=0x55;BODCON1&=~SET_BIT2;EA=BIT_TMP;
 357      =2  #define clr_LPBOD0  BIT_TMP=EA;EA=0;TA=0xAA;TA=0x55;BODCON1&=~SET_BIT1;EA=BIT_TMP;
 358      =2  #define clr_BODFLT  BIT_TMP=EA;EA=0;TA=0xAA;TA=0x55;BODCON1&=~SET_BIT0;EA=BIT_TMP;
 359      =2  
 360      =2  
 361      =2  //**** P3M1   ACH PAGE0 ****
 362      =2  #define set_P3M1_0  P3M1    |= SET_BIT0
 363      =2  #define clr_P3M1_0  P3M1    &= ~SET_BIT0
 364      =2  
 365      =2  //**** P3S    ACH PAGE1 **** SFRS must set as 1 to modify this register  
 366      =2  #define set_P3S_0   BIT_TMP=EA;TA=0xAA;TA=0x55;SFRS=0x01;P3S|=SET_BIT0;TA=0xAA;TA=0x55;SFRS=0x00;EA=BIT_TM
             -P
 367      =2  #define clr_P3S_0   BIT_TMP=EA;TA=0xAA;TA=0x55;SFRS=0x01;P3S&=~SET_BIT0;TA=0xAA;TA=0x55;SFRS=0x00;EA=BIT_T
             -MP
 368      =2  
 369      =2  //**** P3M2   ADH PAGE0 ****
 370      =2  #define set_P3M2_0  P3M2    |= SET_BIT0
 371      =2  #define clr_P3M2_0  P3M2    &= ~SET_BIT0
 372      =2  
 373      =2  //**** P3SR   ADH PAGE1 **** SFRS must set as 1 to modify this register  
 374      =2  #define set_P3SR_0  BIT_TMP=EA;TA=0xAA;TA=0x55;SFRS=0x01;P3SR|=SET_BIT0;TA=0xAA;TA=0x55;SFRS=0x00;EA=BIT_T
             -MP
 375      =2  #define clr_P3SR_0  BIT_TMP=EA;TA=0xAA;TA=0x55;SFRS=0x01;P3SR&=~SET_BIT0;TA=0xAA;TA=0x55;SFRS=0x00;EA=BIT_
             -TMP
 376      =2  
 377      =2  //**** IAPFD  AEH ****
 378      =2  
 379      =2  //**** IAPCN  AFH ****
 380      =2  #define set_FOEN    IAPN    |= SET_BIT5
 381      =2  #define set_FCEN    IAPN    |= SET_BIT4
 382      =2  #define set_FCTRL3  IAPN    |= SET_BIT3
 383      =2  #define set_FCTRL2  IAPN    |= SET_BIT2
 384      =2  #define set_FCTRL1  IAPN    |= SET_BIT1
 385      =2  #define set_FCTRL0  IAPN    |= SET_BIT0
 386      =2                              
 387      =2  #define clr_FOEN    IAPN    &= ~SET_BIT5
 388      =2  #define clr_FCEN    IAPN    &= ~SET_BIT4
 389      =2  #define clr_FCTRL3  IAPN    &= ~SET_BIT3
 390      =2  #define clr_FCTRL2  IAPN    &= ~SET_BIT2
 391      =2  #define clr_FCTRL1  IAPN    &= ~SET_BIT1
 392      =2  #define clr_FCTRL0  IAPN    &= ~SET_BIT0
 393      =2  
 394      =2  //**** P3   B0H ****
C51 COMPILER V9.00   SYSTEM                                                                06/13/2020 16:27:47 PAGE 16  

 395      =2  #define set_P30     P30      = 1
 396      =2  #define clr_P30     P30      = 0
 397      =2  
 398      =2  //**** P0M1 B1H PAGE0 ****
 399      =2  #define set_P0M1_7  P0M1    |= SET_BIT7
 400      =2  #define set_P0M1_6  P0M1    |= SET_BIT6
 401      =2  #define set_P0M1_5  P0M1    |= SET_BIT5 
 402      =2  #define set_P0M1_4  P0M1    |= SET_BIT4
 403      =2  #define set_P0M1_3  P0M1    |= SET_BIT3
 404      =2  #define set_P0M1_2  P0M1    |= SET_BIT2
 405      =2  #define set_P0M1_1  P0M1    |= SET_BIT1
 406      =2  #define set_P0M1_0  P0M1    |= SET_BIT0
 407      =2  
 408      =2  #define clr_P0M1_7  P0M1    &= ~SET_BIT7
 409      =2  #define clr_P0M1_6  P0M1    &= ~SET_BIT6
 410      =2  #define clr_P0M1_5  P0M1    &= ~SET_BIT5
 411      =2  #define clr_P0M1_4  P0M1    &= ~SET_BIT4
 412      =2  #define clr_P0M1_3  P0M1    &= ~SET_BIT3
 413      =2  #define clr_P0M1_2  P0M1    &= ~SET_BIT2
 414      =2  #define clr_P0M1_1  P0M1    &= ~SET_BIT1
 415      =2  #define clr_P0M1_0  P0M1    &= ~SET_BIT0
 416      =2  
 417      =2  //**** P0S  B2H PAGE1 **** SFRS must set as 1 to modify this register  
 418      =2  #define set_P0S_7   BIT_TMP=EA;TA=0xAA;TA=0x55;SFRS=0x01;P0S|=SET_BIT7;TA=0xAA;TA=0x55;SFRS=0x00;EA=BIT_TM
             -P
 419      =2  #define set_P0S_6   BIT_TMP=EA;TA=0xAA;TA=0x55;SFRS=0x01;P0S|=SET_BIT6;TA=0xAA;TA=0x55;SFRS=0x00;EA=BIT_TM
             -P
 420      =2  #define set_P0S_5   BIT_TMP=EA;TA=0xAA;TA=0x55;SFRS=0x01;P0S|=SET_BIT5;TA=0xAA;TA=0x55;SFRS=0x00;EA=BIT_TM
             -P
 421      =2  #define set_P0S_4   BIT_TMP=EA;TA=0xAA;TA=0x55;SFRS=0x01;P0S|=SET_BIT4;TA=0xAA;TA=0x55;SFRS=0x00;EA=BIT_TM
             -P
 422      =2  #define set_P0S_3   BIT_TMP=EA;TA=0xAA;TA=0x55;SFRS=0x01;P0S|=SET_BIT3;TA=0xAA;TA=0x55;SFRS=0x00;EA=BIT_TM
             -P
 423      =2  #define set_P0S_2   BIT_TMP=EA;TA=0xAA;TA=0x55;SFRS=0x01;P0S|=SET_BIT2;TA=0xAA;TA=0x55;SFRS=0x00;EA=BIT_TM
             -P
 424      =2  #define set_P0S_1   BIT_TMP=EA;TA=0xAA;TA=0x55;SFRS=0x01;P0S|=SET_BIT1;TA=0xAA;TA=0x55;SFRS=0x00;EA=BIT_TM
             -P
 425      =2  #define set_P0S_0   BIT_TMP=EA;TA=0xAA;TA=0x55;SFRS=0x01;P0S|=SET_BIT0;TA=0xAA;TA=0x55;SFRS=0x00;EA=BIT_TM
             -P
 426      =2  
 427      =2  #define clr_P0S_7   BIT_TMP=EA;TA=0xAA;TA=0x55;SFRS=0x01;P0S&=~SET_BIT7;TA=0xAA;TA=0x55;SFRS=0x00;EA=BIT_T
             -MP
 428      =2  #define clr_P0S_6   BIT_TMP=EA;TA=0xAA;TA=0x55;SFRS=0x01;P0S&=~SET_BIT6;TA=0xAA;TA=0x55;SFRS=0x00;EA=BIT_T
             -MP
 429      =2  #define clr_P0S_5   BIT_TMP=EA;TA=0xAA;TA=0x55;SFRS=0x01;P0S&=~SET_BIT5;TA=0xAA;TA=0x55;SFRS=0x00;EA=BIT_T
             -MP
 430      =2  #define clr_P0S_4   BIT_TMP=EA;TA=0xAA;TA=0x55;SFRS=0x01;P0S&=~SET_BIT4;TA=0xAA;TA=0x55;SFRS=0x00;EA=BIT_T
             -MP
 431      =2  #define clr_P0S_3   BIT_TMP=EA;TA=0xAA;TA=0x55;SFRS=0x01;P0S&=~SET_BIT3;TA=0xAA;TA=0x55;SFRS=0x00;EA=BIT_T
             -MP
 432      =2  #define clr_P0S_2   BIT_TMP=EA;TA=0xAA;TA=0x55;SFRS=0x01;P0S&=~SET_BIT2;TA=0xAA;TA=0x55;SFRS=0x00;EA=BIT_T
             -MP
 433      =2  #define clr_P0S_1   BIT_TMP=EA;TA=0xAA;TA=0x55;SFRS=0x01;P0S&=~SET_BIT1;TA=0xAA;TA=0x55;SFRS=0x00;EA=BIT_T
             -MP
 434      =2  #define clr_P0S_0   BIT_TMP=EA;TA=0xAA;TA=0x55;SFRS=0x01;P0S&=~SET_BIT0;TA=0xAA;TA=0x55;SFRS=0x00;EA=BIT_T
             -MP
 435      =2  
 436      =2  //**** P0M2   B2H PAGE0 ****
 437      =2  #define set_P0M2_7  P0M2    |= SET_BIT7
 438      =2  #define set_P0M2_6  P0M2    |= SET_BIT6
 439      =2  #define set_P0M2_5  P0M2    |= SET_BIT5 
 440      =2  #define set_P0M2_4  P0M2    |= SET_BIT4
C51 COMPILER V9.00   SYSTEM                                                                06/13/2020 16:27:47 PAGE 17  

 441      =2  #define set_P0M2_3  P0M2    |= SET_BIT3
 442      =2  #define set_P0M2_2  P0M2    |= SET_BIT2
 443      =2  #define set_P0M2_1  P0M2    |= SET_BIT1
 444      =2  #define set_P0M2_0  P0M2    |= SET_BIT0
 445      =2  
 446      =2  #define clr_P0M2_7  P0M2    &= ~SET_BIT7
 447      =2  #define clr_P0M2_6  P0M2    &= ~SET_BIT6
 448      =2  #define clr_P0M2_5  P0M2    &= ~SET_BIT5
 449      =2  #define clr_P0M2_4  P0M2    &= ~SET_BIT4
 450      =2  #define clr_P0M2_3  P0M2    &= ~SET_BIT3
 451      =2  #define clr_P0M2_2  P0M2    &= ~SET_BIT2
 452      =2  #define clr_P0M2_1  P0M2    &= ~SET_BIT1
 453      =2  #define clr_P0M2_0  P0M2    &= ~SET_BIT0
 454      =2  
 455      =2  
 456      =2  //**** P0SR   B0H PAGE1 **** SFRS must set as 1 to modify this register  
 457      =2  #define set_P0SR_7  BIT_TMP=EA;TA=0xAA;TA=0x55;SFRS=0x01;P0SR|=SET_BIT7;TA=0xAA;TA=0x55;SFRS=0x00;EA=BIT_T
             -MP
 458      =2  #define set_P0SR_6  BIT_TMP=EA;TA=0xAA;TA=0x55;SFRS=0x01;P0SR|=SET_BIT6;TA=0xAA;TA=0x55;SFRS=0x00;EA=BIT_T
             -MP
 459      =2  #define set_P0SR_5  BIT_TMP=EA;TA=0xAA;TA=0x55;SFRS=0x01;P0SR|=SET_BIT5;TA=0xAA;TA=0x55;SFRS=0x00;EA=BIT_T
             -MP
 460      =2  #define set_P0SR_4  BIT_TMP=EA;TA=0xAA;TA=0x55;SFRS=0x01;P0SR|=SET_BIT4;TA=0xAA;TA=0x55;SFRS=0x00;EA=BIT_T
             -MP
 461      =2  #define set_P0SR_3  BIT_TMP=EA;TA=0xAA;TA=0x55;SFRS=0x01;P0SR|=SET_BIT3;TA=0xAA;TA=0x55;SFRS=0x00;EA=BIT_T
             -MP
 462      =2  #define set_P0SR_2  BIT_TMP=EA;TA=0xAA;TA=0x55;SFRS=0x01;P0SR|=SET_BIT2;TA=0xAA;TA=0x55;SFRS=0x00;EA=BIT_T
             -MP
 463      =2  #define set_P0SR_1  BIT_TMP=EA;TA=0xAA;TA=0x55;SFRS=0x01;P0SR|=SET_BIT1;TA=0xAA;TA=0x55;SFRS=0x00;EA=BIT_T
             -MP
 464      =2  #define set_P0SR_0  BIT_TMP=EA;TA=0xAA;TA=0x55;SFRS=0x01;P0SR|=SET_BIT0;TA=0xAA;TA=0x55;SFRS=0x00;EA=BIT_T
             -MP
 465      =2  
 466      =2  #define clr_P0SR_7  BIT_TMP=EA;TA=0xAA;TA=0x55;SFRS=0x01;P0SR&=~SET_BIT7;TA=0xAA;TA=0x55;SFRS=0x00;EA=BIT_
             -TMP
 467      =2  #define clr_P0SR_6  BIT_TMP=EA;TA=0xAA;TA=0x55;SFRS=0x01;P0SR&=~SET_BIT6;TA=0xAA;TA=0x55;SFRS=0x00;EA=BIT_
             -TMP
 468      =2  #define clr_P0SR_5  BIT_TMP=EA;TA=0xAA;TA=0x55;SFRS=0x01;P0SR&=~SET_BIT5;TA=0xAA;TA=0x55;SFRS=0x00;EA=BIT_
             -TMP
 469      =2  #define clr_P0SR_4  BIT_TMP=EA;TA=0xAA;TA=0x55;SFRS=0x01;P0SR&=~SET_BIT4;TA=0xAA;TA=0x55;SFRS=0x00;EA=BIT_
             -TMP
 470      =2  #define clr_P0SR_3  BIT_TMP=EA;TA=0xAA;TA=0x55;SFRS=0x01;P0SR&=~SET_BIT3;TA=0xAA;TA=0x55;SFRS=0x00;EA=BIT_
             -TMP
 471      =2  #define clr_P0SR_2  BIT_TMP=EA;TA=0xAA;TA=0x55;SFRS=0x01;P0SR&=~SET_BIT2;TA=0xAA;TA=0x55;SFRS=0x00;EA=BIT_
             -TMP
 472      =2  #define clr_P0SR_1  BIT_TMP=EA;TA=0xAA;TA=0x55;SFRS=0x01;P0SR&=~SET_BIT1;TA=0xAA;TA=0x55;SFRS=0x00;EA=BIT_
             -TMP
 473      =2  #define clr_P0SR_0  BIT_TMP=EA;TA=0xAA;TA=0x55;SFRS=0x01;P0SR&=~SET_BIT0;TA=0xAA;TA=0x55;SFRS=0x00;EA=BIT_
             -TMP
 474      =2  
 475      =2  
 476      =2  //**** P1M1 B3H PAGE0 ****
 477      =2  #define set_P1M1_7  P1M1  |= SET_BIT7
 478      =2  #define set_P1M1_6  P1M1  |= SET_BIT6
 479      =2  #define set_P1M1_5  P1M1  |= SET_BIT5 
 480      =2  #define set_P1M1_4  P1M1  |= SET_BIT4
 481      =2  #define set_P1M1_3  P1M1  |= SET_BIT3
 482      =2  #define set_P1M1_2  P1M1  |= SET_BIT2
 483      =2  #define set_P1M1_1  P1M1  |= SET_BIT1
 484      =2  #define set_P1M1_0  P1M1  |= SET_BIT0
 485      =2  
 486      =2  #define clr_P1M1_7  P1M1  &= ~SET_BIT7
C51 COMPILER V9.00   SYSTEM                                                                06/13/2020 16:27:47 PAGE 18  

 487      =2  #define clr_P1M1_6  P1M1  &= ~SET_BIT6
 488      =2  #define clr_P1M1_5  P1M1  &= ~SET_BIT5
 489      =2  #define clr_P1M1_4  P1M1  &= ~SET_BIT4
 490      =2  #define clr_P1M1_3  P1M1  &= ~SET_BIT3
 491      =2  #define clr_P1M1_2  P1M1  &= ~SET_BIT2
 492      =2  #define clr_P1M1_1  P1M1  &= ~SET_BIT1
 493      =2  #define clr_P1M1_0  P1M1  &= ~SET_BIT0
 494      =2  
 495      =2  //**** P1S B3H PAGE1 **** SFRS must set as 1 to modify this register  
 496      =2  #define set_P1S_7   BIT_TMP=EA;TA=0xAA;TA=0x55;SFRS=0x01;P1S|=SET_BIT7;TA=0xAA;TA=0x55;SFRS=0x00;EA=BIT_TMP
 497      =2  #define set_P1S_6   BIT_TMP=EA;TA=0xAA;TA=0x55;SFRS=0x01;P1S|=SET_BIT6;TA=0xAA;TA=0x55;SFRS=0x00;EA=BIT_TMP
 498      =2  #define set_P1S_5   BIT_TMP=EA;TA=0xAA;TA=0x55;SFRS=0x01;P1S|=SET_BIT5;TA=0xAA;TA=0x55;SFRS=0x00;EA=BIT_TMP
 499      =2  #define set_P1S_4   BIT_TMP=EA;TA=0xAA;TA=0x55;SFRS=0x01;P1S|=SET_BIT4;TA=0xAA;TA=0x55;SFRS=0x00;EA=BIT_TMP
 500      =2  #define set_P1S_3   BIT_TMP=EA;TA=0xAA;TA=0x55;SFRS=0x01;P1S|=SET_BIT3;TA=0xAA;TA=0x55;SFRS=0x00;EA=BIT_TMP
 501      =2  #define set_P1S_2   BIT_TMP=EA;TA=0xAA;TA=0x55;SFRS=0x01;P1S|=SET_BIT2;TA=0xAA;TA=0x55;SFRS=0x00;EA=BIT_TM
             -P
 502      =2  #define set_P1S_1   BIT_TMP=EA;TA=0xAA;TA=0x55;SFRS=0x01;P1S|=SET_BIT1;TA=0xAA;TA=0x55;SFRS=0x00;EA=BIT_TM
             -P
 503      =2  #define set_P1S_0   BIT_TMP=EA;TA=0xAA;TA=0x55;SFRS=0x01;P1S|=SET_BIT0;TA=0xAA;TA=0x55;SFRS=0x00;EA=BIT_TM
             -P
 504      =2  
 505      =2  #define clr_P1S_7   BIT_TMP=EA;TA=0xAA;TA=0x55;SFRS=0x01;P1S&=~SET_BIT7;TA=0xAA;TA=0x55;SFRS=0x00;EA=BIT_TM
             -P
 506      =2  #define clr_P1S_6   BIT_TMP=EA;TA=0xAA;TA=0x55;SFRS=0x01;P1S&=~SET_BIT6;TA=0xAA;TA=0x55;SFRS=0x00;EA=BIT_TM
             -P
 507      =2  #define clr_P1S_5   BIT_TMP=EA;TA=0xAA;TA=0x55;SFRS=0x01;P1S&=~SET_BIT5;TA=0xAA;TA=0x55;SFRS=0x00;EA=BIT_TM
             -P
 508      =2  #define clr_P1S_4   BIT_TMP=EA;TA=0xAA;TA=0x55;SFRS=0x01;P1S&=~SET_BIT4;TA=0xAA;TA=0x55;SFRS=0x00;EA=BIT_TM
             -P
 509      =2  #define clr_P1S_3   BIT_TMP=EA;TA=0xAA;TA=0x55;SFRS=0x01;P1S&=~SET_BIT3;TA=0xAA;TA=0x55;SFRS=0x00;EA=BIT_TM
             -P
 510      =2  #define clr_P1S_2   BIT_TMP=EA;TA=0xAA;TA=0x55;SFRS=0x01;P1S&=~SET_BIT2;TA=0xAA;TA=0x55;SFRS=0x00;EA=BIT_T
             -MP
 511      =2  #define clr_P1S_1   BIT_TMP=EA;TA=0xAA;TA=0x55;SFRS=0x01;P1S&=~SET_BIT1;TA=0xAA;TA=0x55;SFRS=0x00;EA=BIT_T
             -MP
 512      =2  #define clr_P1S_0   BIT_TMP=EA;TA=0xAA;TA=0x55;SFRS=0x01;P1S&=~SET_BIT0;TA=0xAA;TA=0x55;SFRS=0x00;EA=BIT_T
             -MP
 513      =2  
 514      =2  //**** P1M2   B4H PAGE0 ****                      
 515      =2  #define set_P12UP   P1M2    |= SET_BIT2
 516      =2  #define set_P1M2_1  P1M2    |= SET_BIT1
 517      =2  #define set_P1M2_0  P1M2    |= SET_BIT0
 518      =2                              
 519      =2  #define clr_P12UP   P1M2    &= ~SET_BIT2
 520      =2  #define clr_P1M2_1  P1M2    &= ~SET_BIT1
 521      =2  #define clr_P1M2_0  P1M2    &= ~SET_BIT0
 522      =2  
 523      =2  //**** P1SR   B4H PAGE1 **** SFRS must set as 1 to modify this register  
 524      =2  #define set_P1SR_7    BIT_TMP=EA;TA=0xAA;TA=0x55;SFRS=0x01;P1SR|=SET_BIT7;TA=0xAA;TA=0x55;SFRS=0x00;EA=BIT_T
             -MP
 525      =2  #define set_P1SR_6    BIT_TMP=EA;TA=0xAA;TA=0x55;SFRS=0x01;P1SR|=SET_BIT6;TA=0xAA;TA=0x55;SFRS=0x00;EA=BIT_T
             -MP
 526      =2  #define set_P1SR_5    BIT_TMP=EA;TA=0xAA;TA=0x55;SFRS=0x01;P1SR|=SET_BIT5;TA=0xAA;TA=0x55;SFRS=0x00;EA=BIT_T
             -MP
 527      =2  #define set_P1SR_4    BIT_TMP=EA;TA=0xAA;TA=0x55;SFRS=0x01;P1SR|=SET_BIT4;TA=0xAA;TA=0x55;SFRS=0x00;EA=BIT_T
             -MP
 528      =2  #define set_P1SR_3    BIT_TMP=EA;TA=0xAA;TA=0x55;SFRS=0x01;P1SR|=SET_BIT3;TA=0xAA;TA=0x55;SFRS=0x00;EA=BIT_T
             -MP
 529      =2  #define set_P1SR_2    BIT_TMP=EA;TA=0xAA;TA=0x55;SFRS=0x01;P1SR|=SET_BIT2;TA=0xAA;TA=0x55;SFRS=0x00;EA=BIT_T
             -MP
 530      =2  #define set_P1SR_1    BIT_TMP=EA;TA=0xAA;TA=0x55;SFRS=0x01;P1SR|=SET_BIT1;TA=0xAA;TA=0x55;SFRS=0x00;EA=BIT_T
             -MP
C51 COMPILER V9.00   SYSTEM                                                                06/13/2020 16:27:47 PAGE 19  

 531      =2  #define set_P1SR_0    BIT_TMP=EA;TA=0xAA;TA=0x55;SFRS=0x01;P1SR|=SET_BIT0;TA=0xAA;TA=0x55;SFRS=0x00;EA=BIT_T
             -MP
 532      =2  
 533      =2  #define clr_P1SR_7    BIT_TMP=EA;TA=0xAA;TA=0x55;SFRS=0x01;P1SR&=~SET_BIT7;TA=0xAA;TA=0x55;SFRS=0x00;EA=BIT_
             -TMP
 534      =2  #define clr_P1SR_6    BIT_TMP=EA;TA=0xAA;TA=0x55;SFRS=0x01;P1SR&=~SET_BIT6;TA=0xAA;TA=0x55;SFRS=0x00;EA=BIT_
             -TMP
 535      =2  #define clr_P1SR_5    BIT_TMP=EA;TA=0xAA;TA=0x55;SFRS=0x01;P1SR&=~SET_BIT5;TA=0xAA;TA=0x55;SFRS=0x00;EA=BIT_
             -TMP
 536      =2  #define clr_P1SR_4    BIT_TMP=EA;TA=0xAA;TA=0x55;SFRS=0x01;P1SR&=~SET_BIT4;TA=0xAA;TA=0x55;SFRS=0x00;EA=BIT_
             -TMP
 537      =2  #define clr_P1SR_3    BIT_TMP=EA;TA=0xAA;TA=0x55;SFRS=0x01;P1SR&=~SET_BIT3;TA=0xAA;TA=0x55;SFRS=0x00;EA=BIT_
             -TMP
 538      =2  #define clr_P1SR_2    BIT_TMP=EA;TA=0xAA;TA=0x55;SFRS=0x01;P1SR&=~SET_BIT2;TA=0xAA;TA=0x55;SFRS=0x00;EA=BIT_
             -TMP
 539      =2  #define clr_P1SR_1    BIT_TMP=EA;TA=0xAA;TA=0x55;SFRS=0x01;P1SR&=~SET_BIT1;TA=0xAA;TA=0x55;SFRS=0x00;EA=BIT_
             -TMP
 540      =2  #define clr_P1SR_0    BIT_TMP=EA;TA=0xAA;TA=0x55;SFRS=0x01;P1SR&=~SET_BIT0;TA=0xAA;TA=0x55;SFRS=0x00;EA=BIT_
             -TMP
 541      =2  
 542      =2  
 543      =2  //**** P2S    B5H ****
 544      =2  #define set_P2S_0   P2S     |= SET_BIT0
 545      =2  #define clr_P2S_0   P2S     &= ~SET_BIT0
 546      =2  
 547      =2  //**** IPH    B7H PAGE0 ****                    
 548      =2  #define set_PADCH   IPH   |= SET_BIT6
 549      =2  #define set_PBODH   IPH   |= SET_BIT5
 550      =2  #define set_PSH     IPH   |= SET_BIT4
 551      =2  #define set_PT1H    IPH   |= SET_BIT3
 552      =2  #define set_PX11    IPH   |= SET_BIT2
 553      =2  #define set_PT0H    IPH   |= SET_BIT1
 554      =2  #define set_PX0H    IPH   |= SET_BIT0
 555      =2                              
 556      =2  #define clr_PADCH   IPH   &= ~SET_BIT6
 557      =2  #define clr_PBODH   IPH   &= ~SET_BIT5
 558      =2  #define clr_PSH     IPH   &= ~SET_BIT4
 559      =2  #define clr_PT1H    IPH   &= ~SET_BIT3
 560      =2  #define clr_PX11    IPH   &= ~SET_BIT2
 561      =2  #define clr_PT0H    IPH   &= ~SET_BIT1
 562      =2  #define clr_PX0H    IPH   &= ~SET_BIT0
 563      =2  
 564      =2  //**** PWMINTC B7H PAGE1 **** SFRS must set as 1 to modify this register  
 565      =2  #define set_INTTYP1   BIT_TMP=EA;TA=0xAA;TA=0x55;SFRS=0x01;PWMINTC|=SET_BIT5;TA=0xAA;TA=0x55;SFRS=0x00;EA=B
             -IT_TMP
 566      =2  #define set_INTTYP0   BIT_TMP=EA;TA=0xAA;TA=0x55;SFRS=0x01;PWMINTC|=SET_BIT4;TA=0xAA;TA=0x55;SFRS=0x00;EA=B
             -IT_TMP
 567      =2  #define set_INTSEL2   BIT_TMP=EA;TA=0xAA;TA=0x55;SFRS=0x01;PWMINTC|=SET_BIT2;TA=0xAA;TA=0x55;SFRS=0x00;EA=B
             -IT_TMP
 568      =2  #define set_INTSEL1   BIT_TMP=EA;TA=0xAA;TA=0x55;SFRS=0x01;PWMINTC|=SET_BIT1;TA=0xAA;TA=0x55;SFRS=0x00;EA=B
             -IT_TMP
 569      =2  #define set_INTSEL0   BIT_TMP=EA;TA=0xAA;TA=0x55;SFRS=0x01;PWMINTC|=SET_BIT0;TA=0xAA;TA=0x55;SFRS=0x00;EA=B
             -IT_TMP
 570      =2  
 571      =2  #define clr_INTTYP1   BIT_TMP=EA;TA=0xAA;TA=0x55;SFRS=0x01;PWMINTC&=~SET_BIT5;TA=0xAA;TA=0x55;SFRS=0x00;EA
             -=BIT_TMP
 572      =2  #define clr_INTTYP0   BIT_TMP=EA;TA=0xAA;TA=0x55;SFRS=0x01;PWMINTC&=~SET_BIT4;TA=0xAA;TA=0x55;SFRS=0x00;EA
             -=BIT_TMP
 573      =2  #define clr_INTSEL2   BIT_TMP=EA;TA=0xAA;TA=0x55;SFRS=0x01;PWMINTC&=~SET_BIT2;TA=0xAA;TA=0x55;SFRS=0x00;EA=
             -BIT_TMP
 574      =2  #define clr_INTSEL1   BIT_TMP=EA;TA=0xAA;TA=0x55;SFRS=0x01;PWMINTC&=~SET_BIT1;TA=0xAA;TA=0x55;SFRS=0x00;EA=
             -BIT_TMP
C51 COMPILER V9.00   SYSTEM                                                                06/13/2020 16:27:47 PAGE 20  

 575      =2  #define clr_INTSEL0   BIT_TMP=EA;TA=0xAA;TA=0x55;SFRS=0x01;PWMINTC&=~SET_BIT0;TA=0xAA;TA=0x55;SFRS=0x00;EA=
             -BIT_TMP
 576      =2  
 577      =2  //**** IP   B8H ****
 578      =2  #define set_PADC    PADC     = 1
 579      =2  #define set_PBOD    PBOD     = 1
 580      =2  #define set_PS      PS       = 1
 581      =2  #define set_PT1     PT1      = 1
 582      =2  #define set_PX1     PX1      = 1
 583      =2  #define set_PT0     PT0      = 1
 584      =2  #define set_PX0     PX0      = 1
 585      =2  
 586      =2  #define clr_PADC    PADC     = 0
 587      =2  #define clr_PBOD    PBOD     = 0
 588      =2  #define clr_PS      PS       = 0
 589      =2  #define clr_PT1     PT1      = 0
 590      =2  #define clr_PX1     PX1      = 0
 591      =2  #define clr_PT0     PT0      = 0
 592      =2  #define clr_PX0     PX0      = 0
 593      =2  
 594      =2  //**** SADEN    B9H ****
 595      =2  //**** SADEN_1  8AH ****
 596      =2  //**** SADDR_1  BBH ****
 597      =2  //**** I2DAT    BCH ****
 598      =2  //**** I2STAT   BDH ****
 599      =2  //**** I2CLK    BEH ****
 600      =2  
 601      =2  //**** I2TOC    BFH ****
 602      =2  #define set_I2TOCEN   I2TOC   |= SET_BIT2
 603      =2  #define set_DIV       I2TOC   |= SET_BIT1
 604      =2  #define set_I2TOF     I2TOC   |= SET_BIT0
 605      =2  
 606      =2  #define clr_I2TOCEN   I2TOC   &= ~SET_BIT2
 607      =2  #define clr_DIV       I2TOC   &= ~SET_BIT1
 608      =2  #define clr_I2TOF     I2TOC   &= ~SET_BIT0
 609      =2  
 610      =2  //**** I2CON  C0H **** 
 611      =2  #define set_I2CEN     I2CEN   = 1
 612      =2  #define set_STA       STA     = 1
 613      =2  #define set_STO       STO     = 1
 614      =2  #define set_SI        SI      = 1
 615      =2  #define set_AA        AA      = 1
 616      =2  #define set_I2CPX     I2CPX   = 1
 617      =2  
 618      =2  #define clr_I2CEN     I2CEN   = 0
 619      =2  #define clr_STA       STA     = 0
 620      =2  #define clr_STO       STO     = 0
 621      =2  #define clr_SI        SI      = 0
 622      =2  #define clr_AA        AA      = 0
 623      =2  #define clr_I2CPX     I2CPX   = 0 
 624      =2  
 625      =2  //**** I2ADDR   C1H ****
 626      =2  #define set_GC      I2ADDR  |= SET_BIT0
 627      =2  #define clr_GC      I2ADDR  &= ~SET_BIT0
 628      =2  
 629      =2  //**** ADCRL    C2H ****
 630      =2  //**** ADCRH    C3H ****
 631      =2  
 632      =2  //**** T3CON    C4H PAGE0 ****                     
 633      =2  #define set_SMOD_1  T3CON   |= SET_BIT7
 634      =2  #define set_SMOD0_1 T3CON   |= SET_BIT6
 635      =2  #define set_BRCK    T3CON   |= SET_BIT5
C51 COMPILER V9.00   SYSTEM                                                                06/13/2020 16:27:47 PAGE 21  

 636      =2  #define set_TF3     T3CON   |= SET_BIT4
 637      =2  #define set_TR3     T3CON   |= SET_BIT3
 638      =2  #define set_T3PS2   T3CON   |= SET_BIT2
 639      =2  #define set_T3PS1   T3CON   |= SET_BIT1
 640      =2  #define set_T3PS0   T3CON   |= SET_BIT0
 641      =2                              
 642      =2  #define clr_SMOD_1  T3CON   &= ~SET_BIT7
 643      =2  #define clr_SMOD0_1 T3CON   &= ~SET_BIT6
 644      =2  #define clr_BRCK    T3CON   &= ~SET_BIT5
 645      =2  #define clr_TF3     T3CON   &= ~SET_BIT4
 646      =2  #define clr_TR3     T3CON   &= ~SET_BIT3
 647      =2  #define clr_T3PS2   T3CON   &= ~SET_BIT2
 648      =2  #define clr_T3PS1   T3CON   &= ~SET_BIT1
 649      =2  #define clr_T3PS0   T3CON   &= ~SET_BIT0
 650      =2  
 651      =2  //**** PWM4H  C4H PAGE1 **** SFRS must set as 1 to modify this register  
 652      =2  //**** RL3    C5H PAGE0 ****
 653      =2  //**** PWM5H  C5H PAGE1 **** SFRS must set as 1 to modify this register  
 654      =2  //**** RH3    C6H PAGE0 ****
 655      =2  
 656      =2  //**** PIOCON1 C6H PAGE1 **** SFRS must set as 1 to modify this register  
 657      =2  #define set_PIO15   BIT_TMP=EA;TA=0xAA;TA=0x55;SFRS=0x01;PIOCON1|=SET_BIT5;TA=0xAA;TA=0x55;SFRS=0x00;EA=BIT
             -_TMP
 658      =2  #define set_PIO13   BIT_TMP=EA;TA=0xAA;TA=0x55;SFRS=0x01;PIOCON1|=SET_BIT3;TA=0xAA;TA=0x55;SFRS=0x00;EA=BI
             -T_TMP
 659      =2  #define set_PIO12   BIT_TMP=EA;TA=0xAA;TA=0x55;SFRS=0x01;PIOCON1|=SET_BIT2;TA=0xAA;TA=0x55;SFRS=0x00;EA=BI
             -T_TMP
 660      =2  #define set_PIO11   BIT_TMP=EA;TA=0xAA;TA=0x55;SFRS=0x01;PIOCON1|=SET_BIT1;TA=0xAA;TA=0x55;SFRS=0x00;EA=BI
             -T_TMP
 661      =2  
 662      =2  #define clr_PIO15   BIT_TMP=EA;TA=0xAA;TA=0x55;SFRS=0x01;PIOCON1&=~SET_BIT5;TA=0xAA;TA=0x55;SFRS=0x00;EA=BI
             -T_TMP
 663      =2  #define clr_PIO13   BIT_TMP=EA;TA=0xAA;TA=0x55;SFRS=0x01;PIOCON1&=~SET_BIT3;TA=0xAA;TA=0x55;SFRS=0x00;EA=BI
             -T_TMP
 664      =2  #define clr_PIO12   BIT_TMP=EA;TA=0xAA;TA=0x55;SFRS=0x01;PIOCON1&=~SET_BIT2;TA=0xAA;TA=0x55;SFRS=0x00;EA=BI
             -T_TMP
 665      =2  #define clr_PIO11   BIT_TMP=EA;TA=0xAA;TA=0x55;SFRS=0x01;PIOCON1&=~SET_BIT1;TA=0xAA;TA=0x55;SFRS=0x00;EA=BI
             -T_TMP
 666      =2  
 667      =2  //**** T2CON  C8H ****
 668      =2  #define set_TF2     TF2      = 1
 669      =2  #define set_TR2     TR2      = 1
 670      =2  #define set_CMRL2   CMRL2    = 1
 671      =2  
 672      =2  #define clr_TF2     TF2      = 0
 673      =2  #define clr_TR2     TR2      = 0
 674      =2  #define clr_CMRL2   CMRL2    = 0
 675      =2  
 676      =2  //**** T2MOD  C9H ****                     
 677      =2  #define set_LDEN    T2MOD   |= SET_BIT7
 678      =2  #define set_T2DIV2  T2MOD   |= SET_BIT6
 679      =2  #define set_T2DIV1  T2MOD   |= SET_BIT5
 680      =2  #define set_T2DIV0  T2MOD   |= SET_BIT4
 681      =2  #define set_CAPCR   T2MOD   |= SET_BIT3
 682      =2  #define set_CMPCR   T2MOD   |= SET_BIT2
 683      =2  #define set_LDTS1   T2MOD   |= SET_BIT1
 684      =2  #define set_LDTS0   T2MOD   |= SET_BIT0
 685      =2                              
 686      =2  #define clr_LDEN    T2MOD   &= ~SET_BIT7
 687      =2  #define clr_T2DIV2  T2MOD   &= ~SET_BIT6
 688      =2  #define clr_T2DIV1  T2MOD   &= ~SET_BIT5
 689      =2  #define clr_T2DIV0  T2MOD   &= ~SET_BIT4
C51 COMPILER V9.00   SYSTEM                                                                06/13/2020 16:27:47 PAGE 22  

 690      =2  #define clr_CAPCR   T2MOD   &= ~SET_BIT3
 691      =2  #define clr_CMPCR   T2MOD   &= ~SET_BIT2
 692      =2  #define clr_LDTS1   T2MOD   &= ~SET_BIT1
 693      =2  #define clr_LDTS0   T2MOD   &= ~SET_BIT0
 694      =2  
 695      =2  //**** RCMP2H CAH ****
 696      =2  //**** RCMP2L CBH ****
 697      =2  //**** TL2    CCH PAGE0 ****
 698      =2  //**** PWM4L  CCH PAGE1 **** SFRS must set as 1 to modify this register  
 699      =2  //**** TH2    CDH PAGE0 ****
 700      =2  //**** PWM5L  CDH PAGE1 **** SFRS must set as 1 to modify this register  
 701      =2  //**** ADCMPL CEH **** 
 702      =2  //**** ADCMPH CFH ****
 703      =2  
 704      =2  /****  PSW    D0H ****/
 705      =2  #define set_CY    CY  = 1
 706      =2  #define set_AC    AC  = 1
 707      =2  #define set_F0    F0  = 1 
 708      =2  #define set_RS1   RS1 = 1
 709      =2  #define set_RS0   RS0 = 1
 710      =2  #define set_OV    OV  = 1
 711      =2  #define set_P     P   = 1
 712      =2  
 713      =2  #define clr_CY    CY  = 0
 714      =2  #define clr_AC    AC  = 0
 715      =2  #define clr_F0    F0  = 0 
 716      =2  #define clr_RS1   RS1 = 0
 717      =2  #define clr_RS0   RS0 = 0
 718      =2  #define clr_OV    OV  = 0
 719      =2  #define clr_P     P   = 0
 720      =2  
 721      =2  //**** PWMPH    D1H ****
 722      =2  //**** PWM0H    D2H ****
 723      =2  //**** PWM1H    D3H ****
 724      =2  //**** PWM2H    D4H ****
 725      =2  //**** PWM3H    D5H ****
 726      =2  
 727      =2  //**** PNP      D6H ****
 728      =2  #define set_PNP5    PNP     |= SET_BIT5
 729      =2  #define set_PNP4    PNP     |= SET_BIT4
 730      =2  #define set_PNP3    PNP     |= SET_BIT3
 731      =2  #define set_PNP2    PNP     |= SET_BIT2
 732      =2  #define set_PNP1    PNP     |= SET_BIT1
 733      =2  #define set_PNP0    PNP     |= SET_BIT0
 734      =2  
 735      =2  #define clr_PNP5    PNP     &= ~SET_BIT5
 736      =2  #define clr_PNP4    PNP     &= ~SET_BIT4
 737      =2  #define clr_PNP3    PNP     &= ~SET_BIT3
 738      =2  #define clr_PNP2    PNP     &= ~SET_BIT2
 739      =2  #define clr_PNP1    PNP     &= ~SET_BIT1
 740      =2  #define clr_PNP0    PNP     &= ~SET_BIT0
 741      =2  
 742      =2  //**** FBD    D7H ****
 743      =2  #define set_FBF     FBD     |= SET_BIT7
 744      =2  #define set_FBINLS  FBD     |= SET_BIT6
 745      =2  #define set_FBD5    FBD     |= SET_BIT5
 746      =2  #define set_FBD4    FBD     |= SET_BIT4
 747      =2  #define set_FBD3    FBD     |= SET_BIT3
 748      =2  #define set_FBD2    FBD     |= SET_BIT2
 749      =2  #define set_FBD1    FBD     |= SET_BIT1
 750      =2  #define set_FBD0    FBD     |= SET_BIT0
 751      =2  
C51 COMPILER V9.00   SYSTEM                                                                06/13/2020 16:27:47 PAGE 23  

 752      =2  #define clr_FBF     FBD     &= ~SET_BIT7
 753      =2  #define clr_FBINLS  FBD     &= ~SET_BIT6
 754      =2  #define clr_FBD5    FBD     &= ~SET_BIT5
 755      =2  #define clr_FBD4    FBD     &= ~SET_BIT4
 756      =2  #define clr_FBD3    FBD     &= ~SET_BIT3
 757      =2  #define clr_FBD2    FBD     &= ~SET_BIT2
 758      =2  #define clr_FBD1    FBD     &= ~SET_BIT1
 759      =2  #define clr_FBD0    FBD     &= ~SET_BIT0
 760      =2  
 761      =2  /**** PWMCON0     D8H ****/
 762      =2  #define set_PWMRUN  PWMRUN   = 1
 763      =2  #define set_LOAD    LOAD     = 1
 764      =2  #define set_PWMF    PWMF     = 1
 765      =2  #define set_CLRPWM  CLRPWM   = 1
 766      =2  
 767      =2  #define clr_PWMRUN  PWMRUN   = 0
 768      =2  #define clr_LOAD    LOAD     = 0
 769      =2  #define clr_PWMF    PWMF     = 0 
 770      =2  #define clr_CLRPWM  CLRPWM   = 0
 771      =2  
 772      =2  //**** PWMPL    D9H ****
 773      =2  //**** PWM0L    DAH ****
 774      =2  //**** PWM1L    DBH ****
 775      =2  //**** PWM2L    DCH ****
 776      =2  //**** PWM3L    DDH ****
 777      =2  
 778      =2  //**** PIOCON0  DEH ****
 779      =2  #define set_PIO05    PIOCON0     |= SET_BIT5
 780      =2  #define set_PIO04    PIOCON0     |= SET_BIT4
 781      =2  #define set_PIO03    PIOCON0     |= SET_BIT3
 782      =2  #define set_PIO02    PIOCON0     |= SET_BIT2
 783      =2  #define set_PIO01    PIOCON0     |= SET_BIT1
 784      =2  #define set_PIO00    PIOCON0     |= SET_BIT0
 785      =2  
 786      =2  #define clr_PIO05    PIOCON0     &= ~SET_BIT5
 787      =2  #define clr_PIO04    PIOCON0     &= ~SET_BIT4
 788      =2  #define clr_PIO03    PIOCON0     &= ~SET_BIT3
 789      =2  #define clr_PIO02    PIOCON0     &= ~SET_BIT2
 790      =2  #define clr_PIO01    PIOCON0     &= ~SET_BIT1
 791      =2  #define clr_PIO00    PIOCON0     &= ~SET_BIT0
 792      =2  
 793      =2  //**** PWMCON1  DFH ****
 794      =2  #define set_PWMMOD1   PWMCON1  |= SET_BIT7
 795      =2  #define set_PWMMOD0   PWMCON1  |= SET_BIT6
 796      =2  #define set_GP        PWMCON1  |= SET_BIT5
 797      =2  #define set_PWMTYP    PWMCON1  |= SET_BIT4
 798      =2  #define set_FBINEN    PWMCON1  |= SET_BIT3
 799      =2  #define set_PWMDIV2   PWMCON1  |= SET_BIT2 
 800      =2  #define set_PWMDIV1   PWMCON1  |= SET_BIT1
 801      =2  #define set_PWMDIV0   PWMCON1  |= SET_BIT0
 802      =2                              
 803      =2  #define clr_PWMMOD1   PWMCON1  &= ~SET_BIT7
 804      =2  #define clr_PWMMOD0   PWMCON1  &= ~SET_BIT6
 805      =2  #define clr_GP        PWMCON1  &= ~SET_BIT5
 806      =2  #define clr_PWMTYP    PWMCON1  &= ~SET_BIT4
 807      =2  #define clr_FBINEN    PWMCON1  &= ~SET_BIT3
 808      =2  #define clr_PWMDIV2   PWMCON1  &= ~SET_BIT2 
 809      =2  #define clr_PWMDIV1   PWMCON1  &= ~SET_BIT1
 810      =2  #define clr_PWMDIV0   PWMCON1  &= ~SET_BIT0
 811      =2  
 812      =2  //**** ACC  E0H ****
 813      =2  
C51 COMPILER V9.00   SYSTEM                                                                06/13/2020 16:27:47 PAGE 24  

 814      =2  //**** ADCCON1  E1H ****
 815      =2  #define set_STADCPX ADCCON1  |= SET_BIT6
 816      =2  #define set_ETGTYP1 ADCCON1  |= SET_BIT3
 817      =2  #define set_ETGTYP0 ADCCON1  |= SET_BIT2
 818      =2  #define set_ADCEX   ADCCON1  |= SET_BIT1
 819      =2  #define set_ADCEN   ADCCON1  |= SET_BIT0
 820      =2  
 821      =2  #define clr_STADCPX ADCCON1  &= ~SET_BIT6
 822      =2  #define clr_ETGTYP1 ADCCON1  &= ~SET_BIT3
 823      =2  #define clr_ETGTYP0 ADCCON1  &= ~SET_BIT2
 824      =2  #define clr_ADCEX   ADCCON1  &= ~SET_BIT1
 825      =2  #define clr_ADCEN   ADCCON1  &= ~SET_BIT0
 826      =2  
 827      =2  //**** ADCON2   E2H ****
 828      =2  #define set_ADFBEN  ADCCON2  |= SET_BIT7
 829      =2  #define set_ADCMPOP ADCCON2  |= SET_BIT6
 830      =2  #define set_ADCMPEN ADCCON2  |= SET_BIT5
 831      =2  #define set_ADCMPO  ADCCON2  |= SET_BIT4
 832      =2  
 833      =2  #define clr_ADFBEN  ADCCON2  &= ~SET_BIT7
 834      =2  #define clr_ADCMPOP ADCCON2  &= ~SET_BIT6
 835      =2  #define clr_ADCMPEN ADCCON2  &= ~SET_BIT5
 836      =2  #define clr_ADCMPO  ADCCON2  &= ~SET_BIT4
 837      =2  
 838      =2  //**** ADCDLY   E3H ****
 839      =2  //**** C0L      E4H ****
 840      =2  //**** C0H      E5H ****
 841      =2  //**** C1L      E6H ****
 842      =2  //**** C1H      E7H ****
 843      =2  
 844      =2  //**** ADCCON0  EAH ****
 845      =2  #define set_ADCF    ADCF     = 1
 846      =2  #define set_ADCS    ADCS     = 1
 847      =2  #define set_ETGSEL1 ETGSEL1  = 1
 848      =2  #define set_ETGSEL0 ETGSEL0  = 1
 849      =2  #define set_ADCHS3  ADCHS3   = 1
 850      =2  #define set_ADCHS2  ADCHS2   = 1
 851      =2  #define set_ADCHS1  ADCHS1   = 1
 852      =2  #define set_ADCHS0  ADCHS0   = 1
 853      =2  
 854      =2  #define clr_ADCF    ADCF     = 0
 855      =2  #define clr_ADCS    ADCS     = 0
 856      =2  #define clr_ETGSEL1 ETGSEL1  = 0
 857      =2  #define clr_ETGSEL0 ETGSEL0  = 0
 858      =2  #define clr_ADCHS3  ADCHS3   = 0
 859      =2  #define clr_ADCHS2  ADCHS2   = 0
 860      =2  #define clr_ADCHS1  ADCHS1   = 0
 861      =2  #define clr_ADCHS0  ADCHS0   = 0
 862      =2  
 863      =2  //**** PICON  E9H ****
 864      =2  #define set_PIT67   PICON   |= SET_BIT7
 865      =2  #define set_PIT45   PICON   |= SET_BIT6
 866      =2  #define set_PIT3    PICON   |= SET_BIT5
 867      =2  #define set_PIT2    PICON   |= SET_BIT4
 868      =2  #define set_PIT1    PICON   |= SET_BIT3
 869      =2  #define set_PIT0    PICON   |= SET_BIT2
 870      =2  #define set_PIPS1   PICON   |= SET_BIT1
 871      =2  #define set_PIPS0   PICON   |= SET_BIT0
 872      =2                              
 873      =2  #define clr_PIT67   PICON   &= ~SET_BIT7
 874      =2  #define clr_PIT45   PICON   &= ~SET_BIT6
 875      =2  #define clr_PIT3    PICON   &= ~SET_BIT5
C51 COMPILER V9.00   SYSTEM                                                                06/13/2020 16:27:47 PAGE 25  

 876      =2  #define clr_PIT2    PICON   &= ~SET_BIT4
 877      =2  #define clr_PIT1    PICON   &= ~SET_BIT3
 878      =2  #define clr_PIT0    PICON   &= ~SET_BIT2
 879      =2  #define clr_PIPS1   PICON   &= ~SET_BIT1
 880      =2  #define clr_PIPS0   PICON   &= ~SET_BIT0
 881      =2  
 882      =2  //**** PINEN    EAH **** 
 883      =2  #define set_PINEN7  PINEN   |= SET_BIT7
 884      =2  #define set_PINEN6  PINEN   |= SET_BIT6
 885      =2  #define set_PINEN5  PINEN   |= SET_BIT5
 886      =2  #define set_PINEN4  PINEN   |= SET_BIT4
 887      =2  #define set_PINEN3  PINEN   |= SET_BIT3
 888      =2  #define set_PINEN2  PINEN   |= SET_BIT2
 889      =2  #define set_PINEN1  PINEN   |= SET_BIT1
 890      =2  #define set_PINEN0  PINEN   |= SET_BIT0
 891      =2                              
 892      =2  #define clr_PINEN7  PINEN   &= ~SET_BIT7
 893      =2  #define clr_PINEN6  PINEN   &= ~SET_BIT6
 894      =2  #define clr_PINEN5  PINEN   &= ~SET_BIT5
 895      =2  #define clr_PINEN4  PINEN   &= ~SET_BIT4
 896      =2  #define clr_PINEN3  PINEN   &= ~SET_BIT3
 897      =2  #define clr_PINEN2  PINEN   &= ~SET_BIT2
 898      =2  #define clr_PINEN1  PINEN   &= ~SET_BIT1
 899      =2  #define clr_PINEN0  PINEN   &= ~SET_BIT0
 900      =2                              
 901      =2  //**** PIPEN    EBH ****
 902      =2  #define set_PIPEN7  PIPEN   |= SET_BIT7
 903      =2  #define set_PIPEN6  PIPEN   |= SET_BIT6
 904      =2  #define set_PIPEN5  PIPEN   |= SET_BIT5
 905      =2  #define set_PIPEN4  PIPEN   |= SET_BIT4
 906      =2  #define set_PIPEN3  PIPEN   |= SET_BIT3
 907      =2  #define set_PIPEN2  PIPEN   |= SET_BIT2
 908      =2  #define set_PIPEN1  PIPEN   |= SET_BIT1
 909      =2  #define set_PIPEN0  PIPEN   |= SET_BIT0
 910      =2                              
 911      =2  #define clr_PIPEN7  PIPEN   &= ~SET_BIT7
 912      =2  #define clr_PIPEN6  PIPEN   &= ~SET_BIT6
 913      =2  #define clr_PIPEN5  PIPEN   &= ~SET_BIT5
 914      =2  #define clr_PIPEN4  PIPEN   &= ~SET_BIT4
 915      =2  #define clr_PIPEN3  PIPEN   &= ~SET_BIT3
 916      =2  #define clr_PIPEN2  PIPEN   &= ~SET_BIT2
 917      =2  #define clr_PIPEN1  PIPEN   &= ~SET_BIT1
 918      =2  #define clr_PIPEN0  PIPEN   &= ~SET_BIT0
 919      =2     
 920      =2  //**** PIF  ECH ****
 921      =2  #define set_PIF7    PIF     |= SET_BIT7
 922      =2  #define set_PIF6    PIF     |= SET_BIT6
 923      =2  #define set_PIF5    PIF     |= SET_BIT5
 924      =2  #define set_PIF4    PIF     |= SET_BIT4
 925      =2  #define set_PIF3    PIF     |= SET_BIT3
 926      =2  #define set_PIF2    PIF     |= SET_BIT2
 927      =2  #define set_PIF1    PIF     |= SET_BIT1
 928      =2  #define set_PIF0    PIF     |= SET_BIT0
 929      =2  
 930      =2  #define clr_PIF7    PIF     &= ~SET_BIT7
 931      =2  #define clr_PIF6    PIF     &= ~SET_BIT6
 932      =2  #define clr_PIF5    PIF     &= ~SET_BIT5
 933      =2  #define clr_PIF4    PIF     &= ~SET_BIT4
 934      =2  #define clr_PIF3    PIF     &= ~SET_BIT3
 935      =2  #define clr_PIF2    PIF     &= ~SET_BIT2
 936      =2  #define clr_PIF1    PIF     &= ~SET_BIT1
 937      =2  #define clr_PIF0    PIF     &= ~SET_BIT0
C51 COMPILER V9.00   SYSTEM                                                                06/13/2020 16:27:47 PAGE 26  

 938      =2  
 939      =2  //**** C2L  EDH ****  
 940      =2  //**** C2H  EEH ****
 941      =2  
 942      =2  //**** EIP  EFH ****                      
 943      =2  #define set_PT2     EIP     |= SET_BIT7
 944      =2  #define set_PSPI    EIP     |= SET_BIT6
 945      =2  #define set_PFB     EIP     |= SET_BIT5
 946      =2  #define set_PWDT    EIP     |= SET_BIT4
 947      =2  #define set_PPWM    EIP     |= SET_BIT3
 948      =2  #define set_PCAP    EIP     |= SET_BIT2
 949      =2  #define set_PPI     EIP     |= SET_BIT1
 950      =2  #define set_PI2C    EIP     |= SET_BIT0
 951      =2                              
 952      =2  #define clr_PT2     EIP     &= ~SET_BIT7
 953      =2  #define clr_PSPI    EIP     &= ~SET_BIT6
 954      =2  #define clr_PFB     EIP     &= ~SET_BIT5
 955      =2  #define clr_PWDT    EIP     &= ~SET_BIT4
 956      =2  #define clr_PPWM    EIP     &= ~SET_BIT3
 957      =2  #define clr_PCAP    EIP     &= ~SET_BIT2
 958      =2  #define clr_PPI     EIP     &= ~SET_BIT1
 959      =2  #define clr_PI2C    EIP     &= ~SET_BIT0
 960      =2  
 961      =2  //**** B  F0H ****
 962      =2  
 963      =2  //**** CAPCON3    F1H ****
 964      =2  #define set_CAP13   CAPCON3    |= SET_BIT7
 965      =2  #define set_CAP12   CAPCON3    |= SET_BIT6
 966      =2  #define set_CAP11   CAPCON3    |= SET_BIT5
 967      =2  #define set_CAP10   CAPCON3    |= SET_BIT4
 968      =2  #define set_CAP03   CAPCON3    |= SET_BIT3
 969      =2  #define set_CAP02   CAPCON3    |= SET_BIT2
 970      =2  #define set_CAP01   CAPCON3    |= SET_BIT1
 971      =2  #define set_CAP00   CAPCON3    |= SET_BIT0
 972      =2  
 973      =2  #define clr_CAP13   CAPCON3    &= ~SET_BIT7
 974      =2  #define clr_CAP12   CAPCON3    &= ~SET_BIT6
 975      =2  #define clr_CAP11   CAPCON3    &= ~SET_BIT5
 976      =2  #define clr_CAP10   CAPCON3    &= ~SET_BIT4
 977      =2  #define clr_CAP03   CAPCON3    &= ~SET_BIT3
 978      =2  #define clr_CAP02   CAPCON3    &= ~SET_BIT2
 979      =2  #define clr_CAP01   CAPCON3    &= ~SET_BIT1
 980      =2  #define clr_CAP00   CAPCON3    &= ~SET_BIT0
 981      =2  
 982      =2  //**** CAPCON4    F2H ****
 983      =2  #define set_CAP23    CAPCON4    |= SET_BIT3
 984      =2  #define set_CAP22    CAPCON4    |= SET_BIT2
 985      =2  #define set_CAP21    CAPCON4    |= SET_BIT1
 986      =2  #define set_CAP20    CAPCON4    |= SET_BIT0
 987      =2  
 988      =2  #define clr_CAP23    CAPCON4    &= ~SET_BIT3
 989      =2  #define clr_CAP22    CAPCON4    &= ~SET_BIT2
 990      =2  #define clr_CAP21    CAPCON4    &= ~SET_BIT1
 991      =2  #define clr_CAP20    CAPCON4    &= ~SET_BIT0
 992      =2  
 993      =2  //**** SPCR   F3H PAGE0 ****
 994      =2  #define set_SSOE    SPCR    |= SET_BIT7
 995      =2  #define set_SPIEN   SPCR    |= SET_BIT6
 996      =2  #define set_LSBFE   SPCR    |= SET_BIT5
 997      =2  #define set_MSTR    SPCR    |= SET_BIT4
 998      =2  #define set_CPOL    SPCR    |= SET_BIT3
 999      =2  #define set_CPHA    SPCR    |= SET_BIT2
C51 COMPILER V9.00   SYSTEM                                                                06/13/2020 16:27:47 PAGE 27  

1000      =2  #define set_SPR1    SPCR    |= SET_BIT1
1001      =2  #define set_SPR0    SPCR    |= SET_BIT0
1002      =2  
1003      =2  #define clr_SSOE    SPCR    &= ~SET_BIT7
1004      =2  #define clr_SPIEN   SPCR    &= ~SET_BIT6
1005      =2  #define clr_LSBFE   SPCR    &= ~SET_BIT5
1006      =2  #define clr_MSTR    SPCR    &= ~SET_BIT4
1007      =2  #define clr_CPOL    SPCR    &= ~SET_BIT3
1008      =2  #define clr_CPHA    SPCR    &= ~SET_BIT2
1009      =2  #define clr_SPR1    SPCR    &= ~SET_BIT1
1010      =2  #define clr_SPR0    SPCR    &= ~SET_BIT0
1011      =2  
1012      =2  //**** SPCR2    F3H PAGE1 **** SFRS must set as 1 to modify this register  
1013      =2  #define set_SPIS1   BIT_TMP=EA;TA=0xAA;TA=0x55;SFRS=0x01;SPCR2|=SET_BIT1;TA=0xAA;TA=0x55;SFRS=0x00;EA=BIT_T
             -MP
1014      =2  #define set_SPIS0   BIT_TMP=EA;TA=0xAA;TA=0x55;SFRS=0x00;SPCR2|=SET_BIT1;TA=0xAA;TA=0x55;SFRS=0x00;EA=BIT_T
             -MP
1015      =2  
1016      =2  #define clr_SPIS1   BIT_TMP=EA;TA=0xAA;TA=0x55;SFRS=0x00;SPCR2&=~SET_BIT1;TA=0xAA;TA=0x55;SFRS=0x00;EA=BIT_
             -TMP
1017      =2  #define clr_SPIS0   BIT_TMP=EA;TA=0xAA;TA=0x55;SFRS=0x00;SPCR2&=~SET_BIT0;TA=0xAA;TA=0x55;SFRS=0x00;EA=BIT_
             -TMP
1018      =2  
1019      =2  //**** SPSR     F4H ****
1020      =2  #define set_SPIF    SPSR    |= SET_BIT7
1021      =2  #define set_WCOL    SPSR    |= SET_BIT6
1022      =2  #define set_SPIOVF  SPSR    |= SET_BIT5
1023      =2  #define set_MODF    SPSR    |= SET_BIT4
1024      =2  #define set_DISMODF SPSR    |= SET_BIT3
1025      =2                              
1026      =2  #define clr_SPIF    SPSR    &= ~SET_BIT7
1027      =2  #define clr_WCOL    SPSR    &= ~SET_BIT6
1028      =2  #define clr_SPIOVF  SPSR    &= ~SET_BIT5
1029      =2  #define clr_MODF    SPSR    &= ~SET_BIT4
1030      =2  #define clr_DISMODF SPSR    &= ~SET_BIT3
1031      =2  
1032      =2  //**** SPDR   F5H ****
1033      =2  
1034      =2  //**** AINDIDS  F6H ****
1035      =2  #define set_P11DIDS AINDIDS  |= SET_BIT7
1036      =2  #define set_P03DIDS AINDIDS  |= SET_BIT6
1037      =2  #define set_P04DIDS AINDIDS  |= SET_BIT5
1038      =2  #define set_P05DIDS AINDIDS  |= SET_BIT4
1039      =2  #define set_P06DIDS AINDIDS  |= SET_BIT3
1040      =2  #define set_P07DIDS AINDIDS  |= SET_BIT2
1041      =2  #define set_P30DIDS AINDIDS  |= SET_BIT1
1042      =2  #define set_P17DIDS AINDIDS  |= SET_BIT0
1043      =2  
1044      =2  #define clr_P11DIDS AINDIDS  &= ~SET_BIT7
1045      =2  #define clr_P03DIDS AINDIDS  &= ~SET_BIT6
1046      =2  #define clr_P04DIDS AINDIDS  &= ~SET_BIT5
1047      =2  #define clr_P05DIDS AINDIDS  &= ~SET_BIT4
1048      =2  #define clr_P06DIDS AINDIDS  &= ~SET_BIT3
1049      =2  #define clr_P07DIDS AINDIDS  &= ~SET_BIT2
1050      =2  #define clr_P30DIDS AINDIDS  &= ~SET_BIT1
1051      =2  #define clr_P17DIDS AINDIDS  &= ~SET_BIT0
1052      =2  
1053      =2  //**** EIPH     F7H ****
1054      =2  #define set_PT2H    EIPH    |= SET_BIT7
1055      =2  #define set_PSPIH   EIPH    |= SET_BIT6
1056      =2  #define set_PFBH    EIPH    |= SET_BIT5
1057      =2  #define set_PWDTH   EIPH    |= SET_BIT4
C51 COMPILER V9.00   SYSTEM                                                                06/13/2020 16:27:47 PAGE 28  

1058      =2  #define set_PPWMH   EIPH    |= SET_BIT3
1059      =2  #define set_PCAPH   EIPH    |= SET_BIT2
1060      =2  #define set_PPIH    EIPH    |= SET_BIT1
1061      =2  #define set_PI2CH   EIPH    |= SET_BIT0
1062      =2                              
1063      =2  #define clr_PT2H    EIPH    &= ~SET_BIT7
1064      =2  #define clr_PSPIH   EIPH    &= ~SET_BIT6
1065      =2  #define clr_PFBH    EIPH    &= ~SET_BIT5
1066      =2  #define clr_PWDTH   EIPH    &= ~SET_BIT4
1067      =2  #define clr_PPWMH   EIPH    &= ~SET_BIT3
1068      =2  #define clr_PCAPH   EIPH    &= ~SET_BIT2
1069      =2  #define clr_PPIH    EIPH    &= ~SET_BIT1
1070      =2  #define clr_PI2CH   EIPH    &= ~SET_BIT0
1071      =2  
1072      =2  /**** SCON_1    F8H ****/
1073      =2  #define set_FE_1    FE_1  = 1
1074      =2  #define set_SM1_1   SM1_1 = 1
1075      =2  #define set_SM2_1   SM2_1 = 1
1076      =2  #define set_REN_1   REN_1 = 1
1077      =2  #define set_TB8_1   TB8_1 = 1
1078      =2  #define set_RB8_1   RB8_1 = 1
1079      =2  #define set_TI_1    TI_1  = 1
1080      =2  #define set_RI_1    RI_1  = 1
1081      =2  
1082      =2  #define clr_FE_1    FE_1  = 0
1083      =2  #define clr_SM1_1   SM1_1 = 0
1084      =2  #define clr_SM2_1   SM2_1 = 0
1085      =2  #define clr_REN_1   REN_1 = 0
1086      =2  #define clr_TB8_1   TB8_1 = 0
1087      =2  #define clr_RB8_1   RB8_1 = 0
1088      =2  #define clr_TI_1    TI_1  = 0
1089      =2  #define clr_RI_1    RI_1  = 0
1090      =2  
1091      =2  //**** PDTEN    F9H ****
1092      =2  #define set_PDT45EN BIT_TMP=EA;EA=0;TA=0xAA;TA=0x55;PDTEN|= SET_BIT2  ;EA=BIT_TMP;
1093      =2  #define set_PDT23EN BIT_TMP=EA;EA=0;TA=0xAA;TA=0x55;PDTEN|= SET_BIT1  ;EA=BIT_TMP;
1094      =2  #define set_PDT01EN BIT_TMP=EA;EA=0;TA=0xAA;TA=0x55;PDTEN|= SET_BIT0  ;EA=BIT_TMP;
1095      =2  
1096      =2  #define clr_PDT45EN BIT_TMP=EA;EA=0;TA=0xAA;TA=0x55;PDTEN &= ~SET_BIT2 ;EA=BIT_TMP;
1097      =2  #define clr_PDT23EN BIT_TMP=EA;EA=0;TA=0xAA;TA=0x55;PDTEN &= ~SET_BIT1 ;EA=BIT_TMP;
1098      =2  #define clr_PDT01EN BIT_TMP=EA;EA=0;TA=0xAA;TA=0x55;PDTEN &= ~SET_BIT0 ;EA=BIT_TMP;
1099      =2  
1100      =2  //**** PDTCNT   FAH ****
1101      =2  
1102      =2  //**** PMEN     FBH ****                   
1103      =2  #define set_PMEN5   PMEN    |= SET_BIT5
1104      =2  #define set_PMEN4   PMEN    |= SET_BIT4
1105      =2  #define set_PMEN3   PMEN    |= SET_BIT3
1106      =2  #define set_PMEN2   PMEN    |= SET_BIT2
1107      =2  #define set_PMEN1   PMEN    |= SET_BIT1
1108      =2  #define set_PMEN0   PMEN    |= SET_BIT0
1109      =2                              
1110      =2  #define clr_PMEN5   PMEN    &= ~SET_BIT5
1111      =2  #define clr_PMEN4   PMEN    &= ~SET_BIT4
1112      =2  #define clr_PMEN3   PMEN    &= ~SET_BIT3
1113      =2  #define clr_PMEN2   PMEN    &= ~SET_BIT2
1114      =2  #define clr_PMEN1   PMEN    &= ~SET_BIT1
1115      =2  #define clr_PMEN0   PMEN    &= ~SET_BIT0
1116      =2                              
1117      =2  //**** PMD    FCH ****                       
1118      =2  #define set_PMD7    PMD     |= SET_BIT7
1119      =2  #define set_PMD6    PMD     |= SET_BIT6
C51 COMPILER V9.00   SYSTEM                                                                06/13/2020 16:27:47 PAGE 29  

1120      =2  #define set_PMD5    PMD     |= SET_BIT5
1121      =2  #define set_PMD4    PMD     |= SET_BIT4
1122      =2  #define set_PMD3    PMD     |= SET_BIT3
1123      =2  #define set_PMD2    PMD     |= SET_BIT2
1124      =2  #define set_PMD1    PMD     |= SET_BIT1
1125      =2  #define set_PMD0    PMD     |= SET_BIT0
1126      =2                              
1127      =2  #define clr_PMD7    PMD     &= ~SET_BIT7
1128      =2  #define clr_PMD6    PMD     &= ~SET_BIT6
1129      =2  #define clr_PMD5    PMD     &= ~SET_BIT5
1130      =2  #define clr_PMD4    PMD     &= ~SET_BIT4
1131      =2  #define clr_PMD3    PMD     &= ~SET_BIT3
1132      =2  #define clr_PMD2    PMD     &= ~SET_BIT2
1133      =2  #define clr_PMD1    PMD     &= ~SET_BIT1
1134      =2  #define clr_PMD0    PMD     &= ~SET_BIT0
1135      =2  
1136      =2  //****  EIP1    FEH ****                     
1137      =2  #define set_PWKT    EIP1    |= SET_BIT2
1138      =2  #define set_PT3     EIP1    |= SET_BIT1
1139      =2  #define set_PS_1    EIP1    |= SET_BIT0
1140      =2                              
1141      =2  #define clr_PWKT    EIP1    &= ~SET_BIT2
1142      =2  #define clr_PT3     EIP1    &= ~SET_BIT1
1143      =2  #define clr_PS_1    EIP1    &= ~SET_BIT0
1144      =2  
1145      =2  //**** EIPH1    FFH ****                
1146      =2  #define set_PWKTH   EIPH1   |= SET_BIT2
1147      =2  #define set_PT3H    EIPH1   |= SET_BIT1
1148      =2  #define set_PSH_1   EIPH1   |= SET_BIT0
1149      =2                              
1150      =2  #define clr_PWKTH   EIPH1   &= ~SET_BIT2
1151      =2  #define clr_PT3H    EIPH1   &= ~SET_BIT1
1152      =2  #define clr_PSH_1   EIPH1   &= ~SET_BIT0
1153      =2  
1154      =2  
1155      =2  
1156      =2  
1157      =2  
1158      =2  
1159      =2  
1160      =2                              
1161      =2  
1162      =2  
1163      =2                              
1164      =2                 
1165      =2  
1166      =2  
1167      =2  
1168      =2  
1169      =2  
1170      =2  
1171      =2  
1172      =2  
1173      =2  
1174      =2  
1175      =2  
1176      =2  
  22      =1  #include "../mcu/Function_define.h"
   1      =2  /*--------------------------------------------------------------------------
   2      =2  N76E003 Function_define.h V1.02
   3      =2  
   4      =2  All function define inital setting file for Nuvoton N76E003
C51 COMPILER V9.00   SYSTEM                                                                06/13/2020 16:27:47 PAGE 30  

   5      =2  --------------------------------------------------------------------------*/
   6      =2  
   7      =2  #include <intrins.h>
   1      =3  /*--------------------------------------------------------------------------
   2      =3  INTRINS.H
   3      =3  
   4      =3  Intrinsic functions for C51.
   5      =3  Copyright (c) 1988-2004 Keil Elektronik GmbH and Keil Software, Inc.
   6      =3  All rights reserved.
   7      =3  --------------------------------------------------------------------------*/
   8      =3  
   9      =3  #ifndef __INTRINS_H__
  10      =3  #define __INTRINS_H__
  11      =3  
  12      =3  extern void          _nop_     (void);
  13      =3  extern bit           _testbit_ (bit);
  14      =3  extern unsigned char _cror_    (unsigned char, unsigned char);
  15      =3  extern unsigned int  _iror_    (unsigned int,  unsigned char);
  16      =3  extern unsigned long _lror_    (unsigned long, unsigned char);
  17      =3  extern unsigned char _crol_    (unsigned char, unsigned char);
  18      =3  extern unsigned int  _irol_    (unsigned int,  unsigned char);
  19      =3  extern unsigned long _lrol_    (unsigned long, unsigned char);
  20      =3  extern unsigned char _chkfloat_(float);
  21      =3  extern void          _push_    (unsigned char _sfr);
  22      =3  extern void          _pop_     (unsigned char _sfr);
  23      =3  
  24      =3  #endif
  25      =3  
   8      =2  #include <stdio.h>
   1      =3  /*--------------------------------------------------------------------------
   2      =3  STDIO.H
   3      =3  
   4      =3  Prototypes for standard I/O functions.
   5      =3  Copyright (c) 1988-2002 Keil Elektronik GmbH and Keil Software, Inc.
   6      =3  All rights reserved.
   7      =3  --------------------------------------------------------------------------*/
   8      =3  
   9      =3  #ifndef __STDIO_H__
           =3 #define __STDIO_H__
           =3 
           =3 #ifndef EOF
           =3  #define EOF -1
           =3 #endif
           =3 
           =3 #ifndef NULL
           =3  #define NULL ((void *) 0)
           =3 #endif
           =3 
           =3 #ifndef _SIZE_T
           =3  #define _SIZE_T
           =3  typedef unsigned int size_t;
           =3 #endif
           =3 
           =3 #pragma SAVE
           =3 #pragma REGPARMS
           =3 extern char _getkey (void);
           =3 extern char getchar (void);
           =3 extern char ungetchar (char);
           =3 extern char putchar (char);
           =3 extern int printf   (const char *, ...);
           =3 extern int sprintf  (char *, const char *, ...);
           =3 extern int vprintf  (const char *, char *);
C51 COMPILER V9.00   SYSTEM                                                                06/13/2020 16:27:47 PAGE 31  

           =3 extern int vsprintf (char *, const char *, char *);
           =3 extern char *gets (char *, int n);
           =3 extern int scanf (const char *, ...);
           =3 extern int sscanf (char *, const char *, ...);
           =3 extern int puts (const char *);
           =3 
           =3 #pragma RESTORE
           =3 
           =3 #endif
  43      =3  
   9      =2  
  10      =2  #define nop _nop_();
  11      =2  
  12      =2  
  13      =2  //16 --> 8 x 2
  14      =2  #define HIBYTE(v1)              ((UINT8)((v1)>>8))                      //v1 is UINT16
  15      =2  #define LOBYTE(v1)              ((UINT8)((v1)&0xFF))
  16      =2  //8 x 2 --> 16
  17      =2  #define MAKEWORD(v1,v2)         ((((UINT16)(v1))<<8)+(UINT16)(v2))      //v1,v2 is UINT8
  18      =2  //8 x 4 --> 32
  19      =2  #define MAKELONG(v1,v2,v3,v4)   (UINT32)((v1<<32)+(v2<<16)+(v3<<8)+v4)  //v1,v2,v3,v4 is UINT8
  20      =2  //32 --> 16 x 2
  21      =2  #define YBYTE1(v1)              ((UINT16)((v1)>>16))                    //v1 is UINT32
  22      =2  #define YBYTE0(v1)              ((UINT16)((v1)&0xFFFF))
  23      =2  //32 --> 8 x 4
  24      =2  #define TBYTE3(v1)              ((UINT8)((v1)>>24))                     //v1 is UINT32
  25      =2  #define TBYTE2(v1)              ((UINT8)((v1)>>16))
  26      =2  #define TBYTE1(v1)              ((UINT8)((v1)>>8)) 
  27      =2  #define TBYTE0(v1)              ((UINT8)((v1)&0xFF))
  28      =2  
  29      =2  #define SET_BIT0        0x01
  30      =2  #define SET_BIT1        0x02
  31      =2  #define SET_BIT2        0x04
  32      =2  #define SET_BIT3        0x08
  33      =2  #define SET_BIT4        0x10
  34      =2  #define SET_BIT5        0x20
  35      =2  #define SET_BIT6        0x40
  36      =2  #define SET_BIT7        0x80
  37      =2  #define SET_BIT8        0x0100
  38      =2  #define SET_BIT9        0x0200
  39      =2  #define SET_BIT10       0x0400
  40      =2  #define SET_BIT11       0x0800
  41      =2  #define SET_BIT12       0x1000
  42      =2  #define SET_BIT13       0x2000
  43      =2  #define SET_BIT14       0x4000
  44      =2  #define SET_BIT15       0x8000
  45      =2  
  46      =2  #define CLR_BIT0        0xFE
  47      =2  #define CLR_BIT1        0xFD
  48      =2  #define CLR_BIT2        0xFB
  49      =2  #define CLR_BIT3        0xF7
  50      =2  #define CLR_BIT4        0xEF
  51      =2  #define CLR_BIT5        0xDF
  52      =2  #define CLR_BIT6        0xBF
  53      =2  #define CLR_BIT7        0x7F
  54      =2  
  55      =2  #define CLR_BIT8        0xFEFF
  56      =2  #define CLR_BIT9        0xFDFF
  57      =2  #define CLR_BIT10       0xFBFF
  58      =2  #define CLR_BIT11       0xF7FF
  59      =2  #define CLR_BIT12       0xEFFF
  60      =2  #define CLR_BIT13       0xDFFF
C51 COMPILER V9.00   SYSTEM                                                                06/13/2020 16:27:47 PAGE 32  

  61      =2  #define CLR_BIT14       0xBFFF
  62      =2  #define CLR_BIT15       0x7FFF
  63      =2  
  64      =2  #define FAIL            1
  65      =2  #define PASS            0
  66      =2  
  67      =2  /*****************************************************************************************
  68      =2  * For GPIO INIT setting 
  69      =2  *****************************************************************************************/
  70      =2  //------------------- Define Port as Quasi mode  -------------------
  71      =2  #define P00_Quasi_Mode        P0M1&=~SET_BIT0;P0M2&=~SET_BIT0
  72      =2  #define P01_Quasi_Mode        P0M1&=~SET_BIT1;P0M2&=~SET_BIT1
  73      =2  #define P02_Quasi_Mode        P0M1&=~SET_BIT2;P0M2&=~SET_BIT2
  74      =2  #define P03_Quasi_Mode        P0M1&=~SET_BIT3;P0M2&=~SET_BIT3
  75      =2  #define P04_Quasi_Mode        P0M1&=~SET_BIT4;P0M2&=~SET_BIT4
  76      =2  #define P05_Quasi_Mode        P0M1&=~SET_BIT5;P0M2&=~SET_BIT5
  77      =2  #define P06_Quasi_Mode        P0M1&=~SET_BIT6;P0M2&=~SET_BIT6
  78      =2  #define P07_Quasi_Mode        P0M1&=~SET_BIT7;P0M2&=~SET_BIT7
  79      =2  #define P10_Quasi_Mode        P1M1&=~SET_BIT0;P1M2&=~SET_BIT0
  80      =2  #define P11_Quasi_Mode        P1M1&=~SET_BIT1;P1M2&=~SET_BIT1
  81      =2  #define P12_Quasi_Mode        P1M1&=~SET_BIT2;P1M2&=~SET_BIT2
  82      =2  #define P13_Quasi_Mode        P1M1&=~SET_BIT3;P1M2&=~SET_BIT3
  83      =2  #define P14_Quasi_Mode        P1M1&=~SET_BIT4;P1M2&=~SET_BIT4
  84      =2  #define P15_Quasi_Mode        P1M1&=~SET_BIT5;P1M2&=~SET_BIT5
  85      =2  #define P16_Quasi_Mode        P1M1&=~SET_BIT6;P1M2&=~SET_BIT6
  86      =2  #define P17_Quasi_Mode        P1M1&=~SET_BIT7;P1M2&=~SET_BIT7
  87      =2  #define P30_Quasi_Mode        P3M1&=~SET_BIT0;P3M2&=~SET_BIT0
  88      =2  //------------------- Define Port as Push Pull mode -------------------
  89      =2  #define P00_PushPull_Mode     P0M1&=~SET_BIT0;P0M2|=SET_BIT0
  90      =2  #define P01_PushPull_Mode     P0M1&=~SET_BIT1;P0M2|=SET_BIT1
  91      =2  #define P02_PushPull_Mode     P0M1&=~SET_BIT2;P0M2|=SET_BIT2
  92      =2  #define P03_PushPull_Mode     P0M1&=~SET_BIT3;P0M2|=SET_BIT3
  93      =2  #define P04_PushPull_Mode     P0M1&=~SET_BIT4;P0M2|=SET_BIT4
  94      =2  #define P05_PushPull_Mode     P0M1&=~SET_BIT5;P0M2|=SET_BIT5
  95      =2  #define P06_PushPull_Mode     P0M1&=~SET_BIT6;P0M2|=SET_BIT6
  96      =2  #define P07_PushPull_Mode     P0M1&=~SET_BIT7;P0M2|=SET_BIT7
  97      =2  #define P10_PushPull_Mode     P1M1&=~SET_BIT0;P1M2|=SET_BIT0
  98      =2  #define P11_PushPull_Mode     P1M1&=~SET_BIT1;P1M2|=SET_BIT1
  99      =2  #define P12_PushPull_Mode     P1M1&=~SET_BIT2;P1M2|=SET_BIT2
 100      =2  #define P13_PushPull_Mode     P1M1&=~SET_BIT3;P1M2|=SET_BIT3
 101      =2  #define P14_PushPull_Mode     P1M1&=~SET_BIT4;P1M2|=SET_BIT4
 102      =2  #define P15_PushPull_Mode     P1M1&=~SET_BIT5;P1M2|=SET_BIT5
 103      =2  #define P16_PushPull_Mode     P1M1&=~SET_BIT6;P1M2|=SET_BIT6
 104      =2  #define P17_PushPull_Mode     P1M1&=~SET_BIT7;P1M2|=SET_BIT7
 105      =2  #define P30_PushPull_Mode     P3M1&=~SET_BIT0;P3M2|=SET_BIT0
 106      =2  #define GPIO1_PushPull_Mode   P1M1&=~SET_BIT0;P1M2|=SET_BIT0
 107      =2  //------------------- Define Port as Input Only mode -------------------
 108      =2  #define P00_Input_Mode        P0M1|=SET_BIT0;P0M2&=~SET_BIT0
 109      =2  #define P01_Input_Mode        P0M1|=SET_BIT1;P0M2&=~SET_BIT1
 110      =2  #define P02_Input_Mode        P0M1|=SET_BIT2;P0M2&=~SET_BIT2
 111      =2  #define P03_Input_Mode        P0M1|=SET_BIT3;P0M2&=~SET_BIT3
 112      =2  #define P04_Input_Mode        P0M1|=SET_BIT4;P0M2&=~SET_BIT4
 113      =2  #define P05_Input_Mode        P0M1|=SET_BIT5;P0M2&=~SET_BIT5
 114      =2  #define P06_Input_Mode        P0M1|=SET_BIT6;P0M2&=~SET_BIT6
 115      =2  #define P07_Input_Mode        P0M1|=SET_BIT7;P0M2&=~SET_BIT7
 116      =2  #define P10_Input_Mode        P1M1|=SET_BIT0;P1M2&=~SET_BIT0
 117      =2  #define P11_Input_Mode        P1M1|=SET_BIT1;P1M2&=~SET_BIT1
 118      =2  #define P12_Input_Mode        P1M1|=SET_BIT2;P1M2&=~SET_BIT2
 119      =2  #define P13_Input_Mode        P1M1|=SET_BIT3;P1M2&=~SET_BIT3
 120      =2  #define P14_Input_Mode        P1M1|=SET_BIT4;P1M2&=~SET_BIT4
 121      =2  #define P15_Input_Mode        P1M1|=SET_BIT5;P1M2&=~SET_BIT5
 122      =2  #define P16_Input_Mode        P1M1|=SET_BIT6;P1M2&=~SET_BIT6
C51 COMPILER V9.00   SYSTEM                                                                06/13/2020 16:27:47 PAGE 33  

 123      =2  #define P17_Input_Mode        P1M1|=SET_BIT7;P1M2&=~SET_BIT7
 124      =2  #define P30_Input_Mode        P3M1|=SET_BIT0;P3M2&=~SET_BIT0
 125      =2  //-------------------Define Port as Open Drain mode -------------------
 126      =2  #define P00_OpenDrain_Mode    P0M1|=SET_BIT0;P0M2|=SET_BIT0
 127      =2  #define P01_OpenDrain_Mode    P0M1|=SET_BIT1;P0M2|=SET_BIT1
 128      =2  #define P02_OpenDrain_Mode    P0M1|=SET_BIT2;P0M2|=SET_BIT2
 129      =2  #define P03_OpenDrain_Mode    P0M1|=SET_BIT3;P0M2|=SET_BIT3
 130      =2  #define P04_OpenDrain_Mode    P0M1|=SET_BIT4;P0M2|=SET_BIT4
 131      =2  #define P05_OpenDrain_Mode    P0M1|=SET_BIT5;P0M2|=SET_BIT5
 132      =2  #define P06_OpenDrain_Mode    P0M1|=SET_BIT6;P0M2|=SET_BIT6
 133      =2  #define P07_OpenDrain_Mode    P0M1|=SET_BIT7;P0M2|=SET_BIT7
 134      =2  #define P10_OpenDrain_Mode    P1M1|=SET_BIT0;P1M2|=SET_BIT0
 135      =2  #define P11_OpenDrain_Mode    P1M1|=SET_BIT1;P1M2|=SET_BIT1
 136      =2  #define P12_OpenDrain_Mode    P1M1|=SET_BIT2;P1M2|=SET_BIT2
 137      =2  #define P13_OpenDrain_Mode    P1M1|=SET_BIT3;P1M2|=SET_BIT3
 138      =2  #define P14_OpenDrain_Mode    P1M1|=SET_BIT4;P1M2|=SET_BIT4
 139      =2  #define P15_OpenDrain_Mode    P1M1|=SET_BIT5;P1M2|=SET_BIT5
 140      =2  #define P16_OpenDrain_Mode    P1M1|=SET_BIT6;P1M2|=SET_BIT6
 141      =2  #define P17_OpenDrain_Mode    P1M1|=SET_BIT7;P1M2|=SET_BIT7
 142      =2  #define P30_OpenDrain_Mode    P3M1|=SET_BIT0;P3M2|=SET_BIT0
 143      =2  //--------- Define all port as quasi mode ---------
 144      =2  #define Set_All_GPIO_Quasi_Mode     P0M1=0;P0M2=0;P1M1=0;P1M2=0;P3M1=0;P3M2=0
 145      =2  
 146      =2  #define     set_GPIO1   P12=1
 147      =2  #define     clr_GPIO1   P12=0
 148      =2  
 149      =2  /****************************************************************************
 150      =2     Enable INT port 0~3
 151      =2  ***************************************************************************/
 152      =2  #define   Enable_INT_Port0          PICON &= 0xFB;
 153      =2  #define   Enable_INT_Port1          PICON |= 0x01;
 154      =2  #define   Enable_INT_Port2          PICON |= 0x02;
 155      =2  #define   Enable_INT_Port3          PICON |= 0x03;
 156      =2  /*****************************************************************************
 157      =2   Enable each bit low level trig mode
 158      =2  *****************************************************************************/
 159      =2  #define   Enable_BIT7_LowLevel_Trig     PICON&=0x7F;PINEN|=0x80;PIPEN&=0x7F
 160      =2  #define   Enable_BIT6_LowLevel_Trig     PICON&=0x7F;PINEN|=0x40;PIPEN&=0xBF
 161      =2  #define   Enable_BIT5_LowLevel_Trig     PICON&=0xBF;PINEN|=0x20;PIPEN&=0xDF
 162      =2  #define   Enable_BIT4_LowLevel_Trig     PICON&=0xBF;PINEN|=0x10;PIPEN&=0xEF
 163      =2  #define   Enable_BIT3_LowLevel_Trig     PICON&=0xDF;PINEN|=0x08;PIPEN&=0xF7
 164      =2  #define   Enable_BIT2_LowLevel_Trig     PICON&=0xEF;PINEN|=0x04;PIPEN&=0xFB
 165      =2  #define   Enable_BIT1_LowLevel_Trig     PICON&=0xF7;PINEN|=0x02;PIPEN&=0xFD
 166      =2  #define   Enable_BIT0_LowLevel_Trig     PICON&=0xFD;PINEN|=0x01;PIPEN&=0xFE
 167      =2  /*****************************************************************************
 168      =2   Enable each bit high level trig mode
 169      =2  *****************************************************************************/
 170      =2  #define   Enable_BIT7_HighLevel_Trig      PICON&=0x7F;PINEN&=0x7F;PIPEN|=0x80
 171      =2  #define   Enable_BIT6_HighLevel_Trig      PICON&=0x7F;PINEN&=0xBF;PIPEN|=0x40
 172      =2  #define   Enable_BIT5_HighLevel_Trig      PICON&=0xBF;PINEN&=0xDF;PIPEN|=0x20
 173      =2  #define   Enable_BIT4_HighLevel_Trig      PICON&=0xBF;PINEN&=0xEF;PIPEN|=0x10
 174      =2  #define   Enable_BIT3_HighLevel_Trig      PICON&=0xDF;PINEN&=0xF7;PIPEN|=0x08
 175      =2  #define   Enable_BIT2_HighLevel_Trig      PICON&=0xEF;PINEN&=0xFB;PIPEN|=0x04
 176      =2  #define   Enable_BIT1_HighLevel_Trig      PICON&=0xF7;PINEN&=0xFD;PIPEN|=0x02
 177      =2  #define   Enable_BIT0_HighLevel_Trig      PICON&=0xFD;PINEN&=0xFE;PIPEN|=0x01
 178      =2  /*****************************************************************************
 179      =2   Enable each bit falling edge trig mode
 180      =2  *****************************************************************************/
 181      =2  #define   Enable_BIT7_FallEdge_Trig     PICON|=0x80;PINEN|=0x80;PIPEN&=0x7F
 182      =2  #define   Enable_BIT6_FallEdge_Trig     PICON|=0x80;PINEN|=0x40;PIPEN&=0xBF
 183      =2  #define   Enable_BIT5_FallEdge_Trig     PICON|=0x40;PINEN|=0x20;PIPEN&=0xDF
 184      =2  #define   Enable_BIT4_FallEdge_Trig     PICON|=0x40;PINEN|=0x10;PIPEN&=0xEF
C51 COMPILER V9.00   SYSTEM                                                                06/13/2020 16:27:47 PAGE 34  

 185      =2  #define   Enable_BIT3_FallEdge_Trig     PICON|=0x20;PINEN|=0x08;PIPEN&=0xF7
 186      =2  #define   Enable_BIT2_FallEdge_Trig     PICON|=0x10;PINEN|=0x04;PIPEN&=0xFB
 187      =2  #define   Enable_BIT1_FallEdge_Trig     PICON|=0x08;PINEN|=0x02;PIPEN&=0xFD
 188      =2  #define   Enable_BIT0_FallEdge_Trig     PICON|=0x04;PINEN|=0x01;PIPEN&=0xFE
 189      =2  /*****************************************************************************
 190      =2   Enable each bit rasing edge trig mode
 191      =2  *****************************************************************************/
 192      =2  #define   Enable_BIT7_RasingEdge_Trig     PICON|=0x80;PINEN&=0x7F;PIPEN|=0x80
 193      =2  #define   Enable_BIT6_RasingEdge_Trig     PICON|=0x80;PINEN&=0xBF;PIPEN|=0x40
 194      =2  #define   Enable_BIT5_RasingEdge_Trig     PICON|=0x40;PINEN&=0xDF;PIPEN|=0x20
 195      =2  #define   Enable_BIT4_RasingEdge_Trig     PICON|=0x40;PINEN&=0xEF;PIPEN|=0x10
 196      =2  #define   Enable_BIT3_RasingEdge_Trig     PICON|=0x20;PINEN&=0xF7;PIPEN|=0x08
 197      =2  #define   Enable_BIT2_RasingEdge_Trig     PICON|=0x10;PINEN&=0xFB;PIPEN|=0x04
 198      =2  #define   Enable_BIT1_RasingEdge_Trig     PICON|=0x08;PINEN&=0xFD;PIPEN|=0x02
 199      =2  #define   Enable_BIT0_RasingEdge_Trig     PICON|=0x04;PINEN&=0xFE;PIPEN|=0x01
 200      =2  
 201      =2  
 202      =2  /*****************************************************************************************
 203      =2  * For TIMER VALUE setting is base on " option -> C51 -> Preprocesser Symbols -> Define "
 204      =2  *****************************************************************************************/
 205      =2  #ifdef FOSC_110592    // if Fsys = 11.0592MHz 
           =2     #define TIMER_DIV12_VALUE_10us      65536-9     //9*12/11.0592 = 10 uS,         // Timer divider = 12 for TM0/
             -TM1
           =2     #define TIMER_DIV12_VALUE_1ms       65536-923   //923*12/11.0592 = 1 mS         // Timer divider = 12
           =2     #define TIMER_DIV12_VALUE_10ms      65536-9216  //18432*12/22118400 = 10 ms     // Timer divider = 12
           =2     #define TIMER_DIV4_VALUE_10us       65536-28    //28*4/11.0592 = 10 uS          // Timer divider = 4  for TM2/TM3
           =2     #define TIMER_DIV4_VALUE_1ms        65536-2765  //2765*4/11.0592 = 1 mS         // Timer divider = 4
           =2     #define TIMER_DIV4_VALUE_100us      65536-277   //553*4/22118400 = 100 us       // Timer divider = 4
           =2     #define TIMER_DIV4_VALUE_200us      65536-553   //1106*4/22118400 = 200 us      // Timer divider = 4
           =2     #define TIMER_DIV4_VALUE_500us      65536-1383  //2765*4/22118400 = 500 us      // Timer divider = 4    
           =2     #define TIMER_DIV16_VALUE_10ms      65536-6912  //1500*16/22118400 = 10 ms      // Timer divider = 16
           =2     #define TIMER_DIV64_VALUE_30ms      65536-5184  //10368*64/22118400 = 30 ms     // Timer divider = 64
           =2     #define TIMER_DIV128_VALUE_100ms    65536-8640  //17280*128/22118400 = 100 ms   // Timer divider = 128
           =2     #define TIMER_DIV128_VALUE_200ms    65536-17280 //34560*128/22118400 = 200 ms   // Timer divider = 128
           =2     #define TIMER_DIV256_VALUE_500ms    65536-21600 //43200*256/22118400 = 500 ms   // Timer divider = 256
           =2     #define TIMER_DIV512_VALUE_1s       65536-21600 //43200*512/22118400 = 1 s      // Timer divider = 512
           =2 #endif
 221      =2  #ifdef FOSC_160000    // if Fsys = 16MHz 
           =2     #define TIMER_DIV12_VALUE_10us      65536-13    //13*12/16000000 = 10 uS,       // Timer divider = 12 for TM0/T
             -M1
           =2     #define TIMER_DIV12_VALUE_100us     65536-130   //130*12/16000000 = 10 uS,      // Timer divider = 12 
           =2     #define TIMER_DIV12_VALUE_1ms       65536-1334  //1334*12/16000000 = 1 mS,      // Timer divider = 12 
           =2     #define TIMER_DIV12_VALUE_10ms      65536-13334 //13334*12/16000000 = 10 mS     // Timer divider = 12 
           =2     #define TIMER_DIV12_VALUE_40ms      65536-53336 //53336*12/16000000 = 40 ms     // Timer divider = 12 
           =2     #define TIMER_DIV4_VALUE_10us       65536-40    //40*4/16000000 = 10 uS,        // Timer divider = 4  for TM2/TM
             -3
           =2     #define TIMER_DIV4_VALUE_100us      65536-400   //400*4/16000000 = 100 us       // Timer divider = 4
           =2     #define TIMER_DIV4_VALUE_200us      65536-800   //800*4/16000000 = 200 us       // Timer divider = 4
           =2     #define TIMER_DIV4_VALUE_500us      65536-2000  //2000*4/16000000 = 500 us      // Timer divider = 4
           =2     #define TIMER_DIV4_VALUE_1ms        65536-4000  //4000*4/16000000 = 1 mS,       // Timer divider = 4
           =2     #define TIMER_DIV16_VALUE_10ms      65536-10000 //10000*16/16000000 = 10 ms     // Timer  divider = 16
           =2     #define TIMER_DIV64_VALUE_30ms      65536-7500  //7500*64/16000000 = 30 ms      // Timer divider = 64
           =2     #define TIMER_DIV128_VALUE_100ms    65536-12500 //12500*128/16000000 = 100 ms   // Timer divider = 128
           =2     #define TIMER_DIV128_VALUE_200ms    65536-25000 //25000*128/16000000 = 200 ms   // Timer divider = 128
           =2     #define TIMER_DIV256_VALUE_500ms    65536-31250 //31250*256/16000000 = 500 ms   // Timer divider = 256
           =2     #define TIMER_DIV512_VALUE_1s       65536-31250 //31250*512/16000000 = 1 s.     // Timer Divider = 512
           =2 #endif
 239      =2  #ifdef FOSC_184320    // if Fsys = 18.432MHz 
           =2     #define TIMER_DIV12_VALUE_10us      65536-15    //15*12/18.432 = 10 uS,  Timer Clock = Fsys/12
           =2     #define TIMER_DIV12_VALUE_1ms       65536-1536  //1536*12/18.432 = 1 mS, Timer Clock = Fsys/12
           =2     #define TIMER_DIV4_VALUE_10us       65536-46    //46*4/18.432 = 10 uS,   Timer Clock = Fsys/4
           =2     #define TIMER_DIV4_VALUE_1ms        65536-4608  //4608*4/18.432 = 1 mS,  Timer Clock = Fsys/4
C51 COMPILER V9.00   SYSTEM                                                                06/13/2020 16:27:47 PAGE 35  

           =2 #endif
 245      =2  #ifdef FOSC_200000    // if Fsys = 20 MHz
           =2     #define TIMER_DIV12_VALUE_10us      65536-17   //17*12/20000000 = 10 uS,  Timer Clock = Fsys/12
           =2     #define TIMER_DIV12_VALUE_1ms       65536-1667    //1667*12/20000000 = 1 mS, Timer Clock = Fsys/12
           =2     #define TIMER_DIV4_VALUE_10us       65536-50      //50*4/20000000 = 10 uS,    Timer Clock = Fsys/4
           =2     #define TIMER_DIV4_VALUE_1ms        65536-5000    //5000*4/20000000 = 1 mS,   Timer Clock = Fsys/4
           =2 #endif
 251      =2  #ifdef FOSC_221184    // if Fsys = 22.1184 MHz 
           =2     #define TIMER_DIV12_VALUE_10us      65536-18        //18*12/22118400 = 10 uS,       // Timer divider = 12
           =2     #define TIMER_DIV12_VALUE_1ms       65536-1843      //1843*12/22118400 = 1 mS,      // Timer divider = 12
           =2     #define TIMER_DIV12_VALUE_10ms      65536-18432     //18432*12/22118400 = 10 ms     // Timer divider = 12
           =2     #define TIMER_DIV4_VALUE_10us       65536-56        //9*4/22118400 = 10 uS,         // Timer divider = 4
           =2     #define TIMER_DIV4_VALUE_1ms        65536-5530      //923*4/22118400 = 1 mS,        // Timer divider = 4
           =2     #define TIMER_DIV4_VALUE_100us      65536-553       //553*4/22118400 = 100 us       // Timer divider = 4
           =2     #define TIMER_DIV4_VALUE_200us      65536-1106      //1106*4/22118400 = 200 us      // Timer divider = 4
           =2     #define TIMER_DIV4_VALUE_500us      65536-2765      //2765*4/22118400 = 500 us      // Timer divider = 4    
           =2     #define TIMER_DIV16_VALUE_10ms      65536-13824     //1500*16/22118400 = 10 ms      // Timer divider = 16
           =2     #define TIMER_DIV64_VALUE_30ms      65536-10368     //10368*64/22118400 = 30 ms     // Timer divider = 64
           =2     #define TIMER_DIV128_VALUE_100ms    65536-17280     //17280*128/22118400 = 100 ms   // Timer divider = 128
           =2     #define TIMER_DIV128_VALUE_200ms    65536-34560     //34560*128/22118400 = 200 ms   // Timer divider = 128
           =2     #define TIMER_DIV256_VALUE_500ms    65536-43200     //43200*256/22118400 = 500 ms   // Timer divider = 256
           =2     #define TIMER_DIV512_VALUE_1s       65536-43200     //43200*512/22118400 = 1 s      // Timer divider = 512
           =2 #endif
 267      =2  #ifdef FOSC_240000    // if Fsys = 20 MHz
           =2     #define TIMER_DIV12_VALUE_10us      65536-20        //20*12/24000000 = 10 uS,       // Timer divider = 12
           =2     #define TIMER_DIV12_VALUE_1ms       65536-2000      //2000*12/24000000 = 1 mS,      // Timer divider = 12
           =2     #define TIMER_DIV12_VALUE_10ms      65536-20000     //2000*12/24000000 = 10 mS      // Timer divider = 12
           =2     #define TIMER_DIV4_VALUE_10us       65536-60        //60*4/24000000 = 10 uS,        // Timer divider = 4
           =2     #define TIMER_DIV4_VALUE_100us      65536-600       //600*4/24000000 = 100 us       // Timer divider = 4
           =2     #define TIMER_DIV4_VALUE_200us      65536-1200      //1200*4/24000000 = 200 us      // Timer divider = 4
           =2     #define TIMER_DIV4_VALUE_500us      65536-3000      //3000*4/24000000 = 500 us      // Timer divider = 4
           =2     #define TIMER_DIV4_VALUE_1ms        65536-6000      //6000*4/24000000 = 1 mS,       // Timer divider = 4
           =2     #define TIMER_DIV16_VALUE_10ms      65536-15000     //15000*16/24000000 = 10 ms     // Timer  divider = 16
           =2     #define TIMER_DIV64_VALUE_30ms      65536-11250     //11250*64/24000000 = 30 ms     // Timer divider = 64
           =2     #define TIMER_DIV128_VALUE_100ms    65536-18750     //37500*128/24000000 = 200 ms   // Timer divider = 128
           =2     #define TIMER_DIV128_VALUE_200ms    65536-37500     //37500*128/24000000 = 200 ms   // Timer divider = 128
           =2     #define TIMER_DIV256_VALUE_500ms    65536-46875     //46875*256/24000000 = 500 ms   // Timer divider = 256
           =2     #define TIMER_DIV512_VALUE_1s       65536-46875     //46875*512/24000000 = 1 s.     // Timer Divider = 512
           =2 #endif
 283      =2  //-------------------- Timer0 function define --------------------
 284      =2  #define   TIMER1_MODE0_ENABLE   TMOD&=0x0F
 285      =2  #define   TIMER1_MODE1_ENABLE   TMOD&=0x0F;TMOD|=0x10
 286      =2  #define   TIMER1_MODE2_ENABLE   TMOD&=0x0F;TMOD|=0x20
 287      =2  #define   TIMER1_MODE3_ENABLE   TMOD&=0x0F;TMOD|=0x30
 288      =2  //-------------------- Timer1 function define --------------------
 289      =2  #define   TIMER0_MODE0_ENABLE   TMOD&=0xF0
 290      =2  #define   TIMER0_MODE1_ENABLE   TMOD&=0xF0;TMOD|=0x01
 291      =2  #define   TIMER0_MODE2_ENABLE   TMOD&=0xF0;TMOD|=0x02
 292      =2  #define   TIMER0_MODE3_ENABLE   TMOD&=0xF0;TMOD|=0x03
 293      =2  //-------------------- Timer2 function define --------------------
 294      =2  #define   TIMER2_DIV_4      T2MOD|=0x10;T2MOD&=0x9F
 295      =2  #define   TIMER2_DIV_16     T2MOD|=0x20;T2MOD&=0xAF
 296      =2  #define   TIMER2_DIV_32     T2MOD|=0x30;T2MOD&=0xBF
 297      =2  #define   TIMER2_DIV_64     T2MOD|=0x40;T2MOD&=0xCF
 298      =2  #define   TIMER2_DIV_128    T2MOD|=0x50;T2MOD&=0xDF
 299      =2  #define   TIMER2_DIV_256    T2MOD|=0x60;T2MOD&=0xEF
 300      =2  #define   TIMER2_DIV_512    T2MOD|=0x70
 301      =2  #define   TIMER2_Auto_Reload_Delay_Mode       T2CON&=~SET_BIT0;T2MOD|=SET_BIT7;T2MOD|=SET_BIT3
 302      =2  #define   TIMER2_Compare_Capture_Mode         T2CON|=SET_BIT0;T2MOD&=~SET_BIT7;T2MOD|=SET_BIT2
 303      =2  
 304      =2  #define   TIMER2_CAP0_Capture_Mode      T2CON&=~SET_BIT0;T2MOD=0x89
 305      =2  #define   TIMER2_CAP1_Capture_Mode      T2CON&=~SET_BIT0;T2MOD=0x8A
C51 COMPILER V9.00   SYSTEM                                                                06/13/2020 16:27:47 PAGE 36  

 306      =2  #define   TIMER2_CAP2_Capture_Mode      T2CON&=~SET_BIT0;T2MOD=0x8B
 307      =2  
 308      =2  //-------------------- Timer2 Capture define --------------------
 309      =2  //--- Falling Edge -----
 310      =2  #define IC0_P12_CAP0_FallingEdge_Capture    CAPCON1&=0xFC;CAPCON3&=0xF0;CAPCON0|=SET_BIT4;CAPCON2|=SET_BIT4
 311      =2  #define IC1_P11_CAP0_FallingEdge_Capture    CAPCON1&=0xFC;CAPCON3&=0xF0;CAPCON3|=0x01;CAPCON0|=SET_BIT4;CAPC
             -ON2|=SET_BIT4
 312      =2  #define IC2_P10_CAP0_FallingEdge_Capture    CAPCON1&=0xFC;CAPCON3&=0xF0;CAPCON3|=0x02;CAPCON0|=SET_BIT4;CAPC
             -ON2|=SET_BIT4
 313      =2  #define IC3_P00_CAP0_FallingEdge_Capture    CAPCON1&=0xFC;CAPCON3&=0xF0;CAPCON3|=0x03;CAPCON0|=SET_BIT4;CAPC
             -ON2|=SET_BIT4
 314      =2  #define IC3_P04_CAP0_FallingEdge_Capture    CAPCON1&=0xFC;CAPCON3&=0xF0;CAPCON3|=0x04;CAPCON0|=SET_BIT4;CAPC
             -ON2|=SET_BIT4
 315      =2  #define IC4_P01_CAP0_FallingEdge_Capture    CAPCON1&=0xFC;CAPCON3&=0xF0;CAPCON3|=0x05;CAPCON0|=SET_BIT4;CAPC
             -ON2|=SET_BIT4
 316      =2  #define IC5_P03_CAP0_FallingEdge_Capture    CAPCON1&=0xFC;CAPCON3&=0xF0;CAPCON3|=0x06;CAPCON0|=SET_BIT4;CAPC
             -ON2|=SET_BIT4
 317      =2  #define IC6_P05_CAP0_FallingEdge_Capture    CAPCON1&=0xFC;CAPCON3&=0xF0;CAPCON3|=0x07;CAPCON0|=SET_BIT4;CAPC
             -ON2|=SET_BIT4
 318      =2  #define IC7_P15_CAP0_FallingEdge_Capture    CAPCON1&=0xFC;CAPCON3&=0xF0;CAPCON3|=0x08;CAPCON0|=SET_BIT4;CAPC
             -ON2|=SET_BIT4
 319      =2  
 320      =2  #define IC0_P12_CAP1_FallingEdge_Capture    CAPCON1&=0xF3;CAPCON3&=0x0F;CAPCON0|=SET_BIT5;CAPCON2|=SET_BIT5
 321      =2  #define IC1_P11_CAP1_FallingEdge_Capture    CAPCON1&=0xF3;CAPCON3&=0x0F;CAPCON3|=0x10;CAPCON0|=SET_BIT5;CAPC
             -ON0|=SET_BIT5
 322      =2  #define IC2_P10_CAP1_FallingEdge_Capture    CAPCON1&=0xF3;CAPCON3&=0x0F;CAPCON3|=0x20;CAPCON0|=SET_BIT5;CAPC
             -ON2|=SET_BIT5
 323      =2  #define IC3_P00_CAP1_FallingEdge_Capture    CAPCON1&=0xF3;CAPCON3&=0x0F;CAPCON3|=0x30;CAPCON0|=SET_BIT5;CAPC
             -ON2|=SET_BIT5
 324      =2  #define IC3_P04_CAP1_FallingEdge_Capture    CAPCON1&=0xF3;CAPCON3&=0x0F;CAPCON3|=0x40;CAPCON0|=SET_BIT5;CAPC
             -ON2|=SET_BIT5
 325      =2  #define IC4_P01_CAP1_FallingEdge_Capture    CAPCON1&=0xF3;CAPCON3&=0x0F;CAPCON3|=0x50;CAPCON0|=SET_BIT5;CAPC
             -ON2|=SET_BIT5
 326      =2  #define IC5_P03_CAP1_FallingEdge_Capture    CAPCON1&=0xF3;CAPCON3&=0x0F;CAPCON3|=0x60;CAPCON0|=SET_BIT5;CAPC
             -ON2|=SET_BIT5
 327      =2  #define IC6_P05_CAP1_FallingEdge_Capture    CAPCON1&=0xF3;CAPCON3&=0x0F;CAPCON3|=0x70;CAPCON0|=SET_BIT5;CAPC
             -ON2|=SET_BIT5
 328      =2  #define IC7_P15_CAP1_FallingEdge_Capture    CAPCON1&=0xF3;CAPCON3&=0x0F;CAPCON3|=0x80;CAPCON0|=SET_BIT5;CAPC
             -ON2|=SET_BIT5
 329      =2  
 330      =2  #define IC0_P12_CAP2_FallingEdge_Capture    CAPCON1&=0x0F;CAPCON4&=0xF0;CAPCON0|=SET_BIT6;CAPCON2|=SET_BIT6
 331      =2  #define IC1_P11_CAP2_FallingEdge_Capture    CAPCON1&=0x0F;CAPCON4&=0xF0;CAPCON4|=0x10;CAPCON0|=SET_BIT6;CAPC
             -ON2|=SET_BIT6
 332      =2  #define IC2_P10_CAP2_FallingEdge_Capture    CAPCON1&=0x0F;CAPCON4&=0xF0;CAPCON4|=0x20;CAPCON0|=SET_BIT6;CAPC
             -ON2|=SET_BIT6
 333      =2  #define IC3_P00_CAP2_FallingEdge_Capture    CAPCON1&=0x0F;CAPCON4&=0xF0;CAPCON4|=0x30;CAPCON0|=SET_BIT6;CAPC
             -ON2|=SET_BIT6
 334      =2  #define IC3_P04_CAP2_FallingEdge_Capture    CAPCON1&=0x0F;CAPCON4&=0xF0;CAPCON4|=0x40;CAPCON0|=SET_BIT6;CAPC
             -ON2|=SET_BIT6
 335      =2  #define IC4_P01_CAP2_FallingEdge_Capture    CAPCON1&=0x0F;CAPCON4&=0xF0;CAPCON4|=0x50;CAPCON0|=SET_BIT6;CAPC
             -ON2|=SET_BIT6
 336      =2  #define IC5_P03_CAP2_FallingEdge_Capture    CAPCON1&=0x0F;CAPCON4&=0xF0;CAPCON4|=0x60;CAPCON0|=SET_BIT6;CAPC
             -ON2|=SET_BIT6
 337      =2  #define IC6_P05_CAP2_FallingEdge_Capture    CAPCON1&=0x0F;CAPCON4&=0xF0;CAPCON4|=0x70;CAPCON0|=SET_BIT6;CAPC
             -ON2|=SET_BIT6
 338      =2  #define IC7_P15_CAP2_FallingEdge_Capture    CAPCON1&=0x0F;CAPCON4&=0xF0;CAPCON4|=0x80;CAPCON0|=SET_BIT6;CAPC
             -ON2|=SET_BIT6
 339      =2  
 340      =2  //----- Rising edge ----
 341      =2  #define IC0_P12_CAP0_RisingEdge_Capture     CAPCON1&=0xFC;CAPCON1|=0x01;CAPCON3&=0xF0CAPCON0|=SET_BIT4;CAPCO
             -N2|=SET_BIT4;
 342      =2  #define IC1_P11_CAP0_RisingEdge_Capture     CAPCON1&=0xFC;CAPCON1|=0x01;CAPCON3&=0xF0;CAPCON3|=0x01;CAPCON0|
C51 COMPILER V9.00   SYSTEM                                                                06/13/2020 16:27:47 PAGE 37  

             -=SET_BIT4;CAPCON2|=SET_BIT4;
 343      =2  #define IC2_P10_CAP0_RisingEdge_Capture     CAPCON1&=0xFC;CAPCON1|=0x01;CAPCON3&=0xF0;CAPCON3|=0x02;CAPCON0|
             -=SET_BIT4;CAPCON2|=SET_BIT4;
 344      =2  #define IC3_P00_CAP0_RisingEdge_Capture     CAPCON1&=0xFC;CAPCON1|=0x01;CAPCON3&=0xF0;CAPCON3|=0x03;CAPCON0|
             -=SET_BIT4;CAPCON2|=SET_BIT4;
 345      =2  #define IC3_P04_CAP0_RisingEdge_Capture     CAPCON1&=0xFC;CAPCON1|=0x01;CAPCON3&=0xF0;CAPCON3|=0x04;CAPCON0|
             -=SET_BIT4;CAPCON2|=SET_BIT4;
 346      =2  #define IC4_P01_CAP0_RisingEdge_Capture     CAPCON1&=0xFC;CAPCON1|=0x01;CAPCON3&=0xF0;CAPCON3|=0x05;CAPCON0|
             -=SET_BIT4;CAPCON2|=SET_BIT4;
 347      =2  #define IC5_P03_CAP0_RisingEdge_Capture     CAPCON1&=0xFC;CAPCON1|=0x01;CAPCON3&=0xF0;CAPCON3|=0x06;CAPCON0|
             -=SET_BIT4;CAPCON2|=SET_BIT4;
 348      =2  #define IC6_P05_CAP0_RisingEdge_Capture     CAPCON1&=0xFC;CAPCON1|=0x01;CAPCON3&=0xF0;CAPCON3|=0x07;CAPCON0|
             -=SET_BIT4;CAPCON2|=SET_BIT4;
 349      =2  #define IC7_P15_CAP0_RisingEdge_Capture     CAPCON1&=0xFC;CAPCON1|=0x01;CAPCON3&=0xF0;CAPCON3|=0x08;CAPCON0|
             -=SET_BIT4;CAPCON2|=SET_BIT4;
 350      =2  
 351      =2  #define IC0_P12_CAP1_RisingEdge_Capture     CAPCON1&=0xF3;CAPCON1|=0x04;CAPCON3&=0x0FCAPCON0|=SET_BIT5;CAPCO
             -N2|=SET_BIT5;
 352      =2  #define IC1_P11_CAP1_RisingEdge_Capture     CAPCON1&=0xF3;CAPCON1|=0x04;CAPCON3&=0x0F;CAPCON3|=0x10;CAPCON0|
             -=SET_BIT5;CAPCON2|=SET_BIT5;
 353      =2  #define IC2_P10_CAP1_RisingEdge_Capture     CAPCON1&=0xF3;CAPCON1|=0x04;CAPCON3&=0x0F;CAPCON3|=0x20;CAPCON0|
             -=SET_BIT5;CAPCON2|=SET_BIT5;
 354      =2  #define IC3_P00_CAP1_RisingEdge_Capture     CAPCON1&=0xF3;CAPCON1|=0x04;CAPCON3&=0x0F;CAPCON3|=0x30;CAPCON0|
             -=SET_BIT5;CAPCON2|=SET_BIT5;
 355      =2  #define IC3_P04_CAP1_RisingEdge_Capture     CAPCON1&=0xF3;CAPCON1|=0x04;CAPCON3&=0x0F;CAPCON3|=0x40;CAPCON0|
             -=SET_BIT5;CAPCON2|=SET_BIT5;
 356      =2  #define IC4_P01_CAP1_RisingEdge_Capture     CAPCON1&=0xF3;CAPCON1|=0x04;CAPCON3&=0x0F;CAPCON3|=0x50;CAPCON0|
             -=SET_BIT5;CAPCON2|=SET_BIT5;
 357      =2  #define IC5_P03_CAP1_RisingEdge_Capture     CAPCON1&=0xF3;CAPCON1|=0x04;CAPCON3&=0x0F;CAPCON3|=0x60;CAPCON0|
             -=SET_BIT5;CAPCON2|=SET_BIT5;
 358      =2  #define IC6_P05_CAP1_RisingEdge_Capture     CAPCON1&=0xF3;CAPCON1|=0x04;CAPCON3&=0x0F;CAPCON3|=0x70;CAPCON0|
             -=SET_BIT5;CAPCON2|=SET_BIT5;
 359      =2  #define IC7_P15_CAP1_RisingEdge_Capture     CAPCON1&=0xF3;CAPCON1|=0x04;CAPCON3&=0x0F;CAPCON3|=0x80;CAPCON0|
             -=SET_BIT5;CAPCON2|=SET_BIT5;
 360      =2  
 361      =2  #define IC0_P12_CAP3_RisingEdge_Capture     CAPCON1&=0x0F;CAPCON1|=0x10;CAPCON4&=0xF0;CAPCON0|=SET_BIT6;CAPC
             -ON2|=SET_BIT6;
 362      =2  #define IC1_P11_CAP3_RisingEdge_Capture     CAPCON1&=0x0F;CAPCON1|=0x10;CAPCON4&=0xF0;CAPCON4|=0x01;CAPCON0|
             -=SET_BIT6;CAPCON2|=SET_BIT6;
 363      =2  #define IC2_P10_CAP3_RisingEdge_Capture     CAPCON1&=0x0F;CAPCON1|=0x10;CAPCON4&=0xF0;CAPCON4|=0x02;CAPCON0|
             -=SET_BIT6;CAPCON2|=SET_BIT6;
 364      =2  #define IC3_P00_CAP3_RisingEdge_Capture     CAPCON1&=0x0F;CAPCON1|=0x10;CAPCON4&=0xF0;CAPCON4|=0x03;CAPCON0|
             -=SET_BIT6;CAPCON2|=SET_BIT6;
 365      =2  #define IC3_P04_CAP3_RisingEdge_Capture     CAPCON1&=0x0F;CAPCON1|=0x10;CAPCON4&=0xF0;CAPCON4|=0x04;CAPCON0|
             -=SET_BIT6;CAPCON2|=SET_BIT6;
 366      =2  #define IC4_P01_CAP3_RisingEdge_Capture     CAPCON1&=0x0F;CAPCON1|=0x10;CAPCON4&=0xF0;CAPCON4|=0x05;CAPCON0|
             -=SET_BIT6;CAPCON2|=SET_BIT6;
 367      =2  #define IC5_P03_CAP3_RisingEdge_Capture     CAPCON1&=0x0F;CAPCON1|=0x10;CAPCON4&=0xF0;CAPCON4|=0x06;CAPCON0|
             -=SET_BIT6;CAPCON2|=SET_BIT6;
 368      =2  #define IC6_P05_CAP3_RisingEdge_Capture     CAPCON1&=0x0F;CAPCON1|=0x10;CAPCON4&=0xF0;CAPCON4|=0x07;CAPCON0|
             -=SET_BIT6;CAPCON2|=SET_BIT6;
 369      =2  #define IC7_P15_CAP3_RisingEdge_Capture     CAPCON1&=0x0F;CAPCON1|=0x10;CAPCON4&=0xF0;CAPCON4|=0x08;CAPCON0|
             -=SET_BIT6;CAPCON2|=SET_BIT6;
 370      =2  
 371      =2  //-----BOTH  edge ----
 372      =2  #define IC0_P12_CAP0_BothEdge_Capture       CAPCON1&=0xFC;CAPCON1|=0x02;CAPCON3&=0xF0;CAPCON0|=SET_BIT4;CAPCO
             -N2|=SET_BIT4
 373      =2  #define IC1_P11_CAP0_BothEdge_Capture       CAPCON1&=0xFC;CAPCON1|=0x02;CAPCON3&=0xF0;CAPCON3|=0x01;CAPCON0|=
             -SET_BIT4;CAPCON2|=SET_BIT4
 374      =2  #define IC2_P10_CAP0_BothEdge_Capture       CAPCON1&=0xFC;CAPCON1|=0x02;CAPCON3&=0xF0;CAPCON3|=0x02;CAPCON0|=
             -SET_BIT4;CAPCON2|=SET_BIT4
 375      =2  #define IC3_P00_CAP0_BothEdge_Capture       CAPCON1&=0xFC;CAPCON1|=0x02;CAPCON3&=0xF0;CAPCON3|=0x03;CAPCON0|=
C51 COMPILER V9.00   SYSTEM                                                                06/13/2020 16:27:47 PAGE 38  

             -SET_BIT4;CAPCON2|=SET_BIT4
 376      =2  #define IC3_P04_CAP0_BothEdge_Capture       CAPCON1&=0xFC;CAPCON1|=0x02;CAPCON3&=0xF0;CAPCON3|=0x04;CAPCON0|=
             -SET_BIT4;CAPCON2|=SET_BIT4
 377      =2  #define IC4_P01_CAP0_BothEdge_Capture       CAPCON1&=0xFC;CAPCON1|=0x02;CAPCON3&=0xF0;CAPCON3|=0x05;CAPCON0|=
             -SET_BIT4;CAPCON2|=SET_BIT4
 378      =2  #define IC5_P03_CAP0_BothEdge_Capture       CAPCON1&=0xFC;CAPCON1|=0x02;CAPCON3&=0xF0;CAPCON3|=0x06;CAPCON0|=
             -SET_BIT4;CAPCON2|=SET_BIT4
 379      =2  #define IC6_P05_CAP0_BothEdge_Capture       CAPCON1&=0xFC;CAPCON1|=0x02;CAPCON3&=0xF0;CAPCON3|=0x07;CAPCON0|=
             -SET_BIT4;CAPCON2|=SET_BIT4
 380      =2  #define IC7_P15_CAP0_BothEdge_Capture       CAPCON1&=0xFC;CAPCON1|=0x02;CAPCON3&=0xF0;CAPCON3|=0x08;CAPCON0|=
             -SET_BIT4;CAPCON2|=SET_BIT4
 381      =2  
 382      =2  #define IC0_P12_CAP1_BothEdge_Capture       CAPCON1&=0xF3;CAPCON1|=0x08;CAPCON3&=0x0F;CAPCON0|=SET_BIT5;CAPCO
             -N2|=SET_BIT5
 383      =2  #define IC1_P11_CAP1_BothEdge_Capture       CAPCON1&=0xF3;CAPCON1|=0x08;CAPCON3&=0x0F;CAPCON3|=0x10;CAPCON0|=
             -SET_BIT5;CAPCON2|=SET_BIT5;
 384      =2  #define IC2_P10_CAP1_BothEdge_Capture       CAPCON1&=0xF3;CAPCON1|=0x08;CAPCON3&=0x0F;CAPCON3|=0x20;CAPCON0|=
             -SET_BIT5;CAPCON2|=SET_BIT5;
 385      =2  #define IC3_P00_CAP1_BothEdge_Capture       CAPCON1&=0xF3;CAPCON1|=0x08;CAPCON3&=0x0F;CAPCON3|=0x30;CAPCON0|=
             -SET_BIT5;CAPCON2|=SET_BIT5;
 386      =2  #define IC3_P04_CAP1_BothEdge_Capture       CAPCON1&=0xF3;CAPCON1|=0x08;CAPCON3&=0x0F;CAPCON3|=0x40;CAPCON0|=
             -SET_BIT5;CAPCON2|=SET_BIT5;
 387      =2  #define IC4_P01_CAP1_BothEdge_Capture       CAPCON1&=0xF3;CAPCON1|=0x08;CAPCON3&=0x0F;CAPCON3|=0x50;CAPCON0|=
             -SET_BIT5;CAPCON2|=SET_BIT5;
 388      =2  #define IC5_P03_CAP1_BothEdge_Capture       CAPCON1&=0xF3;CAPCON1|=0x08;CAPCON3&=0x0F;CAPCON3|=0x60;CAPCON0|=
             -SET_BIT5;CAPCON2|=SET_BIT5;
 389      =2  #define IC6_P05_CAP1_BothEdge_Capture       CAPCON1&=0xF3;CAPCON1|=0x08;CAPCON3&=0x0F;CAPCON3|=0x70;CAPCON0|=
             -SET_BIT5;CAPCON2|=SET_BIT5;
 390      =2  #define IC7_P15_CAP1_BothEdge_Capture       CAPCON1&=0xF3;CAPCON1|=0x08;CAPCON3&=0x0F;CAPCON3|=0x80;CAPCON0|=
             -SET_BIT5;CAPCON2|=SET_BIT5;
 391      =2  
 392      =2  #define IC0_P12_CAP3_BothEdge_Capture       CAPCON1&=0x0F;CAPCON1|=0x20;CAPCON4&=0xF0;CAPCON0|=SET_BIT6;CAPCO
             -N2|=SET_BIT6;
 393      =2  #define IC1_P11_CAP3_BothEdge_Capture       CAPCON1&=0x0F;CAPCON1|=0x20;CAPCON4&=0xF0;CAPCON4|=0x01;CAPCON0|=
             -SET_BIT6;CAPCON2|=SET_BIT6;
 394      =2  #define IC2_P10_CAP3_BothEdge_Capture       CAPCON1&=0x0F;CAPCON1|=0x20;CAPCON4&=0xF0;CAPCON4|=0x02;CAPCON0|=
             -SET_BIT6;CAPCON2|=SET_BIT6;
 395      =2  #define IC3_P00_CAP3_BothEdge_Capture       CAPCON1&=0x0F;CAPCON1|=0x20;CAPCON4&=0xF0;CAPCON4|=0x03;CAPCON0|=
             -SET_BIT6;CAPCON2|=SET_BIT6;
 396      =2  #define IC3_P04_CAP3_BothEdge_Capture       CAPCON1&=0x0F;CAPCON1|=0x20;CAPCON4&=0xF0;CAPCON4|=0x04;CAPCON0|=
             -SET_BIT6;CAPCON2|=SET_BIT6;
 397      =2  #define IC4_P01_CAP3_BothEdge_Capture       CAPCON1&=0x0F;CAPCON1|=0x20;CAPCON4&=0xF0;CAPCON4|=0x05;CAPCON0|=
             -SET_BIT6;CAPCON2|=SET_BIT6;
 398      =2  #define IC5_P03_CAP3_BothEdge_Capture       CAPCON1&=0x0F;CAPCON1|=0x20;CAPCON4&=0xF0;CAPCON4|=0x06;CAPCON0|=
             -SET_BIT6;CAPCON2|=SET_BIT6;
 399      =2  #define IC6_P05_CAP3_BothEdge_Capture       CAPCON1&=0x0F;CAPCON1|=0x20;CAPCON4&=0xF0;CAPCON4|=0x07;CAPCON0|=
             -SET_BIT6;CAPCON2|=SET_BIT6;
 400      =2  #define IC7_P15_CAP3_BothEdge_Capture       CAPCON1&=0x0F;CAPCON1|=0x20;CAPCON4&=0xF0;CAPCON4|=0x08;CAPCON0|=
             -SET_BIT6;CAPCON2|=SET_BIT6;
 401      =2  
 402      =2  #define TIMER2_IC2_DISABLE                  CAPCON0&=~SET_BIT6       
 403      =2  #define TIMER2_IC1_DISABLE                  CAPCON0&=~SET_BIT5      
 404      =2  #define TIMER2_IC0_DISABLE                  CAPCON0&=~SET_BIT4  
 405      =2  
 406      =2  /*****************************************************************************************
 407      =2  * For PWM setting 
 408      =2  *****************************************************************************************/
 409      =2  //--------- PMW clock source select define ---------------------
 410      =2  #define   PWM_CLOCK_FSYS          CKCON&=0xBF
 411      =2  #define   PWM_CLOCK_TIMER1        CKCON|=0x40
 412      =2  //--------- PWM clock devide define ----------------------------
 413      =2  #define   PWM_CLOCK_DIV_2         PWMCON1|=0x01;PWMCON1&=0xF9
C51 COMPILER V9.00   SYSTEM                                                                06/13/2020 16:27:47 PAGE 39  

 414      =2  #define   PWM_CLOCK_DIV_4         PWMCON1|=0x02;PWMCON1&=0xFA
 415      =2  #define   PWM_CLOCK_DIV_8         PWMCON1|=0x03;PWMCON1&=0xFB
 416      =2  #define   PWM_CLOCK_DIV_16        PWMCON1|=0x04;PWMCON1&=0xFC
 417      =2  #define   PWM_CLOCK_DIV_32        PWMCON1|=0x05;PWMCON1&=0xFD
 418      =2  #define   PWM_CLOCK_DIV_64        PWMCON1|=0x06;PWMCON1&=0xFE
 419      =2  #define   PWM_CLOCK_DIV_128       PWMCON1|=0x07
 420      =2  //--------- PWM I/O select define ------------------------------
 421      =2  #define   PWM5_P15_OUTPUT_ENABLE    BIT_TMP=EA;EA=0;TA=0xAA;TA=0x55;SFRS|=0x01;PIOCON1|=0x20;TA=0xAA;TA=0x55;
             -SFRS&=0xFE;EA=BIT_TMP       //P1.5 as PWM5 output enable
 422      =2  #define   PWM5_P03_OUTPUT_ENABLE    PIOCON0|=0x20                                                   //P0.3 as PWM5
 423      =2  #define   PWM4_P01_OUTPUT_ENABLE    PIOCON0|=0x10                                                   //P0.1 as PWM4 output enable
 424      =2  #define   PWM3_P04_OUTPUT_ENABLE    BIT_TMP=EA;EA=0;TA=0xAA;TA=0x55;SFRS|=0x01;PIOCON1|=0x08;TA=0xAA;TA=0x55;
             -SFRS&=0xFE;EA=BIT_TMP       //P0.4 as PWM3 output enable
 425      =2  #define   PWM3_P00_OUTPUT_ENABLE    PIOCON0|=0x08                                                   //P0.0 as PWM3 
 426      =2  #define   PWM2_P05_OUTPUT_ENABLE    BIT_TMP=EA;EA=0;TA=0xAA;TA=0x55;SFRS|=0x01;PIOCON1|=0x04;TA=0xAA;TA=0x55;
             -SFRS&=0xFE;EA=BIT_TMP       //P1.0 as PWM2 output enable
 427      =2  #define   PWM2_P10_OUTPUT_ENABLE    PIOCON0|=0x04                                                   //P1.0 as PWM2
 428      =2  #define   PWM1_P14_OUTPUT_ENABLE    BIT_TMP=EA;EA=0;TA=0xAA;TA=0x55;SFRS|=0x01;PIOCON1|=0x02;TA=0xAA;TA=0x55;
             -SFRS&=0xFE;EA=BIT_TMP       //P1.4 as PWM1 output enable
 429      =2  #define   PWM1_P11_OUTPUT_ENABLE    PIOCON0|=0x02                                                   //P1.1 as PWM1 
 430      =2  #define   PWM0_P12_OUTPUT_ENABLE    PIOCON0|=0x01                                                   //P1.2 as PWM0 output enable
 431      =2  #define   ALL_PWM_OUTPUT_ENABLE     PIOCON0=0xFF;PIOCON1=0xFF
 432      =2  #define   PWM5_P15_OUTPUT_DISABLE   BIT_TMP=EA;EA=0;TA=0xAA;TA=0x55;SFRS|=0x01;PIOCON1&=0xDF;TA=0xAA;TA=0x55
             -;SFRS&=0xFE;EA=BIT_TMP        //P1.5 as PWM5 output disable
 433      =2  #define   PWM5_P03_OUTPUT_DISABLE   PIOCON0&=0xDF                                                   //P0.3 as PWM5
 434      =2  #define   PWM4_P01_OUTPUT_DISABLE   PIOCON0&=0xEF                                                   //P0.1 as PWM4 output disable
 435      =2  #define   PWM3_P04_OUTPUT_DISABLE   BIT_TMP=EA;EA=0;TA=0xAA;TA=0x55;SFRS|=0x01;PIOCON1&=0xF7;TA=0xAA;TA=0x55
             -;SFRS&=0xFE;EA=BIT_TMP        //P0.4 as PWM3 output disable
 436      =2  #define   PWM3_P00_OUTPUT_DISABLE   PIOCON0&=0xF7                                                   //P0.0 as PWM3 
 437      =2  #define   PWM2_P05_OUTPUT_DISABLE   BIT_TMP=EA;EA=0;TA=0xAA;TA=0x55;SFRS|=0x01;PIOCON1&=0xFB;TA=0xAA;TA=0x55
             -;SFRS&=0xFE;EA=BIT_TMP        //P1.0 as PWM2 output disable
 438      =2  #define   PWM2_P10_OUTPUT_DISABLE   PIOCON0&=0xFB                                                   //P1.0 as PWM2
 439      =2  #define   PWM1_P14_OUTPUT_DISABLE   BIT_TMP=EA;EA=0;TA=0xAA;TA=0x55;SFRS|=0x01;PIOCON1&=0xFD;TA=0xAA;TA=0x55
             -;SFRS&=0xFE;EA=BIT_TMP        //P1.4 as PWM1 output disable
 440      =2  #define   PWM1_P11_OUTPUT_DISABLE   PIOCON0&=0xFD                                                   //P1.1 as PWM1 
 441      =2  #define   PWM0_P12_OUTPUT_DISABLE   PIOCON0&=0xFE                                                   //P1.2 as PWM0 output disable
 442      =2  #define   ALL_PWM_OUTPUT_DISABLE    PIOCON0=0x00;PIOCON1=0x00
 443      =2  //--------- PWM I/O Polarity Control ---------------------------
 444      =2  #define   PWM5_OUTPUT_INVERSE     PNP|=0x20       
 445      =2  #define   PWM4_OUTPUT_INVERSE     PNP|=0x10       
 446      =2  #define   PWM3_OUTPUT_INVERSE     PNP|=0x08       
 447      =2  #define   PWM2_OUTPUT_INVERSE     PNP|=0x04       
 448      =2  #define   PWM1_OUTPUT_INVERSE     PNP|=0x02       
 449      =2  #define   PWM0_OUTPUT_INVERSE     PNP|=0x01       
 450      =2  #define   PWM_OUTPUT_ALL_INVERSE  PNP=0xFF
 451      =2  #define   PWM5_OUTPUT_NORMAL      PNP&=0xDF       
 452      =2  #define   PWM4_OUTPUT_NORMAL      PNP&=0xEF       
 453      =2  #define   PWM3_OUTPUT_NORMAL      PNP&=0xF7       
 454      =2  #define   PWM2_OUTPUT_NORMAL      PNP&=0xFB       
 455      =2  #define   PWM1_OUTPUT_NORMAL      PNP&=0xFD       
 456      =2  #define   PWM0_OUTPUT_NORMAL      PNP&=0xFE       
 457      =2  #define   PWM_OUTPUT_ALL_NORMAL   PNP=0x00
 458      =2  //--------- PWM type define ------------------------------------
 459      =2  #define   PWM_EDGE_TYPE           PWMCON1&=~SET_BIT4
 460      =2  #define   PWM_CENTER_TYPE         PWMCON1|=SET_BIT4
 461      =2  //--------- PWM mode define ------------------------------------
 462      =2  #define   PWM_IMDEPENDENT_MODE    PWMCON1&=0x3F
 463      =2  #define   PWM_COMPLEMENTARY_MODE  PWMCON1|=0x40;PWMCON1&=0x7F
 464      =2  #define   PWM_SYNCHRONIZED_MODE   PWMCON1|=0x80;PWMCON1&=0xBF
 465      =2  #define   PWM_GP_MODE_ENABLE      PWMCON1|=0x20
 466      =2  #define   PWM_GP_MODE_DISABLE     PWMCON1&=0xDF
 467      =2  //--------- PMW interrupt setting ------------------------------
C51 COMPILER V9.00   SYSTEM                                                                06/13/2020 16:27:47 PAGE 40  

 468      =2  #define   PWM_FALLING_INT         BIT_TMP=EA;TA=0xAA;TA=0x55;SFRS=0x01;PWMINTC&=0xCF;TA=0xAA;TA=0x55;SFRS=0x00;
             -EA=BIT_TMP
 469      =2  #define   PWM_RISING_INT          BIT_TMP=EA;TA=0xAA;TA=0x55;SFRS=0x01;PWMINTC|=0x10;PWMCON0&=0xDF;TA=0xAA;TA=0x
             -55;SFRS=0x00;EA=BIT_TMP
 470      =2  #define   PWM_CENTRAL_POINT_INT   BIT_TMP=EA;TA=0xAA;TA=0x55;SFRS=0x01;PWMINTC|=0x20;PWMCON0&=0xEF;TA=0xAA;T
             -A=0x55;SFRS=0x00;EA=BIT_TMP
 471      =2  #define   PWM_PERIOD_END_INT      BIT_TMP=EA;TA=0xAA;TA=0x55;SFRS=0x01;PWMINTC|=0x30;TA=0xAA;TA=0x55;SFRS=0x00
             -;EA=BIT_TMP
 472      =2  //--------- PWM interrupt pin select ---------------------------
 473      =2  #define   PWM_INT_PWM0            BIT_TMP=EA;TA=0xAA;TA=0x55;SFRS=0x01;PWMINTC&=0xF8;TA=0xAA;TA=0x55;SFRS=0x00;EA
             -=BIT_TMP
 474      =2  #define   PWM_INT_PWM1            BIT_TMP=EA;TA=0xAA;TA=0x55;SFRS=0x01;PWMINTC&=0xF8;PWMINTC|=0x01;TA=0xAA;TA=0x5
             -5;SFRS=0x00;EA=BIT_TMP
 475      =2  #define   PWM_INT_PWM2            BIT_TMP=EA;TA=0xAA;TA=0x55;SFRS=0x01;PWMINTC&=0xF8;PWMINTC|=0x02;TA=0xAA;TA=0x5
             -5;SFRS=0x00;EA=BIT_TMP
 476      =2  #define   PWM_INT_PWM3            BIT_TMP=EA;TA=0xAA;TA=0x55;SFRS=0x01;PWMINTC&=0xF8;PWMINTC|=0x03;TA=0xAA;TA=0x5
             -5;SFRS=0x00;EA=BIT_TMP
 477      =2  #define   PWM_INT_PWM4            BIT_TMP=EA;TA=0xAA;TA=0x55;SFRS=0x01;PWMINTC&=0xF8;PWMINTC|=0x04;TA=0xAA;TA=0x5
             -5;SFRS=0x00;EA=BIT_TMP
 478      =2  #define   PWM_INT_PWM5            BIT_TMP=EA;TA=0xAA;TA=0x55;SFRS=0x01;PWMINTC&=0xF8;PWMINTC|=0x05;TA=0xAA;TA=0x5
             -5;SFRS=0x00;EA=BIT_TMP
 479      =2  //--------- PWM Dead time setting ------------------------------
 480      =2  #define   PWM45_DEADTIME_ENABLE     BIT_TMP=EA;EA=0;TA=0xAA;TA=0x55;PDTEN|=0x04;EA=BIT_TMP
 481      =2  #define   PWM34_DEADTIME_ENABLE     BIT_TMP=EA;EA=0;TA=0xAA;TA=0x55;PDTEN|=0x02;EA=BIT_TMP
 482      =2  #define   PWM01_DEADTIME_ENABLE     BIT_TMP=EA;EA=0;TA=0xAA;TA=0x55;PDTEN|=0x01;EA=BIT_TMP
 483      =2  
 484      =2  /*****************************************************************************************
 485      =2  * For ADC INIT setting 
 486      =2  *****************************************************************************************/
 487      =2  #define Enable_ADC_AIN0     ADCCON0&=0xF0;P17_Input_Mode;AINDIDS=0x00;AINDIDS|=SET_BIT0;ADCCON1|=SET_BIT0     
             -            //P17
 488      =2  #define Enable_ADC_AIN1     ADCCON0&=0xF0;ADCCON0|=0x01;P30_Input_Mode;AINDIDS=0x00;AINDIDS|=SET_BIT1;ADCCON
             -1|=SET_BIT0    //P30
 489      =2  #define Enable_ADC_AIN2     ADCCON0&=0xF0;ADCCON0|=0x02;P07_Input_Mode;AINDIDS=0x00;AINDIDS|=SET_BIT2;ADCCON
             -1|=SET_BIT0    //P07
 490      =2  #define Enable_ADC_AIN3     ADCCON0&=0xF0;ADCCON0|=0x03;P06_Input_Mode;AINDIDS=0x00;AINDIDS|=SET_BIT3;ADCCON
             -1|=SET_BIT0    //P06
 491      =2  #define Enable_ADC_AIN4     ADCCON0&=0xF0;ADCCON0|=0x04;P05_Input_Mode;AINDIDS=0x00;AINDIDS|=SET_BIT4;ADCCON
             -1|=SET_BIT0    //P05
 492      =2  #define Enable_ADC_AIN5     ADCCON0&=0xF0;ADCCON0|=0x05;P04_Input_Mode;AINDIDS=0x00;AINDIDS|=SET_BIT5;ADCCON
             -1|=SET_BIT0    //P04
 493      =2  #define Enable_ADC_AIN6     ADCCON0&=0xF0;ADCCON0|=0x06;P03_Input_Mode;AINDIDS=0x00;AINDIDS|=SET_BIT6;ADCCON
             -1|=SET_BIT0    //P03
 494      =2  #define Enable_ADC_AIN7     ADCCON0&=0xF0;ADCCON0|=0x07;P11_Input_Mode;AINDIDS=0x00;AINDIDS|=SET_BIT7;ADCCON
             -1|=SET_BIT0    //P11
 495      =2  #define Enable_ADC_BandGap  ADCCON0|=SET_BIT3;ADCCON0&=0xF8;ADCCON1|=SET_BIT0                                             //Band-
             -gap 1.22V
 496      =2  #define Disable_ADC         ADCCON1&=0xFE;
 497      =2  
 498      =2  #define PWM0_FALLINGEDGE_TRIG_ADC   ADCCON0&=~SET_BIT5;ADCCON0&=~SET_BIT4;ADCCON1&=~SET_BIT3;ADCCON1&=~SET_
             -BIT2;ADCCON1|=SET_BIT1
 499      =2  #define PWM2_FALLINGEDGE_TRIG_ADC   ADCCON0&=~SET_BIT5;ADCCON0|=SET_BIT4;ADCCON1&=~SET_BIT3;ADCCON1&=~SET_B
             -IT2;ADCCON1|=SET_BIT1
 500      =2  #define PWM4_FALLINGEDGE_TRIG_ADC   ADCCON0|=SET_BIT5;ADCCON0&=~SET_BIT4;ADCCON1&=~SET_BIT3;ADCCON1&=~SET_B
             -IT2;ADCCON1|=SET_BIT1
 501      =2  #define PWM0_RISINGEDGE_TRIG_ADC    ADCCON0&=~SET_BIT5;ADCCON0&=~SET_BIT4;ADCCON1&=~SET_BIT3;ADCCON1|=SET_BI
             -T2;ADCCON1|=SET_BIT1
 502      =2  #define PWM2_RISINGEDGE_TRIG_ADC    ADCCON0&=~SET_BIT5;ADCCON0|=SET_BIT4;ADCCON1&=~SET_BIT3;ADCCON1|=SET_BIT
             -2;ADCCON1|=SET_BIT1
 503      =2  #define PWM4_RISINGEDGE_TRIG_ADC    ADCCON0|=SET_BIT5;ADCCON0&=~SET_BIT4;ADCCON1&=~SET_BIT3;ADCCON1|=SET_BIT
             -2;ADCCON1|=SET_BIT1
 504      =2  #define PWM0_CENTRAL_TRIG_ADC       ADCCON0&=~SET_BIT5;ADCCON0&=~SET_BIT4;ADCCON1|=SET_BIT3;ADCCON1&=~SET_BIT
C51 COMPILER V9.00   SYSTEM                                                                06/13/2020 16:27:47 PAGE 41  

             -2;ADCCON1|=SET_BIT1
 505      =2  #define PWM2_CENTRAL_TRIG_ADC       ADCCON0&=~SET_BIT5;ADCCON0|=SET_BIT4;ADCCON1|=SET_BIT3;ADCCON1&=~SET_BIT2
             -;ADCCON1|=SET_BIT1
 506      =2  #define PWM4_CENTRAL_TRIG_ADC       ADCCON0|=SET_BIT5;ADCCON0&=~SET_BIT4;ADCCON1|=SET_BIT3;ADCCON1&=~SET_BIT2
             -;ADCCON1|=SET_BIT1
 507      =2  #define PWM0_END_TRIG_ADC           ADCCON0&=~SET_BIT5;ADCCON0&=~SET_BIT4;ADCCON1|=SET_BIT3;ADCCON1|=SET_BIT2;A
             -DCCON1|=SET_BIT1
 508      =2  #define PWM2_END_TRIG_ADC           ADCCON0&=~SET_BIT5;ADCCON0|=SET_BIT4;ADCCON1|=SET_BIT3;ADCCON1|=SET_BIT2;AD
             -CCON1|=SET_BIT1
 509      =2  #define PWM4_END_TRIG_ADC           ADCCON0|=SET_BIT5;ADCCON0&=~SET_BIT4;ADCCON1|=SET_BIT3;ADCCON1|=SET_BIT2;AD
             -CCON1|=SET_BIT1
 510      =2  
 511      =2  #define P04_FALLINGEDGE_TRIG_ADC    ADCCON0|=0x30;ADCCON1&=0xF3;ADCCON1|=SET_BIT1;ADCCON1&=~SET_BIT6
 512      =2  #define P13_FALLINGEDGE_TRIG_ADC    ADCCON0|=0x30;ADCCON1&=0xF3;ADCCON1|=SET_BIT1;ADCCON1|=SET_BIT6
 513      =2  #define P04_RISINGEDGE_TRIG_ADC     ADCCON0|=0x30;ADCCON1&=~SET_BIT3;ADCCON1|=SET_BIT2;ADCCON1|=SET_BIT1;ADC
             -CON1&=~SET_BIT6
 514      =2  #define P13_RISINGEDGE_TRIG_ADC     ADCCON0|=0x30;ADCCON1&=~SET_BIT3;ADCCON1|=SET_BIT2;ADCCON1|=SET_BIT1;ADC
             -CON1|=SET_BIT6
 515      =2  
 516      =2  /*****************************************************************************************
 517      =2  * For SPI INIT setting 
 518      =2  *****************************************************************************************/
 519      =2  #define   SPICLK_DIV2             clr_SPR0;clr_SPR1
 520      =2  #define   SPICLK_DIV4             set_SPR0;clr_SPR1
 521      =2  #define   SPICLK_DIV8             clr_SPR0;set_SPR1
 522      =2  #define   SPICLK_DIV16            set_SPR0;set_SPR1
 523      =2  #define   Enable_SPI_Interrupt    set_ESPI;set_EA
 524      =2  #define   SS    P15
 525      =2  
  23      =1  
  24      =1  #include "../common/task_def.h"
   1      =2  /**
   2      =2    ******************************************************************************
   3      =2    * @file    
   4      =2    * @author  
   5      =2    * @version 
   6      =2    * @date   
   7      =2    * @brief   os_switch_task()   
   8      =2                --When TIMESHARING=0, it must call this function to switch task.
   9      =2    ******************************************************************************  
  10      =2    * 
  11      =2    * 
  12      =2    ******************************************************************************
  13      =2    */
  14      =2  #ifndef    TASK_DEF_H
  15      =2  #define    TASK_DEF_H
  16      =2  
  17      =2  
  18      =2  /*-- includes  ---------------------------------------------------------------*/
  19      =2  #include "../includes/_sys_config.h"
   1      =3  /**
   2      =3    ******************************************************************************
   3      =3    * @file    
   4      =3    * @author  
   5      =3    * @version 
   6      =3    * @date   
   7      =3    * @brief   
   8      =3    ******************************************************************************  
   9      =3    * 
  10      =3    * 
  11      =3    ******************************************************************************
  12      =3    */
C51 COMPILER V9.00   SYSTEM                                                                06/13/2020 16:27:47 PAGE 42  

  13      =3  #ifndef    _SYS_CONFIG_H
           =3 #define    _SYS_CONFIG_H
           =3 
           =3 
           =3 /* C++ support */
           =3 #ifdef __cplusplus
           =3 extern "C" {
           =3 #endif
           =3 
           =3 
           =3 #include "./_sys_std.h"
           =3 
           =3 
           =3 /*< Configure the watchdog function.  0: disable; 1:enable. >*/
           =3 #define     WDT_ENABLE                                 1
           =3 
           =3 /*< Log output configuration. 0: disable; 1:enable. >*/
           =3 #define     LOG_ENABLE                                 1
           =3 
           =3 /*< Console configuration. 0: disable; 1:enable. >*/
           =3 #define     CONSOLE_ENABLE                             1
           =3 
           =3 
           =3 
           =3 
           =3 /* C++ support */
           =3 #ifdef __cplusplus
           =3 }
           =3 #endif
           =3 
           =3 
           =3 #endif   /* _SYS_CONFIG_H */
  45      =3  
  46      =3  /*---------------------- end of file -----------------------------------------*/
  20      =2  
  21      =2  #include <rtx51tny.h>
   1      =3  /*--------------------------------------------------------------------------
   2      =3  RTX51TNY.H
   3      =3  
   4      =3  Prototypes for RTX51 Tiny Real-Time Operating System Version 2.02
   5      =3  Copyright (c) 1988-2002 Keil Elektronik GmbH and Keil Software, Inc.
   6      =3  All rights reserved.
   7      =3  --------------------------------------------------------------------------*/
   8      =3  
   9      =3  #ifndef __RTX51TNY_H__
  10      =3  #define __RTX51TNY_H__
  11      =3  
  12      =3  
  13      =3  /* constants for os_wait function */
  14      =3  #define K_SIG      0x01              /* Wait for Signal   */
  15      =3  #define K_TMO      0x02              /* Wait for Timeout  */
  16      =3  #define K_IVL      0x80              /* Wait for Interval */
  17      =3  
  18      =3  /* function return values */
  19      =3  #define NOT_OK     0xFF              /* Parameter Error */
  20      =3  #define TMO_EVENT  0x08              /* Timeout Event   */
  21      =3  #define SIG_EVENT  0x04              /* Signal  Event   */
  22      =3  #define RDY_EVENT  0x80              /* Ready   Event   */
  23      =3  
  24      =3  extern unsigned char os_create_task     (unsigned char task_id);
  25      =3  extern unsigned char os_delete_task     (unsigned char task_id);
  26      =3  
C51 COMPILER V9.00   SYSTEM                                                                06/13/2020 16:27:47 PAGE 43  

  27      =3  extern unsigned char os_wait            (unsigned char typ, 
  28      =3                                           unsigned char ticks,
  29      =3                                           unsigned int dummy);
  30      =3  extern unsigned char os_wait1           (unsigned char typ);
  31      =3  extern unsigned char os_wait2           (unsigned char typ,
  32      =3                                           unsigned char ticks);
  33      =3  
  34      =3  extern unsigned char os_send_signal     (unsigned char task_id);
  35      =3  extern unsigned char os_clear_signal    (unsigned char task_id);
  36      =3  extern unsigned char isr_send_signal    (unsigned char task_id);
  37      =3  
  38      =3  extern void          os_set_ready       (unsigned char task_id);
  39      =3  extern void          isr_set_ready      (unsigned char task_id);
  40      =3  
  41      =3  extern unsigned char os_running_task_id (void);
  42      =3  extern unsigned char os_switch_task     (void); 
  43      =3  
  44      =3  extern void          os_reset_interval  (unsigned char ticks);
  45      =3  
  46      =3  #endif
  22      =2  
  23      =2  
  24      =2  /*-- defined  ----------------------------------------------------------------*/
  25      =2  /*< User defined. >*/
  26      =2  #define      GET_SYS_TICK()                   get_systick()
  27      =2  
  28      =2  
  29      =2  
  30      =2  /*< Task run period. >*/
  31      =2  #define      TASK_PERIOD                      TIMESHARING
  32      =2  
  33      =2  
  34      =2  
  35      =2  /*< Task timer defined. >*/
  36      =2  #define      TASK_TIMER_BEGIN(tick, period)                                    \
  37      =2               do{                                                               \
  38      =2                   if((GET_SYS_TICK()-tick) >= period)                           \
  39      =2                   {                                                             \
  40      =2                     tick = GET_SYS_TICK();                                       
  41      =2  
  42      =2  #define      TASK_TIMER_END(tick)                                              \ 
  43      =2                   }                                                             \                
  44      =2               }while(0)
  45      =2  
  46      =2  
  47      =2  
  48      =2  
  49      =2  
  50      =2  #endif   /* MAIN_H */
  51      =2  
  52      =2  /*---------------------- end of file -----------------------------------------*/
  25      =1  #include "../common/ring_buffer.h"
   1      =2  /**
   2      =2    ******************************************************************************
   3      =2    * @file    
   4      =2    * @author  
   5      =2    * @version 
   6      =2    * @date   
   7      =2    * @brief   
   8      =2    ******************************************************************************  
   9      =2    * 
  10      =2    * 
C51 COMPILER V9.00   SYSTEM                                                                06/13/2020 16:27:47 PAGE 44  

  11      =2    ******************************************************************************
  12      =2    */
  13      =2  #ifndef  RING_BUFFER_H
  14      =2  #define  RING_BUFFER_H
  15      =2  
  16      =2  /*-- includes ----------------------------------------------------------------*/
  17      =2  #include "../includes/_sys_std.h"
   1      =3  /**
   2      =3    ******************************************************************************
   3      =3    * @file    
   4      =3    * @author  
   5      =3    * @version 
   6      =3    * @date   
   7      =3    * @brief   
   8      =3    ******************************************************************************  
   9      =3    * 
  10      =3    * 
  11      =3    ******************************************************************************
  12      =3    */
  13      =3  #ifndef  _SYS_STD_H
           =3 #define  _SYS_STD_H
           =3 
           =3 
           =3 /* C++支持 */
           =3 #ifdef __cplusplus
           =3 extern "C" {
           =3 #endif
           =3  
           =3 
           =3 
           =3 /*!< Signed integer types  */
           =3 typedef         signed char             s8_t;
           =3 typedef         signed int              s16_t;
           =3 typedef         signed long             s32_t;
           =3 
           =3 /*!< Unsigned integer types  */
           =3 typedef         unsigned char           u8_t;
           =3 typedef         unsigned int            u16_t;
           =3 typedef         unsigned long           u32_t;
           =3 
           =3 
           =3 #define       XDATA    xdata
           =3 #define       IDATA    idata
           =3 #define       BDATA    bdata
           =3 #define       DATA     data
           =3 #define       CODE     code
           =3 
           =3 
           =3 /* 把宏参数变为一个字符串 */
           =3 #define     _STRING(x)                  #x
           =3 #define     STRING(x)                   _STRING(x)
           =3 
           =3 /* 把宏参数连接在一起 */
           =3 #define     _CONNECT_MACRO(x,y)         x##y
           =3 #define     CONNECT_MACRO(x,y)          _CONNECT_MACRO(x,y)
           =3 
           =3 
           =3 /* 状态类型 */
           =3 typedef  enum
           =3 {
           =3   OPERATE_OK  = 0,
           =3   OPERATE_BUSY,
C51 COMPILER V9.00   SYSTEM                                                                06/13/2020 16:27:47 PAGE 45  

           =3   OPERATE_TIMEOUT,
           =3   OPERATE_FAIL,
           =3 }OpsStatus;
           =3 
           =3 
           =3 #ifndef  _IN_LINE_
           =3   #define  _IN_LINE_   inline
           =3 #endif
           =3 
           =3 #ifndef   BOOL
           =3   #define   BOOL      bool
           =3 #endif
           =3 
           =3 #ifndef   NULL
           =3   #define   NULL     (void*)0
           =3 #endif
           =3 
           =3 
           =3 #ifndef  TRUE
           =3   #define   TRUE    1
           =3 #endif
           =3 
           =3 #ifndef  FALSE
           =3   #define   FALSE    0
           =3 #endif
           =3 
           =3 /* 纯虚函数关键字 */
           =3 #ifndef   VIRTUAL
           =3   #define   VIRTUAL
           =3 #endif
           =3 
           =3 
           =3 
           =3 
           =3 #ifdef __cplusplus
           =3 }
           =3 #endif
           =3 
           =3 #endif    /* _SYS_STD_H */
  95      =3  
  96      =3  /*------------------ end of file ---------------------------------------------*/
  18      =2  
  19      =2  
  20      =2  /*-- defined -----------------------------------------------------------------*/
  21      =2  
  22      =2  
  23      =2  
  24      =2  
  25      =2  /*-- typedef -----------------------------------------------------------------*/
  26      =2  typedef    u8_t     rb_depth_t;
  27      =2  typedef    u8_t     rb_data_type;
  28      =2  
  29      =2  
  30      =2  //struct  RingBuffStruct;
  31      =2  
  32      =2  struct  RingBuffStruct  
  33      =2  {
  34      =2    rb_depth_t      posPut;    /* The current location of the ring buffer. */
  35      =2    rb_depth_t      posGet;    /* The current fetch position of the buffer. */
  36      =2    rb_depth_t      depth;     /* The total number of elements in the ring buffer. */
  37      =2    rb_depth_t      remain;
  38      =2    
C51 COMPILER V9.00   SYSTEM                                                                06/13/2020 16:27:47 PAGE 46  

  39      =2    rb_data_type*   ptBuffer;  /* Ring buffer pointer. */
  40      =2  };
  41      =2  
  42      =2  typedef  struct  RingBuffStruct  RingBuffObj;
  43      =2  
  44      =2  
  45      =2  /*-- functions ---------------------------------------------------------------*/
  46      =2  extern    void            ring_buff_create(RingBuffObj* obj, rb_depth_t depth, \
  47      =2                                             rb_data_type* ptBuffer);
  48      =2  extern    rb_depth_t      check_ring_buff(RingBuffObj* thiz);
  49      =2  extern    rb_data_type    get_ring_buff_data(RingBuffObj* thiz);
  50      =2  extern    void            put_ring_buff_data(RingBuffObj* thiz, rb_data_type dat);
  51      =2  
  52      =2  
  53      =2  #endif    /* RING_BUFFER_H */
  54      =2  
  55      =2  /*------------------ end of file ---------------------------------------------*/
  26      =1  
  27      =1  
  28      =1  
  29      =1  
  30      =1  /*-- defined  ----------------------------------------------------------------*/
  31      =1  typedef      u8_t                             tick_size_t;
  32      =1  
  33      =1  
  34      =1  #define      SYSTEM_TASK_PRIORITY             0
  35      =1  #define      BUTTON_TASK_PRIORITY             1
  36      =1  #define      LED_TASK_PRIORITY                2
  37      =1  #define      PRINT_TASK_PRIORITY              3
  38      =1  #define      CONSOLE_TASK_PRIORITY            4
  39      =1  
  40      =1  
  41      =1  
  42      =1  /*-- functions  ---------------------------------------------------------------*/
  43      =1  extern     tick_size_t    get_systick(void);
  44      =1  
  45      =1  extern     void           mcu_reset(void);
  46      =1  extern     void           mcu_wdt_init(void);
  47      =1  extern     void           mcu_wdt_feed(void);
  48      =1  
  49      =1  
  50      =1  #endif   /* SYSTEM_H */
  51      =1  
  52      =1  /*---------------------- end of file -----------------------------------------*/
  15          #include "./led.h"
   1      =1  /**
   2      =1    ******************************************************************************
   3      =1    * @file    
   4      =1    * @author  
   5      =1    * @version 
   6      =1    * @date   
   7      =1    * @brief   
   8      =1    ******************************************************************************  
   9      =1    * 
  10      =1    * 
  11      =1    ******************************************************************************
  12      =1    */
  13      =1  #ifndef    LED_H
  14      =1  #define    LED_H
  15      =1  
  16      =1  
  17      =1  /*-- includes  ---------------------------------------------------------------*/
C51 COMPILER V9.00   SYSTEM                                                                06/13/2020 16:27:47 PAGE 47  

  18      =1  #include "./system.h"
   1      =2  /**
   2      =2    ******************************************************************************
   3      =2    * @file    
   4      =2    * @author  
   5      =2    * @version 
   6      =2    * @date   
   7      =2    * @brief   
   8      =2    ******************************************************************************  
   9      =2    * 
  10      =2    * 
  11      =2    ******************************************************************************
  12      =2    */
  13      =2  #ifndef    SYSTEM_H
           =2 #define    SYSTEM_H
           =2 
           =2 
           =2 /*-- includes  ---------------------------------------------------------------*/
           =2 #include <stdio.h>
           =2 #include "../includes/_sys_config.h"
           =2 #include "../mcu/N76E003.h"
           =2 #include "../mcu/SFR_Macro.h"
           =2 #include "../mcu/Function_define.h"
           =2 
           =2 #include "../common/task_def.h"
           =2 #include "../common/ring_buffer.h"
           =2 
           =2 
           =2 
           =2 
           =2 /*-- defined  ----------------------------------------------------------------*/
           =2 typedef      u8_t                             tick_size_t;
           =2 
           =2 
           =2 #define      SYSTEM_TASK_PRIORITY             0
           =2 #define      BUTTON_TASK_PRIORITY             1
           =2 #define      LED_TASK_PRIORITY                2
           =2 #define      PRINT_TASK_PRIORITY              3
           =2 #define      CONSOLE_TASK_PRIORITY            4
           =2 
           =2 
           =2 
           =2 /*-- functions  ---------------------------------------------------------------*/
           =2 extern     tick_size_t    get_systick(void);
           =2 
           =2 extern     void           mcu_reset(void);
           =2 extern     void           mcu_wdt_init(void);
           =2 extern     void           mcu_wdt_feed(void);
           =2 
           =2 
           =2 #endif   /* SYSTEM_H */
  51      =2  
  52      =2  /*---------------------- end of file -----------------------------------------*/
  19      =1  
  20      =1  
  21      =1  
  22      =1  /*-- defined  ----------------------------------------------------------------*/
  23      =1  typedef  enum
  24      =1  {
  25      =1    LED1 = 0,
  26      =1    LED2,
  27      =1    LED3,
C51 COMPILER V9.00   SYSTEM                                                                06/13/2020 16:27:47 PAGE 48  

  28      =1    LED4,
  29      =1  }LedDef;
  30      =1  
  31      =1  
  32      =1  typedef  enum
  33      =1  {
  34      =1    LED_OFF = 0,
  35      =1    LED_ON,
  36      =1    LED_TOGGLE,
  37      =1  }LedWrType;
  38      =1  
  39      =1  
  40      =1  /*-- functions  ---------------------------------------------------------------*/
  41      =1  void   led_write(LedDef led, LedWrType wr);
  42      =1  
  43      =1  
  44      =1  #endif   /* LED_H */
  45      =1  
  46      =1  /*---------------------- end of file -----------------------------------------*/
  16          #include "./button.h"
   1      =1  /**
   2      =1    ******************************************************************************
   3      =1    * @file    
   4      =1    * @author  
   5      =1    * @version 
   6      =1    * @date   
   7      =1    * @brief   
   8      =1    ******************************************************************************  
   9      =1    * 
  10      =1    * 
  11      =1    ******************************************************************************
  12      =1    */
  13      =1  #ifndef    BUTTON_H
  14      =1  #define    BUTTON_H
  15      =1  
  16      =1  
  17      =1  /*-- includes  ---------------------------------------------------------------*/
  18      =1  #include "./system.h"
   1      =2  /**
   2      =2    ******************************************************************************
   3      =2    * @file    
   4      =2    * @author  
   5      =2    * @version 
   6      =2    * @date   
   7      =2    * @brief   
   8      =2    ******************************************************************************  
   9      =2    * 
  10      =2    * 
  11      =2    ******************************************************************************
  12      =2    */
  13      =2  #ifndef    SYSTEM_H
           =2 #define    SYSTEM_H
           =2 
           =2 
           =2 /*-- includes  ---------------------------------------------------------------*/
           =2 #include <stdio.h>
           =2 #include "../includes/_sys_config.h"
           =2 #include "../mcu/N76E003.h"
           =2 #include "../mcu/SFR_Macro.h"
           =2 #include "../mcu/Function_define.h"
           =2 
           =2 #include "../common/task_def.h"
C51 COMPILER V9.00   SYSTEM                                                                06/13/2020 16:27:47 PAGE 49  

           =2 #include "../common/ring_buffer.h"
           =2 
           =2 
           =2 
           =2 
           =2 /*-- defined  ----------------------------------------------------------------*/
           =2 typedef      u8_t                             tick_size_t;
           =2 
           =2 
           =2 #define      SYSTEM_TASK_PRIORITY             0
           =2 #define      BUTTON_TASK_PRIORITY             1
           =2 #define      LED_TASK_PRIORITY                2
           =2 #define      PRINT_TASK_PRIORITY              3
           =2 #define      CONSOLE_TASK_PRIORITY            4
           =2 
           =2 
           =2 
           =2 /*-- functions  ---------------------------------------------------------------*/
           =2 extern     tick_size_t    get_systick(void);
           =2 
           =2 extern     void           mcu_reset(void);
           =2 extern     void           mcu_wdt_init(void);
           =2 extern     void           mcu_wdt_feed(void);
           =2 
           =2 
           =2 #endif   /* SYSTEM_H */
  51      =2  
  52      =2  /*---------------------- end of file -----------------------------------------*/
  19      =1  
  20      =1  
  21      =1  
  22      =1  
  23      =1  
  24      =1  /*-- functions  ---------------------------------------------------------------*/
  25      =1  
  26      =1  
  27      =1  
  28      =1  #endif   /* BUTTON_H */
  29      =1  
  30      =1  /*---------------------- end of file -----------------------------------------*/
  17          #include "./print.h"
   1      =1  /**
   2      =1    ******************************************************************************
   3      =1    * @file    
   4      =1    * @author  
   5      =1    * @version 
   6      =1    * @date   
   7      =1    * @brief   
   8      =1    ******************************************************************************  
   9      =1    * 
  10      =1    * 
  11      =1    ******************************************************************************
  12      =1    */
  13      =1  #ifndef    PRINT_H
  14      =1  #define    PRINT_H
  15      =1  
  16      =1  
  17      =1  /*-- includes  ---------------------------------------------------------------*/
  18      =1  #include "./system.h"
   1      =2  /**
   2      =2    ******************************************************************************
   3      =2    * @file    
C51 COMPILER V9.00   SYSTEM                                                                06/13/2020 16:27:47 PAGE 50  

   4      =2    * @author  
   5      =2    * @version 
   6      =2    * @date   
   7      =2    * @brief   
   8      =2    ******************************************************************************  
   9      =2    * 
  10      =2    * 
  11      =2    ******************************************************************************
  12      =2    */
  13      =2  #ifndef    SYSTEM_H
           =2 #define    SYSTEM_H
           =2 
           =2 
           =2 /*-- includes  ---------------------------------------------------------------*/
           =2 #include <stdio.h>
           =2 #include "../includes/_sys_config.h"
           =2 #include "../mcu/N76E003.h"
           =2 #include "../mcu/SFR_Macro.h"
           =2 #include "../mcu/Function_define.h"
           =2 
           =2 #include "../common/task_def.h"
           =2 #include "../common/ring_buffer.h"
           =2 
           =2 
           =2 
           =2 
           =2 /*-- defined  ----------------------------------------------------------------*/
           =2 typedef      u8_t                             tick_size_t;
           =2 
           =2 
           =2 #define      SYSTEM_TASK_PRIORITY             0
           =2 #define      BUTTON_TASK_PRIORITY             1
           =2 #define      LED_TASK_PRIORITY                2
           =2 #define      PRINT_TASK_PRIORITY              3
           =2 #define      CONSOLE_TASK_PRIORITY            4
           =2 
           =2 
           =2 
           =2 /*-- functions  ---------------------------------------------------------------*/
           =2 extern     tick_size_t    get_systick(void);
           =2 
           =2 extern     void           mcu_reset(void);
           =2 extern     void           mcu_wdt_init(void);
           =2 extern     void           mcu_wdt_feed(void);
           =2 
           =2 
           =2 #endif   /* SYSTEM_H */
  51      =2  
  52      =2  /*---------------------- end of file -----------------------------------------*/
  19      =1  
  20      =1  
  21      =1  
  22      =1  /*-- defined  ----------------------------------------------------------------*/
  23      =1  
  24      =1  
  25      =1  /*< Log configuration. >*/
  26      =1  #if   LOG_ENABLE
  27      =1    #define         LOG              printf 
  28      =1  #else 
           =1   #define         LOG 
           =1 #endif 
  31      =1  
C51 COMPILER V9.00   SYSTEM                                                                06/13/2020 16:27:47 PAGE 51  

  32      =1  
  33      =1  
  34      =1  typedef   void  (*PrintRxCallbackFunc)(u8_t dat);
  35      =1  
  36      =1  
  37      =1  
  38      =1  /*-- functions  ---------------------------------------------------------------*/
  39      =1  extern   void     print_rx_callback_register(PrintRxCallbackFunc  func);
  40      =1  extern   void     my_printf(char * c, ...);
  41      =1  
  42      =1  
  43      =1  #endif   /* PRINT_H */
  44      =1  
  45      =1  /*---------------------- end of file -----------------------------------------*/
  18          #include "./console.h"
   1      =1  /**
   2      =1    ******************************************************************************
   3      =1    * @file    
   4      =1    * @author  
   5      =1    * @version 
   6      =1    * @date   
   7      =1    * @brief   
   8      =1    ******************************************************************************  
   9      =1    * 
  10      =1    * 
  11      =1    ******************************************************************************
  12      =1    */
  13      =1  #ifndef    CONSOLE_H
  14      =1  #define    CONSOLE_H
  15      =1  
  16      =1  
  17      =1  /*-- includes  ---------------------------------------------------------------*/
  18      =1  #include "./system.h"
   1      =2  /**
   2      =2    ******************************************************************************
   3      =2    * @file    
   4      =2    * @author  
   5      =2    * @version 
   6      =2    * @date   
   7      =2    * @brief   
   8      =2    ******************************************************************************  
   9      =2    * 
  10      =2    * 
  11      =2    ******************************************************************************
  12      =2    */
  13      =2  #ifndef    SYSTEM_H
           =2 #define    SYSTEM_H
           =2 
           =2 
           =2 /*-- includes  ---------------------------------------------------------------*/
           =2 #include <stdio.h>
           =2 #include "../includes/_sys_config.h"
           =2 #include "../mcu/N76E003.h"
           =2 #include "../mcu/SFR_Macro.h"
           =2 #include "../mcu/Function_define.h"
           =2 
           =2 #include "../common/task_def.h"
           =2 #include "../common/ring_buffer.h"
           =2 
           =2 
           =2 
           =2 
C51 COMPILER V9.00   SYSTEM                                                                06/13/2020 16:27:47 PAGE 52  

           =2 /*-- defined  ----------------------------------------------------------------*/
           =2 typedef      u8_t                             tick_size_t;
           =2 
           =2 
           =2 #define      SYSTEM_TASK_PRIORITY             0
           =2 #define      BUTTON_TASK_PRIORITY             1
           =2 #define      LED_TASK_PRIORITY                2
           =2 #define      PRINT_TASK_PRIORITY              3
           =2 #define      CONSOLE_TASK_PRIORITY            4
           =2 
           =2 
           =2 
           =2 /*-- functions  ---------------------------------------------------------------*/
           =2 extern     tick_size_t    get_systick(void);
           =2 
           =2 extern     void           mcu_reset(void);
           =2 extern     void           mcu_wdt_init(void);
           =2 extern     void           mcu_wdt_feed(void);
           =2 
           =2 
           =2 #endif   /* SYSTEM_H */
  51      =2  
  52      =2  /*---------------------- end of file -----------------------------------------*/
  19      =1  
  20      =1  
  21      =1  
  22      =1  /*-- defined  ----------------------------------------------------------------*/
  23      =1  typedef  struct
  24      =1  {
  25      =1    u8_t*  name;
  26      =1    u8_t*  brief;
  27      =1    void   (*call)(void);
  28      =1  }ConsoleItemDef;
  29      =1  
  30      =1  
  31      =1  
  32      =1  /*-- functions  ---------------------------------------------------------------*/
  33      =1  
  34      =1  
  35      =1  
  36      =1  
  37      =1  #endif   /* CONSOLE_H */
  38      =1  
  39      =1  /*---------------------- end of file -----------------------------------------*/
  19          
  20          
  21          
  22          /*-- defined -----------------------------------------------------------------*/
  23          #define      TIME_MS(x)                 (x)
  24          
  25          
  26          /*-- private variables -------------------------------------------------------*/
  27          static  bit    BIT_TMP;
  28          
  29          static  volatile   tick_size_t DATA _sysTickCnt = 0;
  30          
  31          static   tick_size_t XDATA systemTaskBaseTr = 0; 
  32          
  33          
  34          /*-- functions ---------------------------------------------------------------*/
  35          static    void    mcu_clk_init(void);
  36          
C51 COMPILER V9.00   SYSTEM                                                                06/13/2020 16:27:47 PAGE 53  

  37          static    void    system_task_timer_schedule(void);
  38          static    void    system_task_logic_schedule(void);
  39          
  40          
  41          
  42          
  43          /**           
  44            * @brief            
  45            * @param    
  46            * @return  
  47            * @note
  48            */
  49          void   _systick_increase(void)
  50          {
  51   1        _sysTickCnt++;
  52   1      }
  53          
  54          
  55          /**           
  56            * @brief            
  57            * @param    
  58            * @return  
  59            * @note
  60            */
  61          u8_t   get_systick(void)
  62          {
  63   1        return  _sysTickCnt;
  64   1      }
  65          
  66          
  67          /**           
  68            * @brief          
  69            * @param    
  70            * @return  
  71            * @note
  72            */
  73          void  mcu_reset(void)
  74          {
  75   1        TA = 0xAA;
  76   1        TA = 0x55;
  77   1        set_SWRST;
  78   1      }
  79          
  80          
  81          /**           
  82            * @brief            
  83            * @param    
  84            * @return  
  85            * @note
  86            */
  87          void   mcu_wdt_init(void)
  88          {
  89   1      #if   WDT_ENABLE
  90   1        TA=0xAA; 
  91   1        TA=0x55; 
  92   1        WDCON |= 0x07;         /* Setting WDT prescale,1.638 s */
  93   1      
  94   1        set_WDTR;              /* WDT run */
  95   1        set_WDCLR;             /* Clear WDT timer */
  96   1        set_EWDT;              /* Enable wdt interrupt. */
  97   1      #endif
  98   1      }
C51 COMPILER V9.00   SYSTEM                                                                06/13/2020 16:27:47 PAGE 54  

  99          
 100          
 101          /**           
 102            * @brief            
 103            * @param    
 104            * @return  
 105            * @note
 106            */
 107          void   mcu_wdt_feed(void)
 108          {
 109   1      #if   WDT_ENABLE
 110   1        set_WDCLR;
 111   1      #endif
 112   1      }
 113          
 114          /**           
 115            * @brief            
 116            * @param    
 117            * @return  
 118            * @note
 119            */
 120          void   mcu_gpio_all_deinit(void)
 121          {
 122   1        Set_All_GPIO_Quasi_Mode;
 123   1      }
 124          
 125          
 126          /**           
 127            * @brief   HIRC enable         
 128            * @param    
 129            * @return  
 130            * @note    MCU power on system clock is HIRC (16 MHz).
 131                       Please keep P3.0 HIGH before you want to modify Fsys to LIRC.
 132            */
 133          static   void  mcu_clk_init(void)
 134          {
 135   1        clr_EA;                           /* disable interrupts*/
 136   1      
 137   1        set_HIRCEN;                       /* HIRC 16MHz */
 138   1        while((CKSWT&SET_BIT5)==0);       /* check ready */
 139   1        clr_OSC1;
 140   1        clr_OSC0;
 141   1        while((CKEN&SET_BIT0)==1);        /* check system clock switching OK or NG */
 142   1      
 143   1        set_EA;                           /* enable interrupts*/
 144   1      }
 145          
 146          
 147          /**           
 148            * @brief            
 149            * @param    
 150            * @return  
 151            * @note
 152            */ 
 153          static  void  system_task_timer_schedule(void)
 154          {
 155   1        TASK_TIMER_BEGIN(systemTaskBaseTr, TIME_MS(100));
 156   3      
 157   3      
 158   3        TASK_TIMER_END(systemTaskBaseTr);
 159   1      }
 160          
C51 COMPILER V9.00   SYSTEM                                                                06/13/2020 16:27:47 PAGE 55  

 161          
 162          /**           
 163            * @brief            
 164            * @param    
 165            * @return  
 166            * @note
 167            */
 168          static  void  system_task_logic_schedule(void)
 169          {    
 170   1        mcu_wdt_feed(); 
 171   1      }
 172          
 173          /**           
 174            * @brief            
 175            * @param    
 176            * @return  
 177            * @note
 178            */
 179          void  system_task (void)  _task_   SYSTEM_TASK_PRIORITY
 180          {
 181   1        mcu_clk_init();
 182   1        mcu_gpio_all_deinit();
 183   1      
 184   1        mcu_wdt_init();
 185   1        mcu_wdt_feed();
 186   1      
 187   1        os_create_task(BUTTON_TASK_PRIORITY);
 188   1        os_create_task(LED_TASK_PRIORITY);
 189   1      
 190   1      #if  LOG_ENABLE
 191   1        os_create_task(PRINT_TASK_PRIORITY);
 192   1      #endif
 193   1      
 194   1      #if  CONSOLE_ENABLE
 195   1        os_create_task(CONSOLE_TASK_PRIORITY);
 196   1      #endif
 197   1      
 198   1      
 199   1        while(1)
 200   1        {
 201   2          system_task_timer_schedule();
 202   2          system_task_logic_schedule();
 203   2        }
 204   1      }
 205          
 206          
 207          
 208          
 209          
 210          /*---------------------- end of file -----------------------------------------*/
C51 COMPILER V9.00   SYSTEM                                                                06/13/2020 16:27:47 PAGE 56  

NAME                                    CLASS   MSPACE  TYPE    OFFSET  SIZE
====                                    =====   ======  ====    ======  ====


P0M1 . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00B1H  1
P1M1 . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00B3H  1
P0M2 . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00B2H  1
P0 . . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   0080H  1
s8_t . . . . . . . . . . . . . . . . .  TYPEDEF  -----  CHAR     -----  1
P1M2 . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00B4H  1
P1 . . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   0090H  1
P3M1 . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00ACH  1
P2 . . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00A0H  1
u8_t . . . . . . . . . . . . . . . . .  TYPEDEF  -----  U_CHAR   -----  1
P3 . . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00B0H  1
P3M2 . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00ADH  1
systemTaskBaseTr . . . . . . . . . . .  STATIC   XDATA  U_CHAR   0000H  1
LedWrType. . . . . . . . . . . . . . .  TYPEDEF  -----  U_CHAR   -----  1
EA . . . . . . . . . . . . . . . . . .  ABSBIT   -----  BIT      00AFH  1
LED1 . . . . . . . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
PWMCON0. . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00D8H  1
LED2 . . . . . . . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
LED3 . . . . . . . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
LED4 . . . . . . . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
IE . . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00A8H  1
CKSWT. . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   0096H  1
OPERATE_OK . . . . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
mcu_wdt_init . . . . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
OPERATE_FAIL . . . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
LED_OFF. . . . . . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
size_t . . . . . . . . . . . . . . . .  TYPEDEF  -----  U_INT    -----  2
TA . . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00C7H  1
IP . . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00B8H  1
OPERATE_TIMEOUT. . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
_systick_increase. . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
tick_size_t. . . . . . . . . . . . . .  TYPEDEF  -----  U_CHAR   -----  1
RingBuffStruct . . . . . . . . . . . .  * TAG *  -----  STRUCT   -----  7
  posPut . . . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0000H  1
  posGet . . . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0001H  1
  depth. . . . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0002H  1
  remain . . . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0003H  1
  ptBuffer . . . . . . . . . . . . . .  MEMBER   -----  PTR      0004H  3
rb_depth_t . . . . . . . . . . . . . .  TYPEDEF  -----  U_CHAR   -----  1
CKEN . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   0097H  1
LedDef . . . . . . . . . . . . . . . .  TYPEDEF  -----  U_CHAR   -----  1
s32_t. . . . . . . . . . . . . . . . .  TYPEDEF  -----  LONG     -----  4
u32_t. . . . . . . . . . . . . . . . .  TYPEDEF  -----  U_LONG   -----  4
s16_t. . . . . . . . . . . . . . . . .  TYPEDEF  -----  INT      -----  2
get_systick. . . . . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
u16_t. . . . . . . . . . . . . . . . .  TYPEDEF  -----  U_INT    -----  2
BIT_TMP. . . . . . . . . . . . . . . .  STATIC   DATA   BIT      0000H  1
SCON . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   0098H  1
RingBuffObj. . . . . . . . . . . . . .  TYPEDEF  -----  STRUCT   -----  7
  posPut . . . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0000H  1
  posGet . . . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0001H  1
  depth. . . . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0002H  1
  remain . . . . . . . . . . . . . . .  MEMBER   -----  U_CHAR   0003H  1
  ptBuffer . . . . . . . . . . . . . .  MEMBER   -----  PTR      0004H  3
TCON . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   0088H  1
OPERATE_BUSY . . . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
OpsStatus. . . . . . . . . . . . . . .  TYPEDEF  -----  U_CHAR   -----  1
C51 COMPILER V9.00   SYSTEM                                                                06/13/2020 16:27:47 PAGE 57  

NAME                                    CLASS   MSPACE  TYPE    OFFSET  SIZE
====                                    =====   ======  ====    ======  ====


CHPCON . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   009FH  1
system_task. . . . . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
SCON_1 . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00F8H  1
mcu_reset. . . . . . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
_os_create_task. . . . . . . . . . . .  EXTERN   CODE   PROC     -----  -----
LED_ON . . . . . . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
EIE. . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   009BH  1
mcu_gpio_all_deinit. . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
ADCCON0. . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00E8H  1
I2CON. . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00C0H  1
system_task_logic_schedule . . . . . .  STATIC   CODE   PROC     0000H  -----
T2CON. . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00C8H  1
mcu_wdt_feed . . . . . . . . . . . . .  PUBLIC   CODE   PROC     0000H  -----
_sysTickCnt. . . . . . . . . . . . . .  STATIC   DATA   U_CHAR   0000H  1
rb_data_type . . . . . . . . . . . . .  TYPEDEF  -----  U_CHAR   -----  1
system_task_timer_schedule . . . . . .  STATIC   CODE   PROC     0000H  -----
mcu_clk_init . . . . . . . . . . . . .  STATIC   CODE   PROC     0000H  -----
ConsoleItemDef . . . . . . . . . . . .  TYPEDEF  -----  STRUCT   -----  9
  name . . . . . . . . . . . . . . . .  MEMBER   -----  PTR      0000H  3
  brief. . . . . . . . . . . . . . . .  MEMBER   -----  PTR      0003H  3
  call . . . . . . . . . . . . . . . .  MEMBER   -----  PTR      0006H  3
LED_TOGGLE . . . . . . . . . . . . . .  E_CONST  -----  U_CHAR   -----  1
PSW. . . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00D0H  1
WDCON. . . . . . . . . . . . . . . . .  SFR      DATA   U_CHAR   00AAH  1
PrintRxCallbackFunc. . . . . . . . . .  TYPEDEF  -----  PTR      -----  3


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    254    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =      1    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =      1    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =      1    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
